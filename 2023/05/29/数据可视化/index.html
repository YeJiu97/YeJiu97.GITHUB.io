<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.3.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css" integrity="sha256-AbA177XfpSnFEvgpYu1jMygiLabzPCJCRIBtR5jGc0k=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"example.com","root":"/","images":"/images","scheme":"Pisces","darkmode":false,"version":"8.13.1","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}}</script><script src="/js/config.js"></script>

    <meta name="description" content="Python编程：从入门到实践 数据可视化部分">
<meta property="og:type" content="article">
<meta property="og:title" content="数据可视化">
<meta property="og:url" content="http://example.com/2023/05/29/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/index.html">
<meta property="og:site_name" content="夜久">
<meta property="og:description" content="Python编程：从入门到实践 数据可视化部分">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://example.com/2023/05/29/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/-bd1p42xy8-1685354464576-1.png">
<meta property="og:image" content="http://example.com/2023/05/29/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/ak93qr8uem-1685354464577-2.png">
<meta property="og:image" content="http://example.com/2023/05/29/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/x7qy-n7gg9-1685354464577-3.png">
<meta property="og:image" content="http://example.com/2023/05/29/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/jkowrfftsh-1685354464577-4.png">
<meta property="og:image" content="http://example.com/2023/05/29/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/dy7z5u_fxo-1685354464577-5.png">
<meta property="og:image" content="http://example.com/2023/05/29/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/3wfw29gkou-1685354464577-6.png">
<meta property="og:image" content="http://example.com/2023/05/29/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/g2aj2u_alr-1685354464577-8.png">
<meta property="og:image" content="http://example.com/2023/05/29/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/80s0uvypfi-1685354464577-7.png">
<meta property="og:image" content="http://example.com/2023/05/29/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/p74uotp6l9-1685354464577-9.png">
<meta property="og:image" content="http://example.com/2023/05/29/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/0yzkm_o5gy-1685354464577-10.png">
<meta property="og:image" content="http://example.com/2023/05/29/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/5opeizaanw-1685354464577-11.png">
<meta property="og:image" content="http://example.com/2023/05/29/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/02ptjaehj5-1685354464577-12.png">
<meta property="og:image" content="http://example.com/2023/05/29/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/evey-ty017-1685354464577-13.png">
<meta property="og:image" content="http://example.com/2023/05/29/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/1v5gu9_ma3-1685354464577-15.png">
<meta property="og:image" content="http://example.com/2023/05/29/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/bzm_mawn8m-1685354464577-14.png">
<meta property="og:image" content="http://example.com/2023/05/29/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/lusrulhjdm-1685354464577-17.png">
<meta property="og:image" content="http://example.com/2023/05/29/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/mm-4rr4l_x-1685354464577-16.png">
<meta property="og:image" content="http://example.com/2023/05/29/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/mhprkq3fvh-1685354464577-18.png">
<meta property="og:image" content="http://example.com/2023/05/29/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/vdk-s8-bh--1685354464577-19.png">
<meta property="og:image" content="http://example.com/2023/05/29/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/zmg3sydg0r-1685354464578-21.png">
<meta property="og:image" content="http://example.com/2023/05/29/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/lfzur8ttt3-1685354464577-20.png">
<meta property="og:image" content="http://example.com/2023/05/29/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/v40h2t8ups-1685354464578-22.png">
<meta property="og:image" content="http://example.com/2023/05/29/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/k_qna5rhav.svg">
<meta property="og:image" content="http://example.com/2023/05/29/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/qw1a5mp1lg-1685354464578-23.png">
<meta property="og:image" content="http://example.com/2023/05/29/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/1yl6o2epnz-1685354464578-24.png">
<meta property="og:image" content="http://example.com/2023/05/29/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/6baii0uxj7-1685354464578-25.png">
<meta property="og:image" content="http://example.com/2023/05/29/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/8p2wbntds--1685354464578-26.png">
<meta property="og:image" content="http://example.com/2023/05/29/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/ct7-v8-sfu-1685354464578-27.png">
<meta property="og:image" content="http://example.com/2023/05/29/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/5kumpgt159-1685354464578-28.png">
<meta property="article:published_time" content="2023-05-29T09:09:14.000Z">
<meta property="article:modified_time" content="2023-09-18T15:47:55.459Z">
<meta property="article:author" content="Ye Jiu">
<meta property="article:tag" content="Python">
<meta property="article:tag" content="可视化">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/2023/05/29/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/-bd1p42xy8-1685354464576-1.png">


<link rel="canonical" href="http://example.com/2023/05/29/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"http://example.com/2023/05/29/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/","path":"2023/05/29/数据可视化/","title":"数据可视化"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>数据可视化 | 夜久</title>
  






  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">夜久</p>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-about"><a href="/about" rel="section">About</a></li><li class="menu-item menu-item-tags"><a href="/tags" rel="section">Tags</a></li><li class="menu-item menu-item-categories"><a href="/categories" rel="section">Categories</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section">Archives</a></li>
  </ul>
</nav>




</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

<iframe width="100%" height="166" scrolling="no" frameborder="no" allow="autoplay" src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/848368468&color=%23ff5500&auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=true"></iframe><div style="font-size: 10px; color: #cccccc;line-break: anywhere;word-break: normal;overflow: hidden;white-space: nowrap;text-overflow: ellipsis; font-family: Interstate,Lucida Grande,Lucida Sans Unicode,Lucida Sans,Garuda,Verdana,Tahoma,sans-serif;font-weight: 100;"><a href="https://soundcloud.com/terence-vassallo-415912750" title="Ocelotter" target="_blank" style="color: #cccccc; text-decoration: none;">Ocelotter</a> · <a href="https://soundcloud.com/terence-vassallo-415912750/euphoria" title="Euphoria - 楽園の扉 中日字幕" target="_blank" style="color: #cccccc; text-decoration: none;">Euphoria - 楽園の扉 中日字幕</a></div>

<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=535990&auto=1&height=66"></iframe>

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E2%80%94%E2%80%94%E7%94%9F%E6%88%90%E6%95%B0%E6%8D%AE"><span class="nav-number">1.</span> <span class="nav-text">数据可视化——生成数据</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%89%E8%A3%85matplotlib"><span class="nav-number">1.1.</span> <span class="nav-text">安装matplotlib</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8matplotlib%E7%BB%98%E5%88%B6%E6%8A%98%E7%BA%BF%E5%9B%BE"><span class="nav-number">1.2.</span> <span class="nav-text">使用matplotlib绘制折线图</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8matplotlib%E7%BB%98%E5%88%B6%E6%95%A3%E7%82%B9%E5%9B%BE"><span class="nav-number">1.3.</span> <span class="nav-text">使用matplotlib绘制散点图</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%87%AA%E5%8A%A8%E8%AE%A1%E7%AE%97%E6%95%B0%E6%8D%AE"><span class="nav-number">1.4.</span> <span class="nav-text">自动计算数据</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%9A%8F%E6%9C%BA%E6%BC%AB%E6%AD%A5"><span class="nav-number">1.5.</span> <span class="nav-text">随机漫步</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8Pygal%E6%A8%A1%E6%8B%9F%E9%AA%B0%E5%AD%90"><span class="nav-number">1.6.</span> <span class="nav-text">使用Pygal模拟骰子</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8API"><span class="nav-number">2.</span> <span class="nav-text">使用API</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8-Web-API"><span class="nav-number">2.1.</span> <span class="nav-text">使用 Web API</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8Pygal%E5%8F%AF%E8%A7%86%E5%8C%96%E4%BB%93%E5%BA%93"><span class="nav-number">2.2.</span> <span class="nav-text">使用Pygal可视化仓库</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%B8%8B%E8%BD%BD%E6%95%B0%E6%8D%AE"><span class="nav-number">3.</span> <span class="nav-text">下载数据</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#CSV%E6%96%87%E4%BB%B6%E6%A0%BC%E5%BC%8F"><span class="nav-number">3.1.</span> <span class="nav-text">CSV文件格式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%86%E6%9E%90CSV%E6%96%87%E4%BB%B6%E5%A4%B4"><span class="nav-number">3.2.</span> <span class="nav-text">分析CSV文件头</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%94%99%E8%AF%AF%E6%A3%80%E6%9F%A5"><span class="nav-number">3.3.</span> <span class="nav-text">错误检查</span></a></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Ye Jiu</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">26</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories">
        <span class="site-state-item-count">7</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags">
        <span class="site-state-item-count">28</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>



        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/05/29/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Ye Jiu">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="夜久">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="数据可视化 | 夜久">
      <meta itemprop="description" content="Python编程：从入门到实践 数据可视化部分">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          数据可视化
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-05-29 18:39:14" itemprop="dateCreated datePublished" datetime="2023-05-29T18:39:14+09:30">2023-05-29</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-09-19 01:17:55" itemprop="dateModified" datetime="2023-09-19T01:17:55+09:30">2023-09-19</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E6%95%B0%E6%8D%AE%E7%A7%91%E5%AD%A6/" itemprop="url" rel="index"><span itemprop="name">数据科学</span></a>
        </span>
    </span>

  
</div>

            <div class="post-description">Python编程：从入门到实践 数据可视化部分</div>
        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <h1 id="数据可视化——生成数据"><a href="#数据可视化——生成数据" class="headerlink" title="数据可视化——生成数据"></a>数据可视化——生成数据</h1><h2 id="安装matplotlib"><a href="#安装matplotlib" class="headerlink" title="安装matplotlib"></a>安装matplotlib</h2><p>在windows系统中安装matplotlib，可以在打开cmd界面之后输入如下所示的代码：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip3 install matplotlib</span><br></pre></td></tr></table></figure>


<p>如果是linux系统，则可以运行：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install python3-matplotlib</span><br></pre></td></tr></table></figure>


<p>我们在安装完matplotlib之后，我们可以通过导入matplotlib来测试是否成功安装matplotlib：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">python3</span><br><span class="line"><span class="keyword">import</span> matplotlib</span><br></pre></td></tr></table></figure>


<p>如果没有显示如何的报错信息，则意味着成功的安装了matplotlib。</p>
<h2 id="使用matplotlib绘制折线图"><a href="#使用matplotlib绘制折线图" class="headerlink" title="使用matplotlib绘制折线图"></a>使用matplotlib绘制折线图</h2><p>接着我们可以使用matplotlib来绘制简单的折线图：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line">squares = [<span class="number">1</span>, <span class="number">4</span>, <span class="number">9</span>, <span class="number">16</span>, <span class="number">25</span>]</span><br><span class="line">plt.plot(squares)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>


<p>绘制的结果如下所示：</p>
<p><img src="/2023/05/29/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/-bd1p42xy8-1685354464576-1.png" title="Untitled"></p>
<p>在这里，我们首先导入了matplotlib中的pyplot模块给予其别名plt，这之后当我们调用的时候只需要输入plt就可以了，不需要重复输入pyplot。</p>
<p>我们创建了一个列表，在其中存储了前述平方数，再将这个列表传递给函数plot()，这个函数尝试根据这些数字绘制出有意义的图形。plt.show()打开matplotlib查看器，并显示绘制的图形，</p>
<p>我们可以修改标签文字和线条的粗细：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">squares = [<span class="number">1</span>, <span class="number">4</span>, <span class="number">9</span>, <span class="number">16</span>, <span class="number">25</span>]</span><br><span class="line">plt.plot(squares, linewidth=<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置图表标题，并给坐标轴加上标签</span></span><br><span class="line">plt.title(<span class="string">&quot;Square Numbers&quot;</span>, fontsize=<span class="number">24</span>)</span><br><span class="line">plt.xlabel(<span class="string">&quot;Value&quot;</span>, fontsize=<span class="number">14</span>)</span><br><span class="line">plt.ylabel(<span class="string">&quot;Square of Value&quot;</span>, fontsize=<span class="number">14</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置刻度标记的大小</span></span><br><span class="line">plt.tick_params(axis=<span class="string">&#x27;both&#x27;</span>, labelsize=<span class="number">14</span>)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>


<p>运行的结果为：</p>
<p><img src="/2023/05/29/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/ak93qr8uem-1685354464577-2.png" title="Untitled"></p>
<p>参数linewidth决定了plot()绘制的线条的粗细，而函数title()则指定了标题的大小。</p>
<p>函数xlabel()和ylabel()让你能够为每条轴设置标题；而函数tick_params()设置刻度的样式，其中指定的实参将影响x轴和y轴的刻度（axes&#x3D;’both’），并将刻度标记的字号设置为14（labelsize&#x3D;14）。</p>
<p>另外这个折线图和我们所希望的折线图是存在着差距的，我们可以发现这个折线图是从0开始的，并且此时的y值并不是0而是1，为了解决这个问题，我们需要进行额外的设置：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line">input_values = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line">squares = [<span class="number">1</span>, <span class="number">4</span>, <span class="number">9</span>, <span class="number">16</span>, <span class="number">25</span>]</span><br><span class="line">plt.plot(input_values, squares, linewidth=<span class="number">5</span>) </span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置图表标题，并给坐标轴加上标签</span></span><br><span class="line">plt.title(<span class="string">&quot;Square Numbers&quot;</span>, fontsize=<span class="number">24</span>)</span><br><span class="line">plt.xlabel(<span class="string">&quot;Value&quot;</span>, fontsize=<span class="number">14</span>)</span><br><span class="line">plt.ylabel(<span class="string">&quot;Square of Value&quot;</span>, fontsize=<span class="number">14</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置刻度标记的大小</span></span><br><span class="line">plt.tick_params(axis=<span class="string">&#x27;both&#x27;</span>, labelsize=<span class="number">14</span>)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>


<p>运行的结果为：</p>
<p><img src="/2023/05/29/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/x7qy-n7gg9-1685354464577-3.png" title="Untitled"></p>
<h2 id="使用matplotlib绘制散点图"><a href="#使用matplotlib绘制散点图" class="headerlink" title="使用matplotlib绘制散点图"></a>使用matplotlib绘制散点图</h2><p>如果要绘制单个点，我们可以使用scatter()来进行绘制，并且向其中传递一对x和y的坐标，用来在指定位置绘制一个点：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line">plt.scatter(<span class="number">2</span>, <span class="number">4</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>


<p>得到的结果如下所示：</p>
<p><img src="/2023/05/29/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/jkowrfftsh-1685354464577-4.png" title="Untitled"></p>
<p>下面来设置输出的样式，使其更有趣：添加标题，给轴加上标签，并确保所有文本都大到能够看清：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line">plt.scatter(<span class="number">2</span>, <span class="number">4</span>, s=<span class="number">200</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置图表标题并给坐标轴加上标签</span></span><br><span class="line">plt.title(<span class="string">&quot;Square Numbers&quot;</span>, fontsize=<span class="number">24</span>)</span><br><span class="line">plt.xlabel(<span class="string">&quot;Value&quot;</span>, fontsize=<span class="number">14</span>)</span><br><span class="line">plt.ylabel(<span class="string">&quot;Square of Value&quot;</span>, fontsize=<span class="number">14</span>)</span><br><span class="line"><span class="comment"># 设置刻度标记的大小</span></span><br><span class="line">plt.tick_params(axis=<span class="string">&#x27;both&#x27;</span>, which=<span class="string">&#x27;major&#x27;</span>, labelsize=<span class="number">14</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>


<p>运行结果为：</p>
<p><img src="/2023/05/29/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/dy7z5u_fxo-1685354464577-5.png" title="Untitled"></p>
<p>我们可以绘制一系列的点：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line">x_values = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line">y_values = [<span class="number">1</span>, <span class="number">4</span>, <span class="number">9</span>, <span class="number">16</span>, <span class="number">25</span>]</span><br><span class="line">plt.scatter(x_values, y_values, s=<span class="number">100</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置图表标题并给坐标轴加上标签</span></span><br><span class="line">plt.title(<span class="string">&quot;Square Numbers&quot;</span>, fontsize=<span class="number">24</span>)</span><br><span class="line">plt.xlabel(<span class="string">&quot;Value&quot;</span>, fontsize=<span class="number">14</span>)</span><br><span class="line">plt.ylabel(<span class="string">&quot;Square of Value&quot;</span>, fontsize=<span class="number">14</span>)</span><br><span class="line"><span class="comment"># 设置刻度标记的大小</span></span><br><span class="line">plt.tick_params(axis=<span class="string">&#x27;both&#x27;</span>, which=<span class="string">&#x27;major&#x27;</span>, labelsize=<span class="number">14</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>


<p>运行的结果为：</p>
<p><img src="/2023/05/29/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/3wfw29gkou-1685354464577-6.png" title="Untitled"></p>
<h2 id="自动计算数据"><a href="#自动计算数据" class="headerlink" title="自动计算数据"></a>自动计算数据</h2><p>通过手工的方式来计算列表的效率非常的低下，我们可以通过循环的方式来完成这种计算：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line">x_values = <span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">1</span>, <span class="number">1001</span>))</span><br><span class="line">y_values = [x**<span class="number">2</span> <span class="keyword">for</span> x <span class="keyword">in</span> x_values]</span><br><span class="line">plt.scatter(x_values, y_values, s=<span class="number">40</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置图表标题并给坐标轴加上标签</span></span><br><span class="line">plt.title(<span class="string">&quot;Square Numbers&quot;</span>, fontsize=<span class="number">24</span>)</span><br><span class="line">plt.xlabel(<span class="string">&quot;Value&quot;</span>, fontsize=<span class="number">14</span>)</span><br><span class="line">plt.ylabel(<span class="string">&quot;Square of Value&quot;</span>, fontsize=<span class="number">14</span>)</span><br><span class="line"><span class="comment"># 设置刻度标记的大小</span></span><br><span class="line">plt.tick_params(axis=<span class="string">&#x27;both&#x27;</span>, which=<span class="string">&#x27;major&#x27;</span>, labelsize=<span class="number">10</span>)</span><br><span class="line">plt.axis([<span class="number">0</span>, <span class="number">1100</span>, <span class="number">0</span>, <span class="number">1100000</span>])</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>


<p>运行的结果为：</p>
<p><img src="/2023/05/29/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/g2aj2u_alr-1685354464577-8.png" title="Untitled"></p>
<p>我们可以修改数据点的颜色：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line">x_values = <span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">1</span>, <span class="number">1001</span>))</span><br><span class="line">y_values = [x**<span class="number">2</span> <span class="keyword">for</span> x <span class="keyword">in</span> x_values]</span><br><span class="line">plt.scatter(x_values, y_values, c=<span class="string">&#x27;red&#x27;</span>, edgecolor=<span class="string">&#x27;yellow&#x27;</span>, s=<span class="number">40</span>) </span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置图表标题并给坐标轴加上标签</span></span><br><span class="line">plt.title(<span class="string">&quot;Square Numbers&quot;</span>, fontsize=<span class="number">24</span>)</span><br><span class="line">plt.xlabel(<span class="string">&quot;Value&quot;</span>, fontsize=<span class="number">14</span>)</span><br><span class="line">plt.ylabel(<span class="string">&quot;Square of Value&quot;</span>, fontsize=<span class="number">14</span>)</span><br><span class="line"><span class="comment"># 设置刻度标记的大小</span></span><br><span class="line">plt.tick_params(axis=<span class="string">&#x27;both&#x27;</span>, which=<span class="string">&#x27;major&#x27;</span>, labelsize=<span class="number">10</span>)</span><br><span class="line">plt.axis([<span class="number">0</span>, <span class="number">1100</span>, <span class="number">0</span>, <span class="number">1100000</span>])</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>


<p>运行的结果为：</p>
<p><img src="/2023/05/29/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/80s0uvypfi-1685354464577-7.png" title="Untitled"></p>
<p>我们也可以选择消除数据点的轮廓：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line">x_values = <span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">1</span>, <span class="number">1001</span>))</span><br><span class="line">y_values = [x**<span class="number">2</span> <span class="keyword">for</span> x <span class="keyword">in</span> x_values]</span><br><span class="line">plt.scatter(x_values, y_values,edgecolor=<span class="string">&#x27;none&#x27;</span>, s=<span class="number">40</span>) </span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置图表标题并给坐标轴加上标签</span></span><br><span class="line">plt.title(<span class="string">&quot;Square Numbers&quot;</span>, fontsize=<span class="number">24</span>)</span><br><span class="line">plt.xlabel(<span class="string">&quot;Value&quot;</span>, fontsize=<span class="number">14</span>)</span><br><span class="line">plt.ylabel(<span class="string">&quot;Square of Value&quot;</span>, fontsize=<span class="number">14</span>)</span><br><span class="line"><span class="comment"># 设置刻度标记的大小</span></span><br><span class="line">plt.tick_params(axis=<span class="string">&#x27;both&#x27;</span>, which=<span class="string">&#x27;major&#x27;</span>, labelsize=<span class="number">10</span>)</span><br><span class="line">plt.axis([<span class="number">0</span>, <span class="number">1100</span>, <span class="number">0</span>, <span class="number">1100000</span>])</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>


<p>我们还可以使用颜色映射，也就是从启示颜色渐变到结束颜色：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line">x_values = <span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">1001</span>))</span><br><span class="line">y_values = [x**<span class="number">2</span> <span class="keyword">for</span> x <span class="keyword">in</span> x_values]</span><br><span class="line">plt.scatter(x_values, y_values, c=y_values, cmap=plt.cm.Blues,</span><br><span class="line">edgecolor=<span class="string">&#x27;none&#x27;</span>, s=<span class="number">40</span>) </span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置图表标题并给坐标轴加上标签</span></span><br><span class="line">plt.title(<span class="string">&quot;Square Numbers&quot;</span>, fontsize=<span class="number">24</span>)</span><br><span class="line">plt.xlabel(<span class="string">&quot;Value&quot;</span>, fontsize=<span class="number">14</span>)</span><br><span class="line">plt.ylabel(<span class="string">&quot;Square of Value&quot;</span>, fontsize=<span class="number">14</span>)</span><br><span class="line"><span class="comment"># 设置刻度标记的大小</span></span><br><span class="line">plt.tick_params(axis=<span class="string">&#x27;both&#x27;</span>, which=<span class="string">&#x27;major&#x27;</span>, labelsize=<span class="number">10</span>)</span><br><span class="line">plt.axis([<span class="number">0</span>, <span class="number">1100</span>, <span class="number">0</span>, <span class="number">1100000</span>])</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>


<p>使用颜色映射可以用来展示数据的规律：</p>
<p><img src="/2023/05/29/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/p74uotp6l9-1685354464577-9.png" title="Untitled"></p>
<p>我们将参数c设置成了一个y值列表，并使用参数cmap告诉pyplot使用哪个颜色映射。这些代码将y值较小的点显示为浅蓝色，并将y值较大的点显示为深蓝色。</p>
<h2 id="随机漫步"><a href="#随机漫步" class="headerlink" title="随机漫步"></a>随机漫步</h2><p>随机漫步是这样行走得到的路径：每次行走都完全是随机的，没有明确的方向，结果是由一系列随机决策决定的。</p>
<p>我们可以创建要给名为RandomWal的类，它可以随机的选择前进方向，但是这个类需要三个属性，其中一个是存储漫步次数的变量，其他两个是列表，分别存储随机漫步经过的每个x和y坐标。</p>
<p>RandomWalk类只包含两个方法：<strong>init</strong> ()和fill_walk()，其中后者计算随机漫步经过的所有点。</p>
<p>下面先来看看__init__()，如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> random <span class="keyword">import</span> choice</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">RandomWalk</span>():</span><br><span class="line">    <span class="string">&quot;&quot;&quot;一个生成随机漫步数据的类&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, num_points=<span class="number">5000</span></span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;初始化随机漫步的属性&quot;&quot;&quot;</span></span><br><span class="line">        self.num_points = num_points</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 所有随机漫步都始于(0, 0)</span></span><br><span class="line">        self.x_values = [<span class="number">0</span>]</span><br><span class="line">        </span><br><span class="line">        self.y_values = [<span class="number">0</span>]</span><br></pre></td></tr></table></figure>


<p>为了做出随机决策，我们将所有可能的选择都存储在一个列表中，并且在每次做出决策时都使用choice()来决定使用那种选择。</p>
<p>接下来，我们将随机漫步包含的默认点数设置为5000，这大到足以生成有趣的模式，同时又足够小，可以确保能够快速地模拟随机漫步。</p>
<p>接着我们创建了连个用于存储x值和y值的列表，并且让每次漫步都从（0,0）出发。</p>
<p>在这之后，我们将会采用fill_walk()来生成漫步包含的点，并且决定每次漫步的方向：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> random <span class="keyword">import</span> choice</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">RandomWalk</span>():</span><br><span class="line">    <span class="string">&quot;&quot;&quot;一个生成随机漫步数据的类&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, num_points=<span class="number">5000</span></span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;初始化随机漫步的属性&quot;&quot;&quot;</span></span><br><span class="line">        self.num_points = num_points</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 所有随机漫步都始于(0, 0)</span></span><br><span class="line">        self.x_values = [<span class="number">0</span>]</span><br><span class="line">        </span><br><span class="line">        self.y_values = [<span class="number">0</span>] </span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">fill_walk</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;计算随机漫步包含的所有点&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">      <span class="comment">#不断漫步，直到列表达到指定的长度</span></span><br><span class="line">      <span class="keyword">while</span> <span class="built_in">len</span>(self.x_values) &lt; self.num_points:</span><br><span class="line">        <span class="comment">#决定前进方向以及沿着这个方向前进的距离</span></span><br><span class="line">        x_direction = choice([<span class="number">1</span>,-<span class="number">1</span>])</span><br><span class="line">        x_distance = choice([<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>])</span><br><span class="line">        x_step = x_direction * x_distance</span><br><span class="line"></span><br><span class="line">        y_direction = choice([<span class="number">1</span>, -<span class="number">1</span>])</span><br><span class="line">        y_distance = choice([<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>])</span><br><span class="line">        y_step = y_direction * y_distance</span><br><span class="line"></span><br><span class="line">        <span class="comment">#不要在原地踏步</span></span><br><span class="line">        <span class="keyword">if</span> x_step == <span class="number">0</span> <span class="keyword">and</span> y_step == <span class="number">0</span>:</span><br><span class="line">          <span class="keyword">continue</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">#计算下一个点的x和y的值</span></span><br><span class="line">        next_x = self.x_values[-<span class="number">1</span>] + x_step</span><br><span class="line">        next_y = self.y_values[-<span class="number">1</span>] + y_step</span><br><span class="line"></span><br><span class="line">        self.x_values.append(next_x)</span><br><span class="line">        self.y_value.append(next_y)</span><br></pre></td></tr></table></figure>


<p>在原先的程序的基础上，我们建立了一个循环，这个循环会不断的运行，直到漫步包含所需数量的点。</p>
<p>我们使用choice([1, -1])给x_direction选择一个值，结果要么是表示向右走的1，要么是表示向左走的-1。接下来，choice([0, 1, 2, 3, 4])随机地选择一个0~4之间的整数，告诉Python 沿指定的方向走多远（x_distance）。</p>
<p>我们将移动方向乘以移动距离，以确定沿x和y轴移动的距离。如果x_step为正，将向右移动，为负将向左移动，而为零将垂直移动；如果y_step为正，就意味着向上移动，为负意味着向下移动，而为零意味着水平移动。如果x_step和y_step都为零，则意味着原地踏步，我们拒绝这样的情况，接着执行下一次循环。</p>
<p>为获取漫步中下一个点的x值，我们将x_step与x_values中的最后一个值相加，对于y值也做相同的处理。获得下一个点的x值和y值后，我们将它们分别附加到列表x_values和y_values的末尾。</p>
<p>然后我们创建一个名为rw_visual.py的文件，导入随机漫步类，并且绘制图片：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> random <span class="keyword">import</span> choice</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">RandomWalk</span>():</span><br><span class="line">    <span class="string">&quot;&quot;&quot;一个生成随机漫步数据的类&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, num_points=<span class="number">5000</span></span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;初始化随机漫步的属性&quot;&quot;&quot;</span></span><br><span class="line">        self.num_points = num_points</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 所有随机漫步都始于(0, 0)</span></span><br><span class="line">        self.x_values = [<span class="number">0</span>]  </span><br><span class="line">        self.y_values = [<span class="number">0</span>] </span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">fill_walk</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;计算随机漫步包含的所有点&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">#不断漫步，直到列表达到指定的长度</span></span><br><span class="line">        <span class="keyword">while</span> <span class="built_in">len</span>(self.x_values) &lt; self.num_points:</span><br><span class="line">            <span class="comment">#决定前进方向以及沿着这个方向前进的距离</span></span><br><span class="line">            x_direction = choice([<span class="number">1</span>,-<span class="number">1</span>])</span><br><span class="line">            x_distance = choice([<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>])</span><br><span class="line">            x_step = x_direction * x_distance</span><br><span class="line"></span><br><span class="line">            y_direction = choice([<span class="number">1</span>, -<span class="number">1</span>])</span><br><span class="line">            y_distance = choice([<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>])</span><br><span class="line">            y_step = y_direction * y_distance</span><br><span class="line"></span><br><span class="line">            <span class="comment">#不要在原地踏步</span></span><br><span class="line">            <span class="keyword">if</span> x_step == <span class="number">0</span> <span class="keyword">and</span> y_step == <span class="number">0</span>:</span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">#计算下一个点的x和y的值</span></span><br><span class="line">            next_x = self.x_values[-<span class="number">1</span>] + x_step</span><br><span class="line">            next_y = self.y_values[-<span class="number">1</span>] + y_step</span><br><span class="line"></span><br><span class="line">            self.x_values.append(next_x)</span><br><span class="line">            self.y_values.append(next_y)</span><br></pre></td></tr></table></figure>


<p>生成的结果为：</p>
<p><img src="/2023/05/29/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/0yzkm_o5gy-1685354464577-10.png" title="Untitled"></p>
<p>由于是随机生成的，所以每次的图片实际上都是不一样的，我们可以多尝试几次：</p>
<p><img src="/2023/05/29/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/5opeizaanw-1685354464577-11.png" title="Untitled"></p>
<p><img src="/2023/05/29/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/02ptjaehj5-1685354464577-12.png" title="Untitled"></p>
<p>我们可以使用while循环来进行多次的随机漫步模拟：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> random_walk <span class="keyword">import</span> RandomWalk</span><br><span class="line"></span><br><span class="line"><span class="comment"># 只要程序处于活动状态，就不断地模拟随机漫步</span></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">  <span class="comment"># 创建一个RandomWalk实例，并将其包含的点都绘制出来</span></span><br><span class="line">  rw = RandomWalk()</span><br><span class="line">  rw.fill_walk()</span><br><span class="line">  plt.scatter(rw.x_values, rw.y_values, s=<span class="number">15</span>)</span><br><span class="line">  plt.show()</span><br><span class="line">  keep_running = <span class="built_in">input</span>(<span class="string">&quot;Make another walk? (y/n): &quot;</span>)</span><br><span class="line">  <span class="keyword">if</span> keep_running == <span class="string">&#x27;n&#x27;</span>:</span><br><span class="line">    <span class="keyword">break</span></span><br></pre></td></tr></table></figure>


<p>为了突出每次漫步的重要特征，并且让分散注意力的元素不那么显眼，我们可以突出漫步的起点，终点和经过的路径，也就是给点着色：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> random_walk <span class="keyword">import</span> RandomWalk</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">  <span class="comment"># 创建一个RandomWalk实例，并将其包含的点都绘制出来</span></span><br><span class="line">  rw = RandomWalk()</span><br><span class="line">  rw.fill_walk()</span><br><span class="line">  point_numbers = <span class="built_in">list</span>(<span class="built_in">range</span>(rw.num_points))</span><br><span class="line">  plt.scatter(rw.x_values, rw.y_values, c=point_numbers, cmap=plt.cm.Blues, edgecolor=<span class="string">&#x27;none&#x27;</span>, s=<span class="number">15</span>)</span><br><span class="line">  plt.show()</span><br><span class="line">  </span><br><span class="line">  keep_running = <span class="built_in">input</span>(<span class="string">&quot;Make another walk? (y/n): &quot;</span>)</span><br><span class="line">  <span class="keyword">if</span> keep_running == <span class="string">&#x27;n&#x27;</span>:</span><br><span class="line">    <span class="keyword">break</span></span><br></pre></td></tr></table></figure>


<p>运行的结果如下所示：</p>
<p><img src="/2023/05/29/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/evey-ty017-1685354464577-13.png" title="Untitled"></p>
<p><img src="/2023/05/29/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/1v5gu9_ma3-1685354464577-15.png" title="Untitled"></p>
<p><img src="/2023/05/29/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/bzm_mawn8m-1685354464577-14.png" title="Untitled"></p>
<p>我们首先通过point_numbers &#x3D; list(range(rw.num_points))来生成了一个数字列表，其中包含的数字个数与漫步包含的点数相同，并且这个列表被存储在point_numbers中，以便于后面使用它来设置每个漫步点数的颜色。</p>
<p>我们将参数c设置为point_numbers，指定使用颜色映射Blues，并传递实参edgecolor&#x3D;none以删除每个点周围的轮廓。最终的随机漫步图从浅蓝色渐变为深蓝色。</p>
<p>我们可以在绘制随机漫步图后重新绘制起点和终点。我们让起点和终点变得更大，并显示为不同的颜色，以突出它们：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> random_walk <span class="keyword">import</span> RandomWalk</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">  <span class="comment"># 创建一个RandomWalk实例，并将其包含的点都绘制出来</span></span><br><span class="line">  rw = RandomWalk()</span><br><span class="line">  rw.fill_walk()</span><br><span class="line">  point_numbers = <span class="built_in">list</span>(<span class="built_in">range</span>(rw.num_points))</span><br><span class="line">  plt.scatter(rw.x_values, rw.y_values, c=point_numbers, cmap=plt.cm.Blues, edgecolor=<span class="string">&#x27;none&#x27;</span>, s=<span class="number">15</span>)</span><br><span class="line">  </span><br><span class="line">  plt.scatter(<span class="number">0</span>, <span class="number">0</span>, c=<span class="string">&#x27;green&#x27;</span>, edgecolors=<span class="string">&#x27;none&#x27;</span>, s=<span class="number">100</span>)</span><br><span class="line">  plt.scatter(rw.x_values[-<span class="number">1</span>], rw.y_values[-<span class="number">1</span>], c=<span class="string">&#x27;red&#x27;</span>, edgecolors=<span class="string">&#x27;none&#x27;</span>, s=<span class="number">100</span>)</span><br><span class="line"></span><br><span class="line">  <span class="comment"># 隐藏坐标轴</span></span><br><span class="line">  plt.axes().get_xaxis().set_visible(<span class="literal">False</span>)</span><br><span class="line">  plt.axes().get_yaxis().set_visible(<span class="literal">False</span>) </span><br><span class="line"></span><br><span class="line">  plt.show() </span><br><span class="line"></span><br><span class="line">  keep_running = <span class="built_in">input</span>(<span class="string">&quot;Make another walk? (y/n): &quot;</span>)</span><br><span class="line">  <span class="keyword">if</span> keep_running == <span class="string">&#x27;n&#x27;</span>:</span><br><span class="line">    <span class="keyword">break</span></span><br></pre></td></tr></table></figure>


<p>为突出起点，我们使用绿色绘制点(0, 0)，并使其比其他点大（s&#x3D;100）。为突出终点，我们在漫步包含的最后一个x和y值处绘制一个点，将其颜色设置为红色，并将尺寸设置为100。</p>
<p>运行结果为：</p>
<p><img src="/2023/05/29/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/lusrulhjdm-1685354464577-17.png" title="Untitled"></p>
<p><img src="/2023/05/29/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/mm-4rr4l_x-1685354464577-16.png" title="Untitled"></p>
<p>如果我们不需要坐标轴，我们可以这样设置：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> random_walk <span class="keyword">import</span> RandomWalk</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">  <span class="comment"># 创建一个RandomWalk实例，并将其包含的点都绘制出来</span></span><br><span class="line">  rw = RandomWalk()</span><br><span class="line">  rw.fill_walk()</span><br><span class="line">  point_numbers = <span class="built_in">list</span>(<span class="built_in">range</span>(rw.num_points))</span><br><span class="line">  plt.scatter(rw.x_values, rw.y_values, c=point_numbers, cmap=plt.cm.Blues, edgecolor=<span class="string">&#x27;none&#x27;</span>, s=<span class="number">15</span>)</span><br><span class="line">  </span><br><span class="line">  plt.scatter(<span class="number">0</span>, <span class="number">0</span>, c=<span class="string">&#x27;green&#x27;</span>, edgecolors=<span class="string">&#x27;none&#x27;</span>, s=<span class="number">100</span>)</span><br><span class="line">  plt.scatter(rw.x_values[-<span class="number">1</span>], rw.y_values[-<span class="number">1</span>], c=<span class="string">&#x27;red&#x27;</span>, edgecolors=<span class="string">&#x27;none&#x27;</span>, s=<span class="number">100</span>)</span><br><span class="line"></span><br><span class="line">  <span class="comment"># 隐藏坐标轴</span></span><br><span class="line">  plt.axes().get_xaxis().set_visible(<span class="literal">False</span>)</span><br><span class="line">  plt.axes().get_yaxis().set_visible(<span class="literal">False</span>) </span><br><span class="line"></span><br><span class="line">  plt.show() </span><br><span class="line"></span><br><span class="line">  keep_running = <span class="built_in">input</span>(<span class="string">&quot;Make another walk? (y/n): &quot;</span>)</span><br><span class="line">  <span class="keyword">if</span> keep_running == <span class="string">&#x27;n&#x27;</span>:</span><br><span class="line">    <span class="keyword">break</span></span><br></pre></td></tr></table></figure>


<p>运行的结果为：</p>
<p><img src="/2023/05/29/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/mhprkq3fvh-1685354464577-18.png" title="Untitled"></p>
<p>为修改坐标轴，使用了函数plt.axes()来将每条坐标轴的可见性都设置为False。</p>
<p>我们可以在创建RandomWalk实例的时候增大num_points的值，并且在绘图时调整每个点的大小：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> random_walk <span class="keyword">import</span> RandomWalk</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">  <span class="comment"># 创建一个RandomWalk实例，并将其包含的点都绘制出来</span></span><br><span class="line">  rw = RandomWalk(<span class="number">50000</span>)</span><br><span class="line">  rw.fill_walk()</span><br><span class="line"></span><br><span class="line">  <span class="comment"># 绘制点并将图形显示出来</span></span><br><span class="line">  point_numbers = <span class="built_in">list</span>(<span class="built_in">range</span>(rw.num_points))</span><br><span class="line"></span><br><span class="line">  plt.scatter(rw.x_values, rw.y_values, c=point_numbers, cmap=plt.cm.Blues, edgecolor=<span class="string">&#x27;none&#x27;</span>, s=<span class="number">1</span>) </span><br><span class="line"></span><br><span class="line">  point_numbers = <span class="built_in">list</span>(<span class="built_in">range</span>(rw.num_points))</span><br><span class="line">  plt.scatter(rw.x_values, rw.y_values, c=point_numbers, cmap=plt.cm.Blues, edgecolor=<span class="string">&#x27;none&#x27;</span>, s=<span class="number">15</span>)</span><br><span class="line">  </span><br><span class="line">  plt.scatter(<span class="number">0</span>, <span class="number">0</span>, c=<span class="string">&#x27;green&#x27;</span>, edgecolors=<span class="string">&#x27;none&#x27;</span>, s=<span class="number">100</span>)</span><br><span class="line">  plt.scatter(rw.x_values[-<span class="number">1</span>], rw.y_values[-<span class="number">1</span>], c=<span class="string">&#x27;red&#x27;</span>, edgecolors=<span class="string">&#x27;none&#x27;</span>, s=<span class="number">100</span>)</span><br><span class="line"></span><br><span class="line">  <span class="comment"># 隐藏坐标轴</span></span><br><span class="line">  plt.axes().get_xaxis().set_visible(<span class="literal">False</span>)</span><br><span class="line">  plt.axes().get_yaxis().set_visible(<span class="literal">False</span>) </span><br><span class="line"></span><br><span class="line">  plt.show() </span><br><span class="line"></span><br><span class="line">  keep_running = <span class="built_in">input</span>(<span class="string">&quot;Make another walk? (y/n): &quot;</span>)</span><br><span class="line">  <span class="keyword">if</span> keep_running == <span class="string">&#x27;n&#x27;</span>:</span><br><span class="line">    <span class="keyword">break</span></span><br></pre></td></tr></table></figure>


<p>这这里模拟了一次包含50000个点的随机漫步，并且将每个点的大小都设置为1。</p>
<p>运行的结果如下所示：</p>
<p><img src="/2023/05/29/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/vdk-s8-bh--1685354464577-19.png" title="Untitled"></p>
<p>为了方便我们进行观察，我们可以设置matplotlib的输出的尺寸：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> random_walk <span class="keyword">import</span> RandomWalk</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">  <span class="comment"># 创建一个RandomWalk实例，并将其包含的点都绘制出来</span></span><br><span class="line">  rw = RandomWalk(<span class="number">50000</span>)</span><br><span class="line">  rw.fill_walk()</span><br><span class="line"></span><br><span class="line">  <span class="comment">#设置窗口的尺寸</span></span><br><span class="line">  plt.figure(figsize = (<span class="number">10</span>, <span class="number">6</span>))</span><br><span class="line"></span><br><span class="line">  <span class="comment"># 绘制点并将图形显示出来</span></span><br><span class="line">  point_numbers = <span class="built_in">list</span>(<span class="built_in">range</span>(rw.num_points))</span><br><span class="line"></span><br><span class="line">  plt.scatter(rw.x_values, rw.y_values, c=point_numbers, cmap=plt.cm.Blues, edgecolor=<span class="string">&#x27;none&#x27;</span>, s=<span class="number">1</span>) </span><br><span class="line"></span><br><span class="line">  point_numbers = <span class="built_in">list</span>(<span class="built_in">range</span>(rw.num_points))</span><br><span class="line">  plt.scatter(rw.x_values, rw.y_values, c=point_numbers, cmap=plt.cm.Blues, edgecolor=<span class="string">&#x27;none&#x27;</span>, s=<span class="number">15</span>)</span><br><span class="line">  </span><br><span class="line">  plt.scatter(<span class="number">0</span>, <span class="number">0</span>, c=<span class="string">&#x27;green&#x27;</span>, edgecolors=<span class="string">&#x27;none&#x27;</span>, s=<span class="number">100</span>)</span><br><span class="line">  plt.scatter(rw.x_values[-<span class="number">1</span>], rw.y_values[-<span class="number">1</span>], c=<span class="string">&#x27;red&#x27;</span>, edgecolors=<span class="string">&#x27;none&#x27;</span>, s=<span class="number">100</span>)</span><br><span class="line"></span><br><span class="line">  <span class="comment"># 隐藏坐标轴</span></span><br><span class="line">  plt.axes().get_xaxis().set_visible(<span class="literal">False</span>)</span><br><span class="line">  plt.axes().get_yaxis().set_visible(<span class="literal">False</span>) </span><br><span class="line"></span><br><span class="line">  plt.show() </span><br><span class="line"></span><br><span class="line">  keep_running = <span class="built_in">input</span>(<span class="string">&quot;Make another walk? (y/n): &quot;</span>)</span><br><span class="line">  <span class="keyword">if</span> keep_running == <span class="string">&#x27;n&#x27;</span>:</span><br><span class="line">    <span class="keyword">break</span></span><br></pre></td></tr></table></figure>


<p>运行的结果为：</p>
<p><img src="/2023/05/29/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/zmg3sydg0r-1685354464578-21.png" title="Untitled"></p>
<h2 id="使用Pygal模拟骰子"><a href="#使用Pygal模拟骰子" class="headerlink" title="使用Pygal模拟骰子"></a>使用Pygal模拟骰子</h2><p>我们首先要使用pip来安装Pygal：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip3 install Pygal</span><br></pre></td></tr></table></figure>


<p>然后我们可以创建一个die类来模拟骰子：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> random <span class="keyword">import</span> randint</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Die</span>():</span><br><span class="line">  <span class="string">&quot;&quot;&quot;表示一个骰子的类&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, num_sides = <span class="number">6</span></span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;骰子默认为6面&quot;&quot;&quot;</span></span><br><span class="line">    self.num_sides = num_sides</span><br><span class="line"></span><br><span class="line">  <span class="keyword">def</span> <span class="title function_">roll</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;返回一个位于1和骰子面数之间的随机值&quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">return</span> randint(<span class="number">1</span>, self.num_sides)</span><br></pre></td></tr></table></figure>


<p>方法__init__()接受一个可选参数。创建这个类的实例时，如果没有指定任何实参，面数默认为6；如果指定了实参，这个值将用于设置骰子的面数。骰子是根据面数命名的，6面的骰子名为D6，8面的骰子名为D8，以此类推。</p>
<p>方法roll()使用函数randint()来返回一个1和面数之间的随机数。这个函数可能返回起始值1、终止值num_sides或这两个值之间的任何整数。</p>
<p>然后我们可以投掷骰子，并且将结果打印出来，并且检查结果是否合理：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> die <span class="keyword">import</span> Die</span><br><span class="line"><span class="comment"># 创建一个D6</span></span><br><span class="line">die = Die()</span><br><span class="line"><span class="comment"># 掷几次骰子，并将结果存储在一个列表中</span></span><br><span class="line">results = []</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> roll_num <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">100</span>):</span><br><span class="line">  result = die.roll()</span><br><span class="line">  results.append(result)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(results)</span><br></pre></td></tr></table></figure>


<p>以下是一个示例结果集：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">3</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">4</span>, <span class="number">4</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">1</span>, <span class="number">6</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">6</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">1</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">6</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">3</span>, <span class="number">6</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">6</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">3</span>, <span class="number">6</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">1</span>, <span class="number">6</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">6</span>, <span class="number">4</span>, <span class="number">1</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">1</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">4</span>, <span class="number">1</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">5</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">1</span>, <span class="number">4</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">6</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">6</span>, <span class="number">2</span>, <span class="number">1</span>]</span><br></pre></td></tr></table></figure>


<p>我们可以分析每一个点数出现的次数：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> die <span class="keyword">import</span> Die</span><br><span class="line"><span class="comment"># 创建一个D6</span></span><br><span class="line">die = Die()</span><br><span class="line"><span class="comment"># 掷几次骰子，并将结果存储在一个列表中</span></span><br><span class="line">results = []</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> roll_num <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">100</span>):</span><br><span class="line">  result = die.roll()</span><br><span class="line">  results.append(result)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 分析结果</span></span><br><span class="line">frequencies = []</span><br><span class="line"><span class="keyword">for</span> value <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, die.num_sides+<span class="number">1</span>):</span><br><span class="line">  frequency = results.count(value)</span><br><span class="line">  frequencies.append(frequency)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(frequencies)</span><br></pre></td></tr></table></figure>


<p>运行的结果为：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">14</span>, <span class="number">22</span>, <span class="number">16</span>, <span class="number">17</span>, <span class="number">20</span>, <span class="number">11</span>]</span><br></pre></td></tr></table></figure>


<p>总体上来讲是合理的，我们可以试着多投几次，比如说投10000次数：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> die <span class="keyword">import</span> Die</span><br><span class="line"><span class="comment"># 创建一个D6</span></span><br><span class="line">die = Die()</span><br><span class="line"><span class="comment"># 掷几次骰子，并将结果存储在一个列表中</span></span><br><span class="line">results = []</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> roll_num <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10000</span>):</span><br><span class="line">  result = die.roll()</span><br><span class="line">  results.append(result)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 分析结果</span></span><br><span class="line">frequencies = []</span><br><span class="line"><span class="keyword">for</span> value <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, die.num_sides+<span class="number">1</span>):</span><br><span class="line">  frequency = results.count(value)</span><br><span class="line">  frequencies.append(frequency)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(frequencies)</span><br></pre></td></tr></table></figure>


<p>得到的结果为：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">1646</span>, <span class="number">1727</span>, <span class="number">1676</span>, <span class="number">1666</span>, <span class="number">1632</span>, <span class="number">1653</span>]</span><br></pre></td></tr></table></figure>


<p>可以发现出现的次数是非常的合理的。</p>
<p>或者我们可以将其可视化，当我们有了用来表示频率的列表之后，我们可以绘制一个结果的直方图：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pygal</span><br><span class="line"><span class="keyword">from</span> die <span class="keyword">import</span> Die</span><br><span class="line"><span class="comment"># 创建一个D6</span></span><br><span class="line">die = Die()</span><br><span class="line"><span class="comment"># 掷几次骰子，并将结果存储在一个列表中</span></span><br><span class="line">results = []</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> roll_num <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10000</span>):</span><br><span class="line">  result = die.roll()</span><br><span class="line">  results.append(result)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 分析结果</span></span><br><span class="line">frequencies = []</span><br><span class="line"><span class="keyword">for</span> value <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, die.num_sides+<span class="number">1</span>):</span><br><span class="line">  frequency = results.count(value)</span><br><span class="line">  frequencies.append(frequency)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 对结果进行可视化</span></span><br><span class="line">hist = pygal.Bar()</span><br><span class="line"></span><br><span class="line">hist.title = <span class="string">&quot;Results of rolling one D6 10000 times.&quot;</span></span><br><span class="line">hist.x_labels = [<span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;2&#x27;</span>, <span class="string">&#x27;3&#x27;</span>, <span class="string">&#x27;4&#x27;</span>, <span class="string">&#x27;5&#x27;</span>, <span class="string">&#x27;6&#x27;</span>]</span><br><span class="line">hist.x_title = <span class="string">&quot;Result&quot;</span></span><br><span class="line">hist.y_title = <span class="string">&quot;Frequency of Result&quot;</span></span><br><span class="line"></span><br><span class="line">hist.add(<span class="string">&#x27;D6&#x27;</span>, frequencies)</span><br><span class="line">hist.render_to_file(<span class="string">&#x27;die_visual.svg&#x27;</span>)</span><br></pre></td></tr></table></figure>


<p>我们首先创建了一个个pygal.Bar()实例例，并将其存储在hist中。</p>
<p>接下来，我们设置hist的属性title（用于标示直方图的字符串），将掷D6骰子的可能结果用作x轴的标签，并给每个轴都添加了标题。</p>
<p>我们使用add()将一系列值添加到图表中（向它传递要给添加的值指定的标签，还有一个列表，其中包含将出现在图表中的值）。最后，我们将这个<br>图表渲染为一个SVG文件，这种文件的扩展名必须为.svg。</p>
<p>我们可以在件die_visual.py所在的文件夹找到件die_visual.svg文件，可以用浏览器打开这个文件，得到的结果如下所示：</p>
<p><img src="/2023/05/29/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/lfzur8ttt3-1685354464577-20.png" title="Untitled"></p>
<p>我们可以试着将投掷的次数再增加，那么我们会得到的结果是：</p>
<p><img src="/2023/05/29/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/v40h2t8ups-1685354464578-22.png" title="Untitled"></p>
<p>可以发现随着投掷的次数的增加，各个点数出现的频率越发的接近。</p>
<h1 id="使用API"><a href="#使用API" class="headerlink" title="使用API"></a>使用API</h1><h2 id="使用-Web-API"><a href="#使用-Web-API" class="headerlink" title="使用 Web API"></a>使用 Web API</h2><p>本章的可视化将基于来自GitHub的信息，这是一个让程序员能够协作开发项目的网站。我们将使用GitHub的API来请求有关该网站中Python项目的信息，然后使用Pygal生成交互式可视化，以呈现这些项目的受欢迎程度。</p>
<p>GitHub的API让你能够通过API调用来请求各种信息。要知道API调用是什么样的，请在浏览器的地址栏中输入如下地址并按回车键：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://api.github.com/search/repositories?q=language:python&amp;sort=stars</span><br></pre></td></tr></table></figure>


<p>这个调用返回GitHub当前托管了多少个Python项目，还有有关最受欢迎的Python仓库的信息。下面来仔细研究这个调用。第一部分（<a target="_blank" rel="noopener" href="https://api.github.com/%EF%BC%89%E5%B0%86%E8%AF%B7%E6%B1%82%E5%8F%91%E9%80%81%E5%88%B0GitHub%E7%BD%91%E7%AB%99%E4%B8%AD%E5%93%8D%E5%BA%94API%E8%B0%83%E7%94%A8%E7%9A%84%E9%83%A8%E5%88%86%EF%BC%9B%E6%8E%A5%E4%B8%8B%E6%9D%A5%E7%9A%84%E4%B8%80%E9%83%A8%E5%88%86%EF%BC%88search/repositories%EF%BC%89%E8%AE%A9API%E6%90%9C%E7%B4%A2GitHub%E4%B8%8A%E7%9A%84%E6%89%80%E6%9C%89%E4%BB%93%E5%BA%93%E3%80%82">https://api.github.com/）将请求发送到GitHub网站中响应API调用的部分；接下来的一部分（search/repositories）让API搜索GitHub上的所有仓库。</a></p>
<p>repositories后面的问号指出我们要传递一个实参。q表示查询，而等号让我们能够开始指定查询（q&#x3D;）。通过使用language:python，我们指出只想获取主要语言为Python的仓库的信息。最后一部分（&amp;sort&#x3D;stars）指定将项目按其获得的星级进行排序。</p>
<p>下面显示了响应的前几行。从响应可知，该URL并不适合人工输入。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;total_count&quot;</span>: <span class="number">8339355</span>,</span><br><span class="line">  <span class="string">&quot;incomplete_results&quot;</span>: true,</span><br><span class="line">  <span class="string">&quot;items&quot;</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="string">&quot;id&quot;</span>: <span class="number">54346799</span>,</span><br><span class="line">      <span class="string">&quot;node_id&quot;</span>: <span class="string">&quot;MDEwOlJlcG9zaXRvcnk1NDM0Njc5OQ==&quot;</span>,</span><br><span class="line">      <span class="string">&quot;name&quot;</span>: <span class="string">&quot;public-apis&quot;</span>,</span><br><span class="line">      <span class="string">&quot;full_name&quot;</span>: <span class="string">&quot;public-apis/public-apis&quot;</span>,</span><br><span class="line">      <span class="string">&quot;private&quot;</span>: false,</span><br><span class="line">      <span class="string">&quot;owner&quot;</span>: &#123;</span><br><span class="line">        <span class="string">&quot;login&quot;</span>: <span class="string">&quot;public-apis&quot;</span>,</span><br><span class="line">        <span class="string">&quot;id&quot;</span>: <span class="number">51121562</span>,</span><br><span class="line">        <span class="string">&quot;node_id&quot;</span>: <span class="string">&quot;MDEyOk9yZ2FuaXphdGlvbjUxMTIxNTYy&quot;</span>,</span><br><span class="line">        <span class="string">&quot;avatar_url&quot;</span>: <span class="string">&quot;https://avatars.githubusercontent.com/u/51121562?v=4&quot;</span>,</span><br><span class="line">        <span class="string">&quot;gravatar_id&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">        <span class="string">&quot;url&quot;</span>: <span class="string">&quot;https://api.github.com/users/public-apis&quot;</span>,</span><br><span class="line">        <span class="string">&quot;html_url&quot;</span>: <span class="string">&quot;https://github.com/public-apis&quot;</span>,</span><br><span class="line">        <span class="string">&quot;followers_url&quot;</span>: <span class="string">&quot;https://api.github.com/users/public-apis/followers&quot;</span>,</span><br><span class="line">        <span class="string">&quot;following_url&quot;</span>: <span class="string">&quot;https://api.github.com/users/public-apis/following&#123;/other_user&#125;&quot;</span>,</span><br><span class="line">        <span class="string">&quot;gists_url&quot;</span>: <span class="string">&quot;https://api.github.com/users/public-apis/gists&#123;/gist_id&#125;&quot;</span>,</span><br><span class="line">        <span class="string">&quot;starred_url&quot;</span>: <span class="string">&quot;https://api.github.com/users/public-apis/starred&#123;/owner&#125;&#123;/repo&#125;&quot;</span>,</span><br><span class="line">        <span class="string">&quot;subscriptions_url&quot;</span>: <span class="string">&quot;https://api.github.com/users/public-apis/subscriptions&quot;</span>,</span><br><span class="line">        <span class="string">&quot;organizations_url&quot;</span>: <span class="string">&quot;https://api.github.com/users/public-apis/orgs&quot;</span>,</span><br><span class="line">        <span class="string">&quot;repos_url&quot;</span>: <span class="string">&quot;https://api.github.com/users/public-apis/repos&quot;</span>,</span><br><span class="line">        <span class="string">&quot;events_url&quot;</span>: <span class="string">&quot;https://api.github.com/users/public-apis/events&#123;/privacy&#125;&quot;</span>,</span><br><span class="line">        <span class="string">&quot;received_events_url&quot;</span>: <span class="string">&quot;https://api.github.com/users/public-apis/received_events&quot;</span>,</span><br><span class="line">        <span class="string">&quot;type&quot;</span>: <span class="string">&quot;Organization&quot;</span>,</span><br><span class="line">        <span class="string">&quot;site_admin&quot;</span>: false</span><br><span class="line">      &#125;</span><br></pre></td></tr></table></figure>


<p>“total_count”后面的数字是在Github上面有的Python项目的总数，”incomplete_results”的值为false，据此我们知道请求是成功的（它并非不完整的）。倘若GitHub无法全面处理该API，它返回的这个值将为true。接下来的列表中显示了返回的”items”，其中包含GitHub上最受欢迎的Python项目的详细信息。</p>
<p>为了让向网站请求信息以及检查返回的响应，我们需要安装requests：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip isntall --user requests</span><br></pre></td></tr></table></figure>


<p>接着我们就可以编写一个程序，来执行API的调用和处理结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line"><span class="comment">#执行API的调用和存储响应</span></span><br><span class="line">url = <span class="string">&quot;https://api.github.com/search/repositories?q=language:python&amp;sort=stars&quot;</span></span><br><span class="line">r = requests.get(url)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Status code:&quot;</span>, r.status_code)</span><br><span class="line"></span><br><span class="line"><span class="comment">#将API响应存储在一个变量中</span></span><br><span class="line">response_dict = r.json()</span><br><span class="line"></span><br><span class="line"><span class="comment">#处理结果</span></span><br><span class="line"><span class="built_in">print</span>(response_dict.keys())</span><br></pre></td></tr></table></figure>


<p>我们首先调用了requests模块，然后我们存储了API调用的URL，然后使用requests来执行调用。</p>
<p>我们调用get()并且将URL传递给它，再将响应对象存储在变量r中，响应对象包含一个名为status_code的属性，它让我们知道请求是否成功了。</p>
<p>接着，我们打印status_code来核实调用是否真的成功了。</p>
<p>这个API返回JSON格式的信息，因此我们使用方法json()将这些信息转换为一个Python字典。我们将转换得到的字典存储在response_dict中。</p>
<p>运行的结果为：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Status code: <span class="number">200</span></span><br><span class="line">dict_keys([<span class="string">&#x27;total_count&#x27;</span>, <span class="string">&#x27;incomplete_results&#x27;</span>, <span class="string">&#x27;items&#x27;</span>])</span><br></pre></td></tr></table></figure>


<p>状态码为200，因此我们知道请求成功了。响应字典只包含三个键：’items’、’total_count’和’incomplete_results’。</p>
<p>将API调用返回的信息存储到字典中后，就可以处理这个字典中的数据了。下面来生成一些概述这些信息的输出。这是一种不错的方式，可确认收到了期望的信息，进而可以开始研究感兴趣的信息：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line"><span class="comment">#执行API的调用和存储响应</span></span><br><span class="line">url = <span class="string">&quot;https://api.github.com/search/repositories?q=language:python&amp;sort=stars&quot;</span></span><br><span class="line">r = requests.get(url)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Status code:&quot;</span>, r.status_code)</span><br><span class="line"></span><br><span class="line"><span class="comment">#将API响应存储在一个变量中</span></span><br><span class="line">response_dict = r.json()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Total repositories:&quot;</span>, response_dict[<span class="string">&#x27;total_count&#x27;</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment">#探索与仓库有关的信息</span></span><br><span class="line">repo_dicts = response_dict[<span class="string">&#x27;items&#x27;</span>]</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Repositories returned:&quot;</span>, <span class="built_in">len</span>(repo_dicts))</span><br><span class="line"></span><br><span class="line"><span class="comment">#研究第一个仓库</span></span><br><span class="line">repo_dict = repo_dicts[<span class="number">0</span>]</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;\nKeys:&quot;</span>, <span class="built_in">len</span>(repo_dict))</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> key <span class="keyword">in</span> <span class="built_in">sorted</span>(repo_dict.keys()):</span><br><span class="line">	<span class="built_in">print</span>(key)</span><br></pre></td></tr></table></figure>


<p>我们首先使用了：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Total repositories:&quot;</span>, response_dict[<span class="string">&#x27;total_count&#x27;</span>])</span><br></pre></td></tr></table></figure>


<p>打印了与total_count相关联的值，它指出了GitHub总共包含多少个Python仓库。</p>
<p>与’items’相关联的值是一个列表，其中包含很多字典，而每个字典都包含有关一个Python仓库的信息。我们将这个字典列表存储在repo_dicts中。接下来，我们打印repo_dicts的长度，以获悉我们获得了多少个仓库的信息。</p>
<p>为更深入地了解返回的有关每个仓库的信息，我们提取了repo_dicts中的第一个字典，并将其存储在repo_dict中。接下来，我们打印这个字典包含的键数，看看其中有多少信息。我们打印这个字典的所有键，看看其中包含哪些信息。</p>
<p>运行的结果为：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line">Status code: <span class="number">200</span></span><br><span class="line">Total repositories: <span class="number">8404802</span></span><br><span class="line">Repositories returned: <span class="number">30</span></span><br><span class="line"></span><br><span class="line">Keys: <span class="number">78</span></span><br><span class="line">allow_forking</span><br><span class="line">archive_url</span><br><span class="line">archived</span><br><span class="line">assignees_url</span><br><span class="line">blobs_url</span><br><span class="line">branches_url</span><br><span class="line">clone_url</span><br><span class="line">collaborators_url</span><br><span class="line">comments_url</span><br><span class="line">commits_url</span><br><span class="line">compare_url</span><br><span class="line">contents_url</span><br><span class="line">contributors_url</span><br><span class="line">created_at</span><br><span class="line">default_branch</span><br><span class="line">deployments_url</span><br><span class="line">description</span><br><span class="line">disabled</span><br><span class="line">downloads_url</span><br><span class="line">events_url</span><br><span class="line">fork</span><br><span class="line">forks</span><br><span class="line">forks_count</span><br><span class="line">forks_url</span><br><span class="line">full_name</span><br><span class="line">git_commits_url</span><br><span class="line">git_refs_url</span><br><span class="line">git_tags_url</span><br><span class="line">git_url</span><br><span class="line">has_downloads</span><br><span class="line">has_issues</span><br><span class="line">has_pages</span><br><span class="line">has_projects</span><br><span class="line">has_wiki</span><br><span class="line">homepage</span><br><span class="line">hooks_url</span><br><span class="line">html_url</span><br><span class="line"><span class="built_in">id</span></span><br><span class="line">is_template</span><br><span class="line">issue_comment_url</span><br><span class="line">issue_events_url</span><br><span class="line">issues_url</span><br><span class="line">keys_url</span><br><span class="line">labels_url</span><br><span class="line">language</span><br><span class="line">languages_url</span><br><span class="line">license</span><br><span class="line">merges_url</span><br><span class="line">milestones_url</span><br><span class="line">mirror_url</span><br><span class="line">name</span><br><span class="line">node_id</span><br><span class="line">notifications_url</span><br><span class="line">open_issues</span><br><span class="line">open_issues_count</span><br><span class="line">owner</span><br><span class="line">private</span><br><span class="line">pulls_url</span><br><span class="line">pushed_at</span><br><span class="line">releases_url</span><br><span class="line">score</span><br><span class="line">size</span><br><span class="line">ssh_url</span><br><span class="line">stargazers_count</span><br><span class="line">stargazers_url</span><br><span class="line">statuses_url</span><br><span class="line">subscribers_url</span><br><span class="line">subscription_url</span><br><span class="line">svn_url</span><br><span class="line">tags_url</span><br><span class="line">teams_url</span><br><span class="line">topics</span><br><span class="line">trees_url</span><br><span class="line">updated_at</span><br><span class="line">url</span><br><span class="line">visibility</span><br><span class="line">watchers</span><br><span class="line">watchers_count</span><br></pre></td></tr></table></figure>


<p>从上述结果可以发现，repo_dict包含有78个键。</p>
<p>我们可以来提取与repo_dict中与一些键相关联的值：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line"><span class="comment">#执行API的调用和存储响应</span></span><br><span class="line">url = <span class="string">&quot;https://api.github.com/search/repositories?q=language:python&amp;sort=stars&quot;</span></span><br><span class="line">r = requests.get(url)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Status code:&quot;</span>, r.status_code)</span><br><span class="line"></span><br><span class="line"><span class="comment">#将API响应存储在一个变量中</span></span><br><span class="line">response_dict = r.json()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Total repositories:&quot;</span>, response_dict[<span class="string">&#x27;total_count&#x27;</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment">#探索与仓库有关的信息</span></span><br><span class="line">repo_dicts = response_dict[<span class="string">&#x27;items&#x27;</span>]</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Repositories returned:&quot;</span>, <span class="built_in">len</span>(repo_dicts))</span><br><span class="line"></span><br><span class="line"><span class="comment">#研究第一个仓库</span></span><br><span class="line">repo_dict = repo_dicts[<span class="number">0</span>]</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;\nKeys:&quot;</span>, <span class="built_in">len</span>(repo_dict))</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;\nSelected information about first repository:&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;Name:&#x27;</span>, repo_dict[<span class="string">&#x27;name&#x27;</span>])</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;Owner:&#x27;</span>, repo_dict[<span class="string">&#x27;owner&#x27;</span>][<span class="string">&#x27;login&#x27;</span>])</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;Stars:&#x27;</span>, repo_dict[<span class="string">&#x27;stargazers_count&#x27;</span>])</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;Repository:&#x27;</span>, repo_dict[<span class="string">&#x27;html_url&#x27;</span>])</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;Created:&#x27;</span>, repo_dict[<span class="string">&#x27;created_at&#x27;</span>])</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;Updated:&#x27;</span>, repo_dict[<span class="string">&#x27;updated_at&#x27;</span>])</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;Description:&#x27;</span>, repo_dict[<span class="string">&#x27;description&#x27;</span>])</span><br></pre></td></tr></table></figure>


<p>我们首先打印了项目的名字，接着使用owner来访问表示所有者的字典，接着我们使用键key来获取所有者的登录名，然后我们打印项目获得了多少个星的评级，以及项目在GitHub仓库的URL，最后我们打印出来了对仓库的描述。</p>
<p>运行的结果为：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">Status code: <span class="number">200</span></span><br><span class="line">Total repositories: <span class="number">8281074</span></span><br><span class="line">Repositories returned: <span class="number">30</span></span><br><span class="line"></span><br><span class="line">Keys: <span class="number">78</span></span><br><span class="line"></span><br><span class="line">Selected information about first repository:</span><br><span class="line">Name: public-apis</span><br><span class="line">Owner: public-apis</span><br><span class="line">Stars: <span class="number">171308</span></span><br><span class="line">Repository: https://github.com/public-apis/public-apis</span><br><span class="line">Created: <span class="number">2016</span>-03-20T23:<span class="number">49</span>:42Z</span><br><span class="line">Updated: <span class="number">2021</span>-<span class="number">12</span>-13T10:08:55Z</span><br><span class="line">Description: A collective <span class="built_in">list</span> of free APIs</span><br></pre></td></tr></table></figure>


<p>由于我们需要覆盖多个仓库，所以我们将会实现一个循环：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line"><span class="comment">#执行API的调用和存储响应</span></span><br><span class="line">url = <span class="string">&quot;https://api.github.com/search/repositories?q=language:python&amp;sort=stars&quot;</span></span><br><span class="line">r = requests.get(url)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Status code:&quot;</span>, r.status_code)</span><br><span class="line"></span><br><span class="line"><span class="comment">#将API响应存储在一个变量中</span></span><br><span class="line">response_dict = r.json()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Total repositories:&quot;</span>, response_dict[<span class="string">&#x27;total_count&#x27;</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment">#探索与仓库有关的信息</span></span><br><span class="line">repo_dicts = response_dict[<span class="string">&#x27;items&#x27;</span>]</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Repositories returned:&quot;</span>, <span class="built_in">len</span>(repo_dicts))</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;\nSelected information about each repository:&quot;</span>)</span><br><span class="line"><span class="keyword">for</span> repo_dict <span class="keyword">in</span> repo_dicts:</span><br><span class="line">	<span class="built_in">print</span>(<span class="string">&#x27;\nName:&#x27;</span>, repo_dict[<span class="string">&#x27;name&#x27;</span>])</span><br><span class="line">	<span class="built_in">print</span>(<span class="string">&#x27;Owner:&#x27;</span>, repo_dict[<span class="string">&#x27;owner&#x27;</span>][<span class="string">&#x27;login&#x27;</span>])</span><br><span class="line">	<span class="built_in">print</span>(<span class="string">&#x27;Stars:&#x27;</span>, repo_dict[<span class="string">&#x27;stargazers_count&#x27;</span>])</span><br><span class="line">	<span class="built_in">print</span>(<span class="string">&#x27;Repository:&#x27;</span>, repo_dict[<span class="string">&#x27;html_url&#x27;</span>])</span><br><span class="line">	<span class="built_in">print</span>(<span class="string">&#x27;Description:&#x27;</span>, repo_dict[<span class="string">&#x27;description&#x27;</span>])</span><br></pre></td></tr></table></figure>


<p>运行的结果为：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br></pre></td><td class="code"><pre><span class="line">Status code: <span class="number">200</span></span><br><span class="line">Total repositories: <span class="number">8208296</span></span><br><span class="line">Repositories returned: <span class="number">30</span></span><br><span class="line"></span><br><span class="line">Selected information about each repository:</span><br><span class="line"></span><br><span class="line">Name: public-apis</span><br><span class="line">Owner: public-apis</span><br><span class="line">Stars: <span class="number">171308</span></span><br><span class="line">Repository: https://github.com/public-apis/public-apis</span><br><span class="line">Description: A collective <span class="built_in">list</span> of free APIs</span><br><span class="line"></span><br><span class="line">Name: system-design-primer</span><br><span class="line">Owner: donnemartin</span><br><span class="line">Stars: <span class="number">154106</span></span><br><span class="line">Repository: https://github.com/donnemartin/system-design-primer</span><br><span class="line">Description: Learn how to design large-scale systems. Prep <span class="keyword">for</span> the system design interview.  Includes Anki flashcards.</span><br><span class="line"></span><br><span class="line">Name: Python</span><br><span class="line">Owner: TheAlgorithms</span><br><span class="line">Stars: <span class="number">125402</span></span><br><span class="line">Repository: https://github.com/TheAlgorithms/Python</span><br><span class="line">Description: All Algorithms implemented <span class="keyword">in</span> Python</span><br><span class="line"></span><br><span class="line">Name: awesome-python</span><br><span class="line">Owner: vinta</span><br><span class="line">Stars: <span class="number">109777</span></span><br><span class="line">Repository: https://github.com/vinta/awesome-python</span><br><span class="line">Description: A curated <span class="built_in">list</span> of awesome Python frameworks, libraries, software <span class="keyword">and</span> resources</span><br><span class="line"></span><br><span class="line">Name: youtube-dl</span><br><span class="line">Owner: ytdl-org</span><br><span class="line">Stars: <span class="number">103129</span></span><br><span class="line">Repository: https://github.com/ytdl-org/youtube-dl</span><br><span class="line">Description: Command-line program to download videos <span class="keyword">from</span> YouTube.com <span class="keyword">and</span> other video sites</span><br><span class="line"></span><br><span class="line">Name: thefuck</span><br><span class="line">Owner: nvbn</span><br><span class="line">Stars: <span class="number">65046</span></span><br><span class="line">Repository: https://github.com/nvbn/thefuck</span><br><span class="line">Description: Magnificent app which corrects your previous console command.</span><br><span class="line"></span><br><span class="line">Name: transformers</span><br><span class="line">Owner: huggingface</span><br><span class="line">Stars: <span class="number">55433</span></span><br><span class="line">Repository: https://github.com/huggingface/transformers</span><br><span class="line">Description: 🤗 Transformers: State-of-the-art Machine Learning <span class="keyword">for</span> Pytorch, TensorFlow, <span class="keyword">and</span> JAX.</span><br><span class="line"></span><br><span class="line">Name: httpie</span><br><span class="line">Owner: httpie</span><br><span class="line">Stars: <span class="number">52990</span></span><br><span class="line">Repository: https://github.com/httpie/httpie</span><br><span class="line">Description: As easy <span class="keyword">as</span> /aitch-tee-tee-pie/ 🥧 Modern, user-friendly command-line HTTP client <span class="keyword">for</span> the API era. JSON support, colors, sessions, downloads, plugins &amp; more. https://twitter.com/httpie</span><br><span class="line"></span><br><span class="line">Name: awesome-machine-learning</span><br><span class="line">Owner: josephmisiti</span><br><span class="line">Stars: <span class="number">52093</span></span><br><span class="line">Repository: https://github.com/josephmisiti/awesome-machine-learning</span><br><span class="line">Description: A curated <span class="built_in">list</span> of awesome Machine Learning frameworks, libraries <span class="keyword">and</span> software.</span><br><span class="line"></span><br><span class="line">Name: ansible</span><br><span class="line">Owner: ansible</span><br><span class="line">Stars: <span class="number">51011</span></span><br><span class="line">Repository: https://github.com/ansible/ansible</span><br><span class="line">Description: Ansible <span class="keyword">is</span> a radically simple IT automation platform that makes your applications <span class="keyword">and</span> systems easier to deploy <span class="keyword">and</span> maintain. Automate everything <span class="keyword">from</span> code deployment to network configuration to cloud management, <span class="keyword">in</span> a language that approaches plain English, using SSH, <span class="keyword">with</span> no agents to install on remote systems. https://docs.ansible.com.</span><br><span class="line"></span><br><span class="line">Name: core</span><br><span class="line">Owner: home-assistant</span><br><span class="line">Stars: <span class="number">48131</span></span><br><span class="line">Repository: https://github.com/home-assistant/core</span><br><span class="line">Description: :house_with_garden: Open source home automation that puts local control <span class="keyword">and</span> privacy first.</span><br><span class="line"></span><br><span class="line">Name: you-get</span><br><span class="line">Owner: soimort</span><br><span class="line">Stars: <span class="number">42588</span></span><br><span class="line">Repository: https://github.com/soimort/you-get</span><br><span class="line">Description: :arrow_double_down: Dumb downloader that scrapes the web</span><br><span class="line"></span><br><span class="line">Name: face_recognition</span><br><span class="line">Owner: ageitgey</span><br><span class="line">Stars: <span class="number">42474</span></span><br><span class="line">Repository: https://github.com/ageitgey/face_recognition</span><br><span class="line">Description: The world<span class="string">&#x27;s simplest facial recognition api for Python and the command line</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Name: scrapy</span></span><br><span class="line"><span class="string">Owner: scrapy</span></span><br><span class="line"><span class="string">Stars: 42324</span></span><br><span class="line"><span class="string">Repository: https://github.com/scrapy/scrapy</span></span><br><span class="line"><span class="string">Description: Scrapy, a fast high-level web crawling &amp; scraping framework for Python.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Name: cpython</span></span><br><span class="line"><span class="string">Owner: python</span></span><br><span class="line"><span class="string">Stars: 41718</span></span><br><span class="line"><span class="string">Repository: https://github.com/python/cpython</span></span><br><span class="line"><span class="string">Description: The Python programming language</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Name: big-list-of-naughty-strings</span></span><br><span class="line"><span class="string">Owner: minimaxir</span></span><br><span class="line"><span class="string">Stars: 41617</span></span><br><span class="line"><span class="string">Repository: https://github.com/minimaxir/big-list-of-naughty-strings</span></span><br><span class="line"><span class="string">Description: The Big List of Naughty Strings is a list of strings which have a high probability of causing issues when used as user-input data.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Name: manim</span></span><br><span class="line"><span class="string">Owner: 3b1b</span></span><br><span class="line"><span class="string">Stars: 39584</span></span><br><span class="line"><span class="string">Repository: https://github.com/3b1b/manim</span></span><br><span class="line"><span class="string">Description: Animation engine for explanatory math videos</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Name: fastapi</span></span><br><span class="line"><span class="string">Owner: tiangolo</span></span><br><span class="line"><span class="string">Stars: 39290</span></span><br><span class="line"><span class="string">Repository: https://github.com/tiangolo/fastapi</span></span><br><span class="line"><span class="string">Description: FastAPI framework, high performance, easy to learn, fast to code, ready for production</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Name: localstack</span></span><br><span class="line"><span class="string">Owner: localstack</span></span><br><span class="line"><span class="string">Stars: 37640</span></span><br><span class="line"><span class="string">Repository: https://github.com/localstack/localstack</span></span><br><span class="line"><span class="string">Description: 💻  A fully functional local AWS cloud stack. Develop and test your cloud &amp; Serverless apps offline!</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Name: funNLP</span></span><br><span class="line"><span class="string">Owner: fighting41love</span></span><br><span class="line"><span class="string">Stars: 35385</span></span><br><span class="line"><span class="string">Repository: https://github.com/fighting41love/funNLP</span></span><br><span class="line"><span class="string">Description: 中英文敏感词、语言检测、中外手机/电话归属地/运营商查询、名字推断性别、手机号抽取、身份证抽取、邮箱抽取、中 日文人名库、中文缩写库、拆字词典、词汇情感值、停用词、反动词表、暴恐词表、繁简体转换、英文模拟中文发音、汪峰歌词生成器、职业名称词库、同义词库、反义词库、否定词库、汽车品牌词库、汽车零件词库、连续英文切割、各种中文词向量、公司名字大全、古诗词库、IT词库、财经词库、成语词库、地名词库、历史名人词库、诗词词库、医学词库、饮食词库、法律词库、汽车词库、动物词库、中文聊天语料、中文谣言数据、百度中文问答数据集、句子相似度匹配算法集合、bert资源、文本生成&amp;摘要相关工具、cocoNLP信息抽取工具、国内电话号码正则匹配、清华大学XLORE:中英文跨语言百科知识图谱、清华大学人工智能技术系列报告、自然语言生成、NLU太难了 系列、自动对联数据及机器人、用户名黑名单列表、罪名法务名词及分类模型、微信公众号语料、cs224n深度学习自然语言处理课程、中文手写汉字识别、中文自然语言处理 语料/数据集、变量命名神器、分词语料库+代码、任务型对话英文数据集、ASR 语音数据集 + 基于深度学习的中文语音识别系统、笑声检测器、Microsoft多语言数字/单位/如日期时间识别包、中华新华字典数据库及api(包括常用歇后 语、成语、词语和汉字)、文档图谱自动生成、SpaCy 中文模型、Common Voice语音识别数据集新版、神经网络关系抽取、基于bert的命 名实体识别、关键词(Keyphrase)抽取包pke、基于医疗领域知识图谱的问答系统、基于依存句法与语义角色标注的事件三元组抽取、依存句法分析4万句高质量标注数据、cnocr：用来做中文OCR的Python3包、中文人物关系知识图谱项目、中文nlp竞赛项目及代码汇总、中文 字符数据、speech-aligner: 从“人声语音”及其“语言文本”产生音素级别时间对齐标注的工具、AmpliGraph: 知识图谱表示学习(Python)库：知识图谱概念链接预测、Scattertext 文本可视化(python)、语言/知识表示工具：BERT &amp; ERNIE、中文对比英文自然语言处理NLP的区别综述、Synonyms中文近义词工具包、HarvestText领域自适应文本挖掘工具（新词发现-情感分析-实体链接等）、word2word：(Python)方便易用的多语言词-词对集：62种语言/3,564个多语言对、语音识别语料生成工具：从具有音频/字幕的在线视频创建自动语音识别(ASR)语料库、构建医疗实体识别的模型（包含词典和语料标注）、单文档非监督的关键词抽取、Kashgari中使用gpt-2语言模型、开源的金融投资数据提取工具、文本自动摘要库TextTeaser: 仅支持英文、人民日报语料处理工具集、一些关于自然语言的基本模型、基于14W歌曲知识库的问答尝试--功能包括歌词接龙and已知歌词找歌曲以及歌曲歌手歌词三角关系的问答、基于Siamese bilstm模型的相似句子判定模型并提供训练数据集和测试数据集、用Transformer编解码模型实现的根据Hacker News文章标题自动生成评论、用BERT进行序列标记和文本分类的模板代码、LitBank：NLP数据集——支持自然语言处理和计算人文学科任务的100部带标记英文小说语料、百度开源的基 准信息抽取系统、虚假新闻数据集、Facebook: LAMA语言模型分析，提供Transformer-XL/BERT/ELMo/GPT预训练语言模型的统一访问接口、CommonsenseQA：面向常识的英文QA挑战、中文知识图谱资料、数据及工具、各大公司内部里大牛分享的技术文档 PDF 或者 PPT、自然语言生成SQL语句（英文）、中文NLP数据增强（EDA）工具、英文NLP数据增强工具 、基于医药知识图谱的智能问答系统、京东商品知识 图谱、基于mongodb存储的军事领域知识图谱问答项目、基于远监督的中文关系抽取、语音情感分析、中文ULMFiT-情感分析-文本分类-语料及模型、一个拍照做题程序、世界各国大规模人名库、一个利用有趣中文语料库 qingyun 训练出来的中文聊天机器人、中文聊天机器 人seqGAN、省市区镇行政区划数据带拼音标注、教育行业新闻语料库包含自动文摘功能、开放了对话机器人-知识图谱-语义理解-自然语 言处理工具及数据、中文知识图谱：基于百度百科中文页面-抽取三元组信息-构建中文知识图谱、masr: 中文语音识别-提供预训练模型-高识别率、Python音频数据增广库、中文全词覆盖BERT及两份阅读理解数据、ConvLab：开源多域端到端对话系统平台、中文自然语言处 理数据集、基于最新版本rasa搭建的对话系统、基于TensorFlow和BERT的管道式实体及关系抽取、一个小型的证券知识图谱/知识库、复 盘所有NLP比赛的TOP方案、OpenCLaP：多领域开源中文预训练语言模型仓库、UER：基于不同语料+编码器+目标任务的中文预训练模型仓 库、中文自然语言处理向量合集、基于金融-司法领域(兼有闲聊性质)的聊天机器人、g2pC：基于上下文的汉语读音自动标记模块、Zincbase 知识图谱构建工具包、诗歌质量评价/细粒度情感诗歌语料库、快速转化「中文数字」和「阿拉伯数字」、百度知道问答语料库、基 于知识图谱的问答系统、jieba_fast 加速版的jieba、正则表达式教程、中文阅读理解数据集、基于BERT等最新语言模型的抽取式摘要提取、Python利用深度学习进行文本摘要的综合指南、知识图谱深度学习相关资料整理、维基大规模平行文本语料、StanfordNLP 0.2.0： 纯Python版自然语言处理包、NeuralNLP-NeuralClassifier：腾讯开源深度学习文本分类工具、端到端的封闭域对话系统、中文命名实体识别：NeuroNER vs. BertNER、新闻事件线索抽取、2019年百度的三元组抽取比赛：“科学空间队”源码、基于依存句法的开放域文本知识三元组抽取和知识库构建、中文的GPT2训练代码、ML-NLP - 机器学习(Machine Learning)NLP面试中常考到的知识点和代码实现、nlp4han:中文自然语言处理工具集(断句/分词/词性标注/组块/句法分析/语义分析/NER/N元语法/HMM/代词消解/情感分析/拼写检查、XLM：Facebook的跨语言预训练语言模型、用基于BERT的微调和特征提取方法来进行知识图谱百度百科人物词条属性抽取、中文自然语言处理相关的开放任务-数据集-当前最佳结果、CoupletAI - 基于CNN+Bi-LSTM+Attention 的自动对对联系统、抽象知识图谱、MiningZhiDaoQACorpus - 580万百度知道问答数据挖掘项目、brat rapid annotation tool: 序列标注工具、大规模中文知识图谱数据：1.4亿实体、数据增 强在机器翻译及其他nlp任务中的应用及效果、allennlp阅读理解:支持多种数据和模型、PDF表格数据提取工具 、 Graphbrain：AI开源 软件库和科研工具，目的是促进自动意义提取和文本理解以及知识的探索和推断、简历自动筛选系统、基于命名实体识别的简历自动摘要、中文语言理解测评基准，包括代表性的数据集&amp;基准模型&amp;语料库&amp;排行榜、树洞 OCR 文字识别 、从包含表格的扫描图片中识别表格和 文字、语声迁移、Python口语自然语言处理工具集(英文)、 similarity：相似度计算工具包，java编写、海量中文预训练ALBERT模型 、Transformers 2.0 、基于大规模音频数据集Audioset的音频增强 、Poplar：网页版自然语言标注工具、图片文字去除，可用于漫画翻译 、186种语言的数字叫法库、Amazon发布基于知识的人-人开放领域对话数据集 、中文文本纠错模块代码、繁简体转换 、 Python实现的多种文本可读性评价指标、类似于人名/地名/组织机构名的命名体识别数据集 、东南大学《知识图谱》研究生课程(资料)、. 英文拼写 检查库 、 wwsearch是企业微信后台自研的全文检索引擎、CHAMELEON：深度学习新闻推荐系统元架构 、 8篇论文梳理BERT相关模型进展与反思、DocSearch：免费文档搜索引擎、 LIDA：轻量交互式对话标注工具 、aili - the fastest in-memory index in the East 东半球最快并发索引 、知识图谱车音工作项目、自然语言生成资源大全 、中日韩分词库mecab的Python接口库、中文文本摘要/关键词提取、汉字字符特征提取器 (featurizer)，提取汉字的特征（发音特征、字形特征）用做深度学习的特征、中文生成任务基准测评 、中文缩写数据集、中文任务基准测评 - 代表性的数据集-基准(预训练)模型-语料库-baseline-工具包-排行榜、PySS3：面向可解释AI的SS3文本分类器机器可视化工具 、中文NLP数据集列表、COPE - 格律诗编辑程序、doccano：基于网页的开源协同多语言文本标注工具 、PreNLP： 自然语言预处理库、简单的简历解析器，用来从简历中提取关键信息、用于中文闲聊的GPT2模型：GPT2-chitchat、基于检索聊天机器人 多轮响应选择相关资源列表(Leaderboards、Datasets、Papers)、(Colab)抽象文本摘要实现集锦(教程 、词语拼音数据、高效模糊搜索 工具、NLP数据增广资源集、微软对话机器人框架 、 GitHub Typo Corpus：大规模GitHub多语言拼写错误/语法错误数据集、TextCluster：短文本聚类预处理模块 Short text cluster、面向语音识别的中文文本规范化、BLINK：最先进的实体链接库、BertPunc：基于BERT 的最先进标点修复模型、Tokenizer：快速、可定制的文本词条化库、中文语言理解测评基准，包括代表性的数据集、基准(预训练)模型 、语料库、排行榜、spaCy 医学文本挖掘与信息提取 、 NLP任务示例项目代码集、 python拼写检查库、chatbot-list - 行业内关于智 能客服、聊天机器人的应用和架构、算法分享和介绍、语音质量评价指标(MOSNet, BSSEval, STOI, PESQ, SRMR)、 用138GB语料训练的 法文RoBERTa预训练语言模型 、BERT-NER-Pytorch：三种不同模式的BERT中文NER实验、无道词典 - 有道词典的命令行版本，支持英汉互查和在线查询、2019年NLP亮点回顾、 Chinese medical dialogue data 中文医疗对话数据集 、最好的汉字数字(中文数字)-阿拉伯数字转换工具、 基于百科知识库的中文词语多词义/义项获取与特定句子词语语义消歧、awesome-nlp-sentiment-analysis - 情感分析、情 绪原因识别、评价对象和评价词抽取、LineFlow：面向所有深度学习框架的NLP数据高效加载器、中文医学NLP公开资源整理 、MedQuAD：(英文)医学问答数据集、将自然语言数字串解析转换为整数和浮点数、Transfer Learning in Natural Language Processing (NLP) 、 面向语音识别的中文/英文发音辞典、Tokenizers：注重性能与多功能性的最先进分词器、CLUENER 细粒度命名实体识别 Fine Grained Named Entity Recognition、 基于BERT的中文命名实体识别、中文谣言数据库、NLP数据集/基准任务大列表、nlp相关的一些论文及代码, 包括主题模型、词向量(Word Embedding)、命名实体识别(NER)、文本分类(Text Classificatin)、文本生成(Text Generation)、文本 相似性(Text Similarity)计算等，涉及到各种与nlp相关的算法，基于keras和tensorflow 、Python文本挖掘/NLP实战示例、 Blackstone：面向非结构化法律文本的spaCy pipeline和NLP模型通过同义词替换实现文本“变脸” 、中文 预训练 ELECTREA 模型: 基于对抗学习 pretrain Chinese Model 、albert-chinese-ner - 用预训练语言模型ALBERT做中文NER 、基于GPT2的特定主题文本生成/文本增广、开源预训练语言模型合集、多语言句向量包、编码、标记和实现：一种可控高效的文本生成方法、 英文脏话大列表 、attnvis：GPT2、BERT等transformer语言模型注意力交互可视化、CoVoST：Facebook发布的多语种语音-文本翻译语料库，包括11种语言(法语、德语、荷兰语、俄语、西班牙语、意大利语、土耳其语、波斯语、瑞典语、蒙古语和中文)的语音、文字转录及英文译文、Jiagu自然语言处理工具 -  以BiLSTM等模型为基础，提供知识图谱关系抽取 中文分词 词性标注 命名实体识别 情感分析 新词发现 关键词 文本摘要 文本聚类等功能、用unet实现对文档表格的自动检测，表格重建、NLP事件提取文献资源列表 、 金融领域自然语言处理研究资源大列表、CLUEDatasetSearch - 中英文NLP数据集：搜索所有中文NLP数据集，附常用英文NLP数据集 、medical_NER - 中文医学知识图谱命名实体识别 、(哈 佛)讲因果推理的免费书、知识图谱相关学习资料/数据集/工具资源大列表、Forte：灵活强大的自然语言处理pipeline工具集 、Python 字符串相似性算法库、PyLaia：面向手写文档分析的深度学习工具包、TextFooler：针对文本分类/推理的对抗文本生成模块、Haystack ：灵活、强大的可扩展问答(QA)框架、中文关键短语抽取工具</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Name: shadowsocks</span></span><br><span class="line"><span class="string">Owner: shadowsocks</span></span><br><span class="line"><span class="string">Stars: 33087</span></span><br><span class="line"><span class="string">Repository: https://github.com/shadowsocks/shadowsocks</span></span><br><span class="line"><span class="string">Description: None</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Name: interview_internal_reference</span></span><br><span class="line"><span class="string">Owner: 0voice</span></span><br><span class="line"><span class="string">Stars: 32959</span></span><br><span class="line"><span class="string">Repository: https://github.com/0voice/interview_internal_reference</span></span><br><span class="line"><span class="string">Description: 2021年最新总结，阿里，腾讯，百度，美团，头条等技术面试题目，以及答案，专家出题人分析汇总。</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Name: PayloadsAllTheThings</span></span><br><span class="line"><span class="string">Owner: swisskyrepo</span></span><br><span class="line"><span class="string">Stars: 32722</span></span><br><span class="line"><span class="string">Repository: https://github.com/swisskyrepo/PayloadsAllTheThings</span></span><br><span class="line"><span class="string">Description: A list of useful payloads and bypass for Web Application Security and Pentest/CTF</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Name: pandas</span></span><br><span class="line"><span class="string">Owner: pandas-dev</span></span><br><span class="line"><span class="string">Stars: 31977</span></span><br><span class="line"><span class="string">Repository: https://github.com/pandas-dev/pandas</span></span><br><span class="line"><span class="string">Description: Flexible and powerful data analysis / manipulation library for Python, providing labeled data structures similar to R data.frame objects, statistical functions, and much more</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Name: Real-Time-Voice-Cloning</span></span><br><span class="line"><span class="string">Owner: CorentinJ</span></span><br><span class="line"><span class="string">Stars: 31782</span></span><br><span class="line"><span class="string">Repository: https://github.com/CorentinJ/Real-Time-Voice-Cloning</span></span><br><span class="line"><span class="string">Description: Clone a voice in 5 seconds to generate arbitrary speech in real-time</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Name: openpilot</span></span><br><span class="line"><span class="string">Owner: commaai</span></span><br><span class="line"><span class="string">Stars: 31629</span></span><br><span class="line"><span class="string">Repository: https://github.com/commaai/openpilot</span></span><br><span class="line"><span class="string">Description: openpilot is an open source driver assistance system. openpilot performs the functions of Automated Lane Centering and Adaptive Cruise Control for over 150 supported car makes and models.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Name: Deep-Learning-Papers-Reading-Roadmap</span></span><br><span class="line"><span class="string">Owner: floodsung</span></span><br><span class="line"><span class="string">Stars: 31207</span></span><br><span class="line"><span class="string">Repository: https://github.com/floodsung/Deep-Learning-Papers-Reading-Roadmap</span></span><br><span class="line"><span class="string">Description: Deep Learning papers reading roadmap for anyone who are eager to learn this amazing tech!</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Name: DeepFaceLab</span></span><br><span class="line"><span class="string">Owner: iperov</span></span><br><span class="line"><span class="string">Stars: 30237</span></span><br><span class="line"><span class="string">Repository: https://github.com/iperov/DeepFaceLab</span></span><br><span class="line"><span class="string">Description: DeepFaceLab is the leading software for creating deepfakes.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Name: bert</span></span><br><span class="line"><span class="string">Owner: google-research</span></span><br><span class="line"><span class="string">Stars: 29936</span></span><br><span class="line"><span class="string">Repository: https://github.com/google-research/bert</span></span><br><span class="line"><span class="string">Description: TensorFlow code and pre-trained models for BERT</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Name: d2l-zh</span></span><br><span class="line"><span class="string">Owner: d2l-ai</span></span><br><span class="line"><span class="string">Stars: 28957</span></span><br><span class="line"><span class="string">Repository: https://github.com/d2l-ai/d2l-zh</span></span><br><span class="line"><span class="string">Description: 《动手学深度学习》：面向中文读者、能运行、可讨论。中英文版被55个国家的300所大学用于教学。</span></span><br></pre></td></tr></table></figure>


<h2 id="使用Pygal可视化仓库"><a href="#使用Pygal可视化仓库" class="headerlink" title="使用Pygal可视化仓库"></a>使用Pygal可视化仓库</h2><p>我们首先来安装pygal模块：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip3 install pygal</span><br></pre></td></tr></table></figure>


<p>当我们有了一些有趣的数据之后，我们可以进行数据可视化，来呈现Github上Python项目的受欢迎程度。</p>
<p>我们创建一个交互式条形图：条形图的高度表示项目获得了多少个星。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> pygal</span><br><span class="line"><span class="keyword">from</span> pygal.style <span class="keyword">import</span> LightColorizedStyle <span class="keyword">as</span> LCS, LightenStyle <span class="keyword">as</span> LS</span><br><span class="line"></span><br><span class="line"><span class="comment">#执行API的调用和存储响应</span></span><br><span class="line">url = <span class="string">&quot;https://api.github.com/search/repositories?q=language:python&amp;sort=stars&quot;</span></span><br><span class="line">r = requests.get(url)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Status code:&quot;</span>, r.status_code)</span><br><span class="line"></span><br><span class="line"><span class="comment">#将API响应存储在一个变量中</span></span><br><span class="line">response_dict = r.json()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Total repositories:&quot;</span>, response_dict[<span class="string">&#x27;total_count&#x27;</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment">#探索与仓库有关的信息</span></span><br><span class="line">repo_dicts = response_dict[<span class="string">&#x27;items&#x27;</span>]</span><br><span class="line"></span><br><span class="line">names, stars = [], []</span><br><span class="line"><span class="keyword">for</span> repo_dict <span class="keyword">in</span> repo_dicts:</span><br><span class="line">	names.append(repo_dict[<span class="string">&quot;name&quot;</span>])</span><br><span class="line">	stars.append(repo_dict[<span class="string">&quot;stargazers_count&quot;</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment">#可视化</span></span><br><span class="line">my_style = LS(<span class="string">&quot;#333366&quot;</span>, base_style = LCS)</span><br><span class="line">chart = pygal.Bar(style= my_style, x_label_rotation = <span class="number">45</span>, show_legend = <span class="literal">False</span>)</span><br><span class="line">chart.title = <span class="string">&quot;Most-Starred Python Projects on Github&quot;</span></span><br><span class="line">chart.x_labels = names</span><br><span class="line"></span><br><span class="line">chart.add(<span class="string">&#x27;&#x27;</span>, stars)</span><br><span class="line">chart.render_to_file(<span class="string">&quot;python_repos.svg&quot;</span>)</span><br></pre></td></tr></table></figure>


<p>我们首先导入了pygal以及要应用于图表的Pygal样式。接下来，打印API调用响应的状态以及找到的仓库总数，以便获悉API调用是否出现了问题。我们不再打印返回的有关项目的信息，因为将通过可视化来呈现这些信息。</p>
<p>我们首先使用：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">names, stars = [], []</span><br></pre></td></tr></table></figure>


<p>创建了两个空列表，用于存储将包含在图表中的信息。</p>
<p>我们需要每个项目的名称，用于给条形加上标签，我们还需要知道项目获得了多少个星，用于确定条形的高度。在循环中，我们将项目的名称和获得的星数附加到这些列表的末尾</p>
<p>接下来，我们使用LightenStyle类（别名LS）定义了一种样式，并将其基色设置为深蓝色。我们还传递了实参base_style，以使LightColorizedStyle类（别名LCS）。然后，我们使用Bar()创建一个简单的条形图，并向它传递了my_style。我们还传递了另外两个样式实参：让标签绕x轴旋转45度（x_label_rotation&#x3D;45），并隐藏了图（show_legend&#x3D;False），因为我们只在图表中绘制一个数据系列。接下来，我们给图表指定了标题，并将属性x_labels设置为列表names。</p>
<p>由于我们不需要给这个数据系列添加标签，因此在添加数据时，将标签设置成了空字符串。</p>
<p>运行的结果为：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Status code: <span class="number">200</span></span><br><span class="line">Total repositories: <span class="number">7895797</span></span><br></pre></td></tr></table></figure>


<p>和：</p>
<p><img src="/2023/05/29/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/k_qna5rhav.svg" title="python_repos.svg"></p>
<p>接着我们改进pygal图表：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> pygal</span><br><span class="line"><span class="keyword">from</span> pygal.style <span class="keyword">import</span> LightColorizedStyle <span class="keyword">as</span> LCS, LightenStyle <span class="keyword">as</span> LS</span><br><span class="line"></span><br><span class="line"><span class="comment">#执行API的调用和存储响应</span></span><br><span class="line">url = <span class="string">&quot;https://api.github.com/search/repositories?q=language:python&amp;sort=stars&quot;</span></span><br><span class="line">r = requests.get(url)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Status code:&quot;</span>, r.status_code)</span><br><span class="line"></span><br><span class="line"><span class="comment">#将API响应存储在一个变量中</span></span><br><span class="line">response_dict = r.json()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Total repositories:&quot;</span>, response_dict[<span class="string">&#x27;total_count&#x27;</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment">#探索与仓库有关的信息</span></span><br><span class="line">repo_dicts = response_dict[<span class="string">&#x27;items&#x27;</span>]</span><br><span class="line"></span><br><span class="line">names, stars = [], []</span><br><span class="line"><span class="keyword">for</span> repo_dict <span class="keyword">in</span> repo_dicts:</span><br><span class="line">	names.append(repo_dict[<span class="string">&quot;name&quot;</span>])</span><br><span class="line">	stars.append(repo_dict[<span class="string">&quot;stargazers_count&quot;</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment">#可视化</span></span><br><span class="line">my_style = LS(<span class="string">&quot;#333366&quot;</span>, base_style = LCS)</span><br><span class="line">my_config = pygal.Config()</span><br><span class="line">my_config.x_labels_rotation = <span class="number">45</span></span><br><span class="line">my_config.show_legend = <span class="literal">False</span></span><br><span class="line">my_config.title_font_size = <span class="number">24</span></span><br><span class="line">my_config.label_font_size = <span class="number">14</span></span><br><span class="line">my_config.major_label_font_size = <span class="number">18</span></span><br><span class="line">my_config.truncate_label = <span class="number">15</span></span><br><span class="line">my_config.show_y_guides = <span class="literal">False</span></span><br><span class="line">my_config.width = <span class="number">1000</span></span><br><span class="line"></span><br><span class="line">chart = pygal.Bar(my_config, stule = my_style)</span><br><span class="line">chart.title = <span class="string">&quot;Most-Starred Python Projects on Github&quot;</span></span><br><span class="line">chart.x_labels = names</span><br><span class="line"></span><br><span class="line">chart.add(<span class="string">&#x27;&#x27;</span>, stars)</span><br><span class="line">chart.render_to_file(<span class="string">&quot;python_repos.svg&quot;</span>)</span><br></pre></td></tr></table></figure>


<p>我们创建了一个Pygal类Config的实例，并将其命名为my_config。通过修改my_config的属性，可定制图表的外观。</p>
<p>我们设置了两个属性——x_label_rotation和show_legend，它们原来是在创建Bar实例时以关键字实参的方式传递的。</p>
<p>我们设置了图表标题、副标签和主标签的字体大小。在这个图表中，副标签是x轴上的项目名以及y轴上的大部分数字。主标签是y轴上为5000整数倍的刻度；这些标签应更大，以与副标签区分开来。</p>
<h1 id="下载数据"><a href="#下载数据" class="headerlink" title="下载数据"></a>下载数据</h1><h2 id="CSV文件格式"><a href="#CSV文件格式" class="headerlink" title="CSV文件格式"></a>CSV文件格式</h2><p>要在文本文件中存储数据，最简单的方式是将数据作为一系列以逗号分隔的值（CSV）写入文件。这样的文件称为CSV文件。例如，下面是一行CSV格式的天气数据：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2014</span>-<span class="number">1</span>-<span class="number">5</span>,<span class="number">61</span>,<span class="number">44</span>,<span class="number">26</span>,<span class="number">18</span>,<span class="number">7</span>,-<span class="number">1</span>,<span class="number">56</span>,<span class="number">30</span>,<span class="number">9</span>,<span class="number">30.34</span>,<span class="number">30.27</span>,<span class="number">30.15</span>,,,,<span class="number">10</span>,<span class="number">4</span>,,<span class="number">0.00</span>,<span class="number">0</span>,,<span class="number">195</span></span><br></pre></td></tr></table></figure>


<p>这里采用了一份文件：</p>
<p><a href="file/rxxn4qsjhw.csv">rxxn4qsjhw.csv</a></p>
<p>这是阿拉斯加锡特卡2014年1月5日的天气数据，其中包含当天的最高气温和最低气温，还有众多其他数据。CSV文件对人来说阅读起来比较麻烦，但程序可轻松地提取并处理其中的值，这有助于加快数据分析过程。</p>
<h2 id="分析CSV文件头"><a href="#分析CSV文件头" class="headerlink" title="分析CSV文件头"></a>分析CSV文件头</h2><p>csv模块包含在Python标准库中，可用于分析CSV文件中的数据行，让我们能够快速提取感兴趣的值。下面先来查看这个文件的第一行，其中包含一系列有关数据的描述：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> csv</span><br><span class="line"></span><br><span class="line">filename = <span class="string">&#x27;sitka_weather_07-2014.csv&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(filename) <span class="keyword">as</span> f:</span><br><span class="line">    reader = csv.reader(f)</span><br><span class="line">    header_row = <span class="built_in">next</span>(reader) </span><br><span class="line">    <span class="built_in">print</span>(header_row)</span><br></pre></td></tr></table></figure>


<p>导入模块CSV后，我们将要使用的文件名称存储在filename中。接下来，我们打开这个文件，并且将结果文件对象存储在f中。</p>
<p>接着我们调用csv.reader()，并且将前面存储的文件对象作为实参传递给它，从而创建一个与该文件相关联的阅读器（reader）对象。我们将这个阅读器对象存储在reader中。</p>
<p>模块csv包含了函数next()，调用它并将阅读器对象传递给它时，它将返回文件中的下一行。</p>
<p>在前面的代码中，我们只调用了next()一次，因此得到的是文件的第一行，其中包含文件头。我们将返回的数据存储在header_row中。正如你看到的，header_row包含与天气相关的文件头，指出了每行都包含哪些数据：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="string">&#x27;AKDT&#x27;</span>, <span class="string">&#x27;Max TemperatureF&#x27;</span>, <span class="string">&#x27;Mean TemperatureF&#x27;</span>, <span class="string">&#x27;Min TemperatureF&#x27;</span>, <span class="string">&#x27;Max Dew PointF&#x27;</span>, <span class="string">&#x27;MeanDew PointF&#x27;</span>, <span class="string">&#x27;Min DewpointF&#x27;</span>, <span class="string">&#x27;Max Humidity&#x27;</span>, <span class="string">&#x27; Mean Humidity&#x27;</span>, <span class="string">&#x27; Min Humidity&#x27;</span>, <span class="string">&#x27; Max Sea Level PressureIn&#x27;</span>, <span class="string">&#x27; Mean Sea Level PressureIn&#x27;</span>, <span class="string">&#x27; Min Sea Level PressureIn&#x27;</span>, <span class="string">&#x27; Max VisibilityMiles&#x27;</span>, <span class="string">&#x27; Mean VisibilityMiles&#x27;</span>, <span class="string">&#x27; Min VisibilityMiles&#x27;</span>, <span class="string">&#x27; Max Wind SpeedMPH&#x27;</span>, <span class="string">&#x27; Mean Wind SpeedMPH&#x27;</span>, <span class="string">&#x27; Max Gust SpeedMPH&#x27;</span>, <span class="string">&#x27;PrecipitationIn&#x27;</span>, <span class="string">&#x27; CloudCover&#x27;</span>, <span class="string">&#x27; Events&#x27;</span>, <span class="string">&#x27; WindDirDegrees&#x27;</span>]</span><br></pre></td></tr></table></figure>


<p>reader处理文件中以逗号分隔的第一行数据，并将每项数据都作为一个元素存储在列表中。文件头AKDT表示阿拉斯加时间（Alaska Daylight Time），其位置表明每行的第一个值都是日期或时间。文件头Max TemperatureF指出每行的第二个值都是当天的最高华氏温度。可通过阅读其他的文件头来确定文件包含的信息类型。</p>
<p>为了让文件头数据更加容易被理解，将列表中的每个文件头以及其位置都打印出来：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">import csv</span><br><span class="line"></span><br><span class="line">filename = &#x27;sitka_weather_07-2014.csv&#x27;</span><br><span class="line"></span><br><span class="line">with open(filename) as f:</span><br><span class="line">    reader = csv.reader(f)</span><br><span class="line">    header_row = next(reader)</span><br><span class="line">    for index, column_header in enumerate(header_row):</span><br><span class="line">        print(index, column_header)</span><br></pre></td></tr></table></figure>


<p>在这里我们使用了enumerate()函数，enumerate() 函数用于将一个可遍历的数据对象(如列表、元组或字符串)组合为一个索引序列，同时列出数据和数据下标。</p>
<p>输出结果如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0</span> AKDT</span><br><span class="line"><span class="number">1</span> Max TemperatureF</span><br><span class="line"><span class="number">2</span> Mean TemperatureF</span><br><span class="line"><span class="number">3</span> Min TemperatureF</span><br><span class="line"><span class="number">4</span> Max Dew PointF</span><br><span class="line"><span class="number">5</span> MeanDew PointF</span><br><span class="line"><span class="number">6</span> Min DewpointF</span><br><span class="line"><span class="number">7</span> Max Humidity</span><br><span class="line"><span class="number">8</span>  Mean Humidity</span><br><span class="line"><span class="number">9</span>  Min Humidity</span><br><span class="line"><span class="number">10</span>  Max Sea Level PressureIn</span><br><span class="line"><span class="number">11</span>  Mean Sea Level PressureIn</span><br><span class="line"><span class="number">12</span>  Min Sea Level PressureIn</span><br><span class="line"><span class="number">13</span>  Max VisibilityMiles</span><br><span class="line"><span class="number">14</span>  Mean VisibilityMiles</span><br><span class="line"><span class="number">15</span>  Min VisibilityMiles</span><br><span class="line"><span class="number">16</span>  Max Wind SpeedMPH</span><br><span class="line"><span class="number">17</span>  Mean Wind SpeedMPH</span><br><span class="line"><span class="number">18</span>  Max Gust SpeedMPH</span><br><span class="line"><span class="number">19</span> PrecipitationIn</span><br><span class="line"><span class="number">20</span>  CloudCover</span><br><span class="line"><span class="number">21</span>  Events</span><br><span class="line"><span class="number">22</span>  WindDirDegrees</span><br></pre></td></tr></table></figure>


<p>从中可知，日期和最高气温分别存储在第0列和第1列。为研究这些数据，我们将处理sitka_weather_07-2014.csv中的每行数据，并提取其中索引为0和1的值。</p>
<p>知道需要哪些列中的数据后，我们来读取一些数据。首先读取每天的最高气温：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> csv</span><br><span class="line"></span><br><span class="line">filename = <span class="string">&#x27;sitka_weather_07-2014.csv&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(filename) <span class="keyword">as</span> f:</span><br><span class="line">    reader = csv.reader(f)</span><br><span class="line">    header_row = <span class="built_in">next</span>(reader)</span><br><span class="line"></span><br><span class="line">    highs = []</span><br><span class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> reader:</span><br><span class="line">        highs.append(row[<span class="number">1</span>])</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(highs)</span><br></pre></td></tr></table></figure>


<p>运行的结果为：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="string">&#x27;64&#x27;</span>, <span class="string">&#x27;71&#x27;</span>, <span class="string">&#x27;64&#x27;</span>, <span class="string">&#x27;59&#x27;</span>, <span class="string">&#x27;69&#x27;</span>, <span class="string">&#x27;62&#x27;</span>, <span class="string">&#x27;61&#x27;</span>, <span class="string">&#x27;55&#x27;</span>, <span class="string">&#x27;57&#x27;</span>, <span class="string">&#x27;61&#x27;</span>, <span class="string">&#x27;57&#x27;</span>, <span class="string">&#x27;59&#x27;</span>, <span class="string">&#x27;57&#x27;</span>, <span class="string">&#x27;61&#x27;</span>, <span class="string">&#x27;64&#x27;</span>, <span class="string">&#x27;61&#x27;</span>, <span class="string">&#x27;59&#x27;</span>, <span class="string">&#x27;63&#x27;</span>, <span class="string">&#x27;60&#x27;</span>, <span class="string">&#x27;57&#x27;</span>, <span class="string">&#x27;69&#x27;</span>, <span class="string">&#x27;63&#x27;</span>, <span class="string">&#x27;62&#x27;</span>, <span class="string">&#x27;59&#x27;</span>, <span class="string">&#x27;57&#x27;</span>, <span class="string">&#x27;57&#x27;</span>, <span class="string">&#x27;61&#x27;</span>, <span class="string">&#x27;59&#x27;</span>, <span class="string">&#x27;61&#x27;</span>, <span class="string">&#x27;61&#x27;</span>, <span class="string">&#x27;66&#x27;</span>]</span><br></pre></td></tr></table></figure>


<p>我们创建了一个名为highs的空列表，再遍历文件中余下的各行。阅读器对象从其停留的地方继续往下读取CSV文件，每次都自动返回当前所处位置的下一行。由于我们已经读取了文件头行，这个循环将从第二行开始——从这行开始包含的是实际数据。每次执行该循环时，我们都将索引1处（第2列）的数据附加到highs末。</p>
<p>然后我们将这些数据转换为int类型的数字，再将其附加到列表末尾。这样，最终的列表将包含以数字表示的每日最高气温：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">64</span>, <span class="number">71</span>, <span class="number">64</span>, <span class="number">59</span>, <span class="number">69</span>, <span class="number">62</span>, <span class="number">61</span>, <span class="number">55</span>, <span class="number">57</span>, <span class="number">61</span>, <span class="number">57</span>, <span class="number">59</span>, <span class="number">57</span>, <span class="number">61</span>, <span class="number">64</span>, <span class="number">61</span>, <span class="number">59</span>, <span class="number">63</span>, <span class="number">60</span>, <span class="number">57</span>, <span class="number">69</span>, <span class="number">63</span>, <span class="number">62</span>, <span class="number">59</span>, <span class="number">57</span>, <span class="number">57</span>, <span class="number">61</span>, <span class="number">59</span>, <span class="number">61</span>, <span class="number">61</span>, <span class="number">66</span>]</span><br></pre></td></tr></table></figure>


<p>接下来我们就需要对这些数据进行可视化。</p>
<p>为可视化这些气温数据，我们首先使用matplotlib创建一个显示每日最高气温的简单图形，如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> csv</span><br><span class="line"><span class="keyword">from</span> matplotlib <span class="keyword">import</span> pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">filename = <span class="string">&#x27;sitka_weather_07-2014.csv&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#从文件中获取最高气温</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(filename) <span class="keyword">as</span> f:</span><br><span class="line">    reader = csv.reader(f)</span><br><span class="line">    header_row = <span class="built_in">next</span>(reader)</span><br><span class="line">    highs = []</span><br><span class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> reader:</span><br><span class="line">        high = <span class="built_in">int</span>(row[<span class="number">1</span>])</span><br><span class="line">        highs.append(high)</span><br><span class="line"></span><br><span class="line"><span class="comment">#根据数据绘制图形</span></span><br><span class="line">fig = plt.figure(dpi=<span class="number">128</span>, figsize=(<span class="number">10</span>,<span class="number">6</span>))</span><br><span class="line">plt.plot(highs, c=<span class="string">&quot;red&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#设置图形的格式</span></span><br><span class="line">plt.title(<span class="string">&quot;Daily high temperatures, July 2014&quot;</span>, fontsize = <span class="number">24</span>)</span><br><span class="line">plt.xlabel(<span class="string">&quot;&quot;</span>, fontsize = <span class="number">16</span>)</span><br><span class="line">plt.ylabel(<span class="string">&quot;Temperature(F)&quot;</span>, fontsize = <span class="number">16</span>)</span><br><span class="line">plt.tick_params(axis=<span class="string">&quot;both&quot;</span>, which = <span class="string">&quot;major&quot;</span>, labelsize = <span class="number">16</span>)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>


<p>我们首先将最高气温列表传给了plot()，并且我们通过c&#x3D;”red”传递以便将数据点绘制为红色。</p>
<p>接下来，我们设置了一些其他的格式，如字体大小和标签。</p>
<p>运行的结果为：</p>
<p><img src="/2023/05/29/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/qw1a5mp1lg-1685354464578-23.png" title="Untitled"></p>
<p>不过我们在上述的途中缺乏了x轴所表示的日期信息。</p>
<p>我们接下来要在图表中添加日期，使其更加有用。在天气数据文件中，第一个日期在第二行：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2014</span>-<span class="number">7</span>-<span class="number">1</span>,<span class="number">64</span>,<span class="number">56</span>,<span class="number">50</span>,<span class="number">53</span>,<span class="number">51</span>,<span class="number">48</span>,<span class="number">96</span>,<span class="number">83</span>,<span class="number">58</span>,<span class="number">30.19</span>,--snip--</span><br></pre></td></tr></table></figure>


<p>读取该数据时，获得的是一个字符串，因为我们需要想办法将字符串’2014-7-1’转换为一个表示相应日期的对象。为创建一个表示2014年7月1日的对象，可使用模块datetime中的方法strptime()。我们在终端会话中看看strptime()的工作原理：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Python <span class="number">3.7</span><span class="number">.9</span> (tags/v3<span class="number">.7</span><span class="number">.9</span>:13c94747c7, Aug <span class="number">17</span> <span class="number">2020</span>, <span class="number">18</span>:<span class="number">58</span>:<span class="number">18</span>) [MSC v<span class="number">.1900</span> <span class="number">64</span> bit (AMD64)] on win32</span><br><span class="line"><span class="type">Type</span> <span class="string">&quot;help&quot;</span>, <span class="string">&quot;copyright&quot;</span>, <span class="string">&quot;credits&quot;</span> <span class="keyword">or</span> <span class="string">&quot;license&quot;</span> <span class="keyword">for</span> more information.</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> datetime <span class="keyword">import</span> datetime</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>first_date = datetime.strptime(<span class="string">&quot;2014-7-1&quot;</span>,<span class="string">&quot;%Y-%m-%d&quot;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(first_date)</span><br><span class="line"><span class="number">2014</span>-07-01 <span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span></span><br></pre></td></tr></table></figure>


<p>我们首先导入了模块datetime中的tatetime类，然后调用方法strptime()，并且将包含所需日期的字符串作为第一个实参。</p>
<p>第二个实参则告诉了Python如何设置日期的格式，”%Y-“让Python将字符串中第一个连字符串前面的部分视为四位的年份；%m-则是让Python将第二个连字符前面的部分视为表示月份的数字；而“%d”让Python1将字符串的最后一部分视为月份中的一天。</p>
<p>方法strptime()可接受各种实参，并根据它们来决定如何解读日期。表16-1列出了其中一些这样的实参。</p>
<p><img src="/2023/05/29/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/1yl6o2epnz-1685354464578-24.png" title="Untitled"></p>
<p>我们接着在图表中添加日期：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> csv</span><br><span class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> datetime</span><br><span class="line"><span class="keyword">from</span> matplotlib <span class="keyword">import</span> pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">filename = <span class="string">&#x27;sitka_weather_07-2014.csv&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#从文件中获取最高气温</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(filename) <span class="keyword">as</span> f:</span><br><span class="line">    reader = csv.reader(f)</span><br><span class="line">    header_row = <span class="built_in">next</span>(reader)</span><br><span class="line"></span><br><span class="line">    dates, highs = [], []</span><br><span class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> reader:</span><br><span class="line">        current_date = datetime.strptime(row[<span class="number">0</span>], <span class="string">&quot;%Y-%m-%d&quot;</span>)</span><br><span class="line">        dates.append(current_date)</span><br><span class="line">        high = <span class="built_in">int</span>(row[<span class="number">1</span>])</span><br><span class="line">        highs.append(high)</span><br><span class="line"></span><br><span class="line">    <span class="comment">#根据数据绘制图形</span></span><br><span class="line">fig = plt.figure(dpi=<span class="number">128</span>, figsize=(<span class="number">10</span>,<span class="number">6</span>))</span><br><span class="line">plt.plot(dates, highs, c=<span class="string">&quot;red&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#设置图形的格式</span></span><br><span class="line">plt.title(<span class="string">&quot;Daily high temperatures, July 2014&quot;</span>, fontsize = <span class="number">24</span>)</span><br><span class="line">plt.xlabel(<span class="string">&quot;&quot;</span>, fontsize = <span class="number">16</span>)</span><br><span class="line">fig.autofmt_xdate()</span><br><span class="line">plt.ylabel(<span class="string">&quot;Temperature(F)&quot;</span>, fontsize = <span class="number">16</span>)</span><br><span class="line">plt.tick_params(axis=<span class="string">&quot;both&quot;</span>, which = <span class="string">&quot;major&quot;</span>, labelsize = <span class="number">16</span>)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>


<p>运行的结果为：</p>
<p><img src="/2023/05/29/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/6baii0uxj7-1685354464578-25.png" title="Untitled"></p>
<p>我们创建了两个空列表，用于存储从文件中提取的日期和最高气温。然后，我们将包含日期信息的数据（row[0]）转换为datetime对象，并将其附加到列表dates末尾。我们将日期和最高气温值传递给plot()。我们调用了fig.autofmt_xdate()来绘制斜的日期标签，以免它们彼此重叠。</p>
<p>设置好图表之后，我们来添加更多的数据，好生成一副更加复杂的锡特卡天气图。</p>
<p>这时候我们需要使用到另一个数据文件：</p>
<p><a href="file/ibzwcepqx5.csv">ibzwcepqx5.csv</a></p>
<p>基于这个数据文件，我们来以创建覆盖整年的天气图：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> csv</span><br><span class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> datetime</span><br><span class="line"><span class="keyword">from</span> matplotlib <span class="keyword">import</span> pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">filename = <span class="string">&#x27;sitka_weather_2014.csv&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#从文件中获取最高气温</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(filename) <span class="keyword">as</span> f:</span><br><span class="line">    reader = csv.reader(f)</span><br><span class="line">    header_row = <span class="built_in">next</span>(reader)</span><br><span class="line"></span><br><span class="line">    dates, highs, lows = [], [], []</span><br><span class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> reader:</span><br><span class="line">        current_date = datetime.strptime(row[<span class="number">0</span>], <span class="string">&quot;%Y-%m-%d&quot;</span>)</span><br><span class="line">        dates.append(current_date)</span><br><span class="line"></span><br><span class="line">        high = <span class="built_in">int</span>(row[<span class="number">1</span>])</span><br><span class="line">        highs.append(high)</span><br><span class="line"></span><br><span class="line">        low = <span class="built_in">int</span>(row[<span class="number">3</span>])</span><br><span class="line">        lows.append(low)</span><br><span class="line"></span><br><span class="line">    <span class="comment">#根据数据绘制图形</span></span><br><span class="line">fig = plt.figure(dpi=<span class="number">128</span>, figsize=(<span class="number">10</span>,<span class="number">6</span>))</span><br><span class="line">plt.plot(dates, highs, c=<span class="string">&quot;red&quot;</span>)</span><br><span class="line">plt.plot(dates, lows, c=<span class="string">&quot;blue&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#设置图形的格式</span></span><br><span class="line">plt.title(<span class="string">&quot;Daily high temperatures - 2014&quot;</span>, fontsize = <span class="number">24</span>)</span><br><span class="line">plt.xlabel(<span class="string">&quot;&quot;</span>, fontsize = <span class="number">16</span>)</span><br><span class="line">fig.autofmt_xdate()</span><br><span class="line">plt.ylabel(<span class="string">&quot;Temperature(F)&quot;</span>, fontsize = <span class="number">16</span>)</span><br><span class="line">plt.tick_params(axis=<span class="string">&quot;both&quot;</span>, which = <span class="string">&quot;major&quot;</span>, labelsize = <span class="number">16</span>)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>


<p>运行的结果为：</p>
<p><img src="/2023/05/29/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/8p2wbntds--1685354464578-26.png" title="Untitled"></p>
<p>添加两个数据系列后，我们就可以了解每天的气温范围了。下面来给这个图表做最后的修饰，通过着色来呈现每天的气温范围。为此，我们将使用方法fill_between()，它接受一个x值系列和两个y值系列，并填充两个y值系列之间的空间：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> csv</span><br><span class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> datetime</span><br><span class="line"><span class="keyword">from</span> matplotlib <span class="keyword">import</span> pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">filename = <span class="string">&#x27;sitka_weather_2014.csv&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#从文件中获取最高气温</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(filename) <span class="keyword">as</span> f:</span><br><span class="line">    reader = csv.reader(f)</span><br><span class="line">    header_row = <span class="built_in">next</span>(reader)</span><br><span class="line"></span><br><span class="line">    dates, highs, lows = [], [], []</span><br><span class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> reader:</span><br><span class="line">        current_date = datetime.strptime(row[<span class="number">0</span>], <span class="string">&quot;%Y-%m-%d&quot;</span>)</span><br><span class="line">        dates.append(current_date)</span><br><span class="line"></span><br><span class="line">        high = <span class="built_in">int</span>(row[<span class="number">1</span>])</span><br><span class="line">        highs.append(high)</span><br><span class="line"></span><br><span class="line">        low = <span class="built_in">int</span>(row[<span class="number">3</span>])</span><br><span class="line">        lows.append(low)</span><br><span class="line"></span><br><span class="line">    <span class="comment">#根据数据绘制图形</span></span><br><span class="line">fig = plt.figure(dpi=<span class="number">128</span>, figsize=(<span class="number">10</span>,<span class="number">6</span>))</span><br><span class="line">plt.plot(dates, highs, c=<span class="string">&quot;red&quot;</span>, alpha = <span class="number">0.5</span>)</span><br><span class="line">plt.plot(dates, lows, c=<span class="string">&quot;blue&quot;</span>, alpha = <span class="number">0.5</span>)</span><br><span class="line">plt.fill_between(dates, highs, lows, facecolor = <span class="string">&quot;blue&quot;</span>, alpha = <span class="number">0.1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#设置图形的格式</span></span><br><span class="line">plt.title(<span class="string">&quot;Daily high temperatures - 2014&quot;</span>, fontsize = <span class="number">24</span>)</span><br><span class="line">plt.xlabel(<span class="string">&quot;&quot;</span>, fontsize = <span class="number">16</span>)</span><br><span class="line">fig.autofmt_xdate()</span><br><span class="line">plt.ylabel(<span class="string">&quot;Temperature(F)&quot;</span>, fontsize = <span class="number">16</span>)</span><br><span class="line">plt.tick_params(axis=<span class="string">&quot;both&quot;</span>, which = <span class="string">&quot;major&quot;</span>, labelsize = <span class="number">16</span>)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>


<p>运行的结果为：</p>
<p><img src="/2023/05/29/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/ct7-v8-sfu-1685354464578-27.png" title="Untitled"></p>
<p>我们指定了实参alpha来指定颜色的透明度，alpha的值如果等于0则意味着完全的透明，如果是1则是完全的不透明，我们这里选择了一个中间值。</p>
<p>接着我们向fill_between()传递了一个x值系列：列表dates，还传递了两个y值系列：highs和lows。实参facecolor指定了填充区域的颜色，我们还将alpha设置成了较小的值0.1，让填充区域将两个数据系列连接起来的同时不分散观察者的注意力。</p>
<h2 id="错误检查"><a href="#错误检查" class="headerlink" title="错误检查"></a>错误检查</h2><p>我们应该能够使用有关任何地方的天气数据来运行highs_lows.py中的代码，但有些气象站会偶尔出现故障，未能收集部分或全部其应该收集的数据。缺失数据可能会引发异常，如果不妥善地处理，还可能导致程序崩溃。</p>
<p>我们可以使用加利福尼亚的死亡谷的气温数据：</p>
<p><a href="file/-ct5-z2jch.csv">-ct5-z2jch.csv</a></p>
<p>然后我们创建一个名为death_valley.py的文件，并且将full_year.py文件中的代码复制进来然后进行修改：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">filename = <span class="string">&#x27;death_valley_2014.csv&#x27;</span></span><br></pre></td></tr></table></figure>


<p>进行运行发现：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;death_valley.py&quot;</span>, line <span class="number">19</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">    high = <span class="built_in">int</span>(row[<span class="number">1</span>])</span><br><span class="line">ValueError: invalid literal <span class="keyword">for</span> <span class="built_in">int</span>() <span class="keyword">with</span> base <span class="number">10</span>: <span class="string">&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>


<p>这个traceback指出，Python无法处理其中一天的最高气温，因为它无法将空字符串’’转换为整数。</p>
<p>如果我们看一下death_valley_2014.csv中的数据，我们可以发现：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2014</span>-<span class="number">2</span>-<span class="number">16</span>,,,,,,,,,,,,,,,,,,,<span class="number">0.00</span>,,,-<span class="number">1</span></span><br></pre></td></tr></table></figure>


<p>也就是说该数据文件中没有记录2012年2月116日的数据，用来表示最高温度的字符串为空。</p>
<p>这个时候我们就可以对分析数据集时可能出现的异常进行处理：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> csv</span><br><span class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> datetime</span><br><span class="line"><span class="keyword">from</span> matplotlib <span class="keyword">import</span> pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">filename = <span class="string">&#x27;death_valley_2014.csv&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#从文件中获取最高气温</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(filename) <span class="keyword">as</span> f:</span><br><span class="line">    reader = csv.reader(f)</span><br><span class="line">    header_row = <span class="built_in">next</span>(reader)</span><br><span class="line"></span><br><span class="line">    dates, highs, lows = [], [], []</span><br><span class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> reader:</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            current_date = datetime.strptime(row[<span class="number">0</span>], <span class="string">&quot;%Y-%m-%d&quot;</span>)</span><br><span class="line">            high = <span class="built_in">int</span>(row[<span class="number">1</span>])</span><br><span class="line">            low = <span class="built_in">int</span>(row[<span class="number">3</span>])</span><br><span class="line">        <span class="keyword">except</span> ValueError:</span><br><span class="line">            <span class="built_in">print</span>(current_date, <span class="string">&#x27;missing data&#x27;</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            dates.append(current_date)</span><br><span class="line">            highs.append(high)</span><br><span class="line">            lows.append(low)</span><br><span class="line"></span><br><span class="line">    <span class="comment">#根据数据绘制图形</span></span><br><span class="line">fig = plt.figure(dpi=<span class="number">128</span>, figsize=(<span class="number">10</span>,<span class="number">6</span>))</span><br><span class="line">plt.plot(dates, highs, c=<span class="string">&quot;red&quot;</span>, alpha = <span class="number">0.5</span>)</span><br><span class="line">plt.plot(dates, lows, c=<span class="string">&quot;blue&quot;</span>, alpha = <span class="number">0.5</span>)</span><br><span class="line">plt.fill_between(dates, highs, lows, facecolor = <span class="string">&quot;blue&quot;</span>, alpha = <span class="number">0.1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#设置图形的格式</span></span><br><span class="line">plt.title(<span class="string">&quot;Daily high and low temperatures - 2014\nDeath Valley, CA&quot;</span>, fontsize = <span class="number">24</span>)</span><br><span class="line">plt.xlabel(<span class="string">&quot;&quot;</span>, fontsize = <span class="number">16</span>)</span><br><span class="line">fig.autofmt_xdate()</span><br><span class="line">plt.ylabel(<span class="string">&quot;Temperature(F)&quot;</span>, fontsize = <span class="number">16</span>)</span><br><span class="line">plt.tick_params(axis=<span class="string">&quot;both&quot;</span>, which = <span class="string">&quot;major&quot;</span>, labelsize = <span class="number">16</span>)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>


<p>只要确实其中一项数据，Python就会引发ValueError异常，这个时候我们就可以打印一条错误信息用来指出缺失数据的日期，然后接着循环处理下一行。</p>
<p>运行的结果为：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2014</span>-02-<span class="number">16</span> <span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span> missing data</span><br></pre></td></tr></table></figure>


<p>和：</p>
<p><img src="/2023/05/29/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/5kumpgt159-1685354464578-28.png" title="Untitled"></p>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/Python/" rel="tag"># Python</a>
              <a href="/tags/%E5%8F%AF%E8%A7%86%E5%8C%96/" rel="tag"># 可视化</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2023/02/28/2024%E5%B9%B4%E4%BB%BB%E5%8A%A1/" rel="prev" title="2024年任务">
                  <i class="fa fa-chevron-left"></i> 2024年任务
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2023/05/29/%E8%AE%BA%E8%AF%81%E6%98%AF%E4%B8%80%E9%97%A8%E5%AD%A6%E9%97%AE/" rel="next" title="论证是一门学问">
                  论证是一门学问 <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Ye Jiu</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/pisces/" rel="noopener" target="_blank">NexT.Pisces</a>
  </div>

    </div>
  </footer>

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/next-theme-pjax/0.5.0/pjax.min.js" integrity="sha256-3NkoLDrmHLTYj7csHIZSr0MHAFTXth7Ua/DDt4MRUAg=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script><script src="/js/pjax.js"></script>

  





  




  

  <script class="next-config" data-name="enableMath" type="application/json">true</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"ams","js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script>
<script src="/js/third-party/math/mathjax.js"></script>



</body>
</html>
