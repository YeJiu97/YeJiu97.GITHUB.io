<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.3.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css" integrity="sha256-AbA177XfpSnFEvgpYu1jMygiLabzPCJCRIBtR5jGc0k=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"example.com","root":"/","images":"/images","scheme":"Pisces","darkmode":false,"version":"8.13.1","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}}</script><script src="/js/config.js"></script>

    <meta name="description" content="大型组织中的客户分析 笔记">
<meta property="og:type" content="article">
<meta property="og:title" content="大型组织中的客户分析-02：A&#x2F;B测试和离散选项实验">
<meta property="og:url" content="http://example.com/2024/03/10/%E5%A4%A7%E5%9E%8B%E7%BB%84%E7%BB%87%E4%B8%AD%E7%9A%84%E5%AE%A2%E6%88%B7%E5%88%86%E6%9E%90-02%EF%BC%9AA-B%E6%B5%8B%E8%AF%95%E5%92%8C%E7%A6%BB%E6%95%A3%E9%80%89%E9%A1%B9%E5%AE%9E%E9%AA%8C/index.html">
<meta property="og:site_name" content="夜久">
<meta property="og:description" content="大型组织中的客户分析 笔记">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://example.com/2024/03/10/%E5%A4%A7%E5%9E%8B%E7%BB%84%E7%BB%87%E4%B8%AD%E7%9A%84%E5%AE%A2%E6%88%B7%E5%88%86%E6%9E%90-02%EF%BC%9AA-B%E6%B5%8B%E8%AF%95%E5%92%8C%E7%A6%BB%E6%95%A3%E9%80%89%E9%A1%B9%E5%AE%9E%E9%AA%8C/image-20240310135442547.png">
<meta property="og:image" content="http://example.com/2024/03/10/%E5%A4%A7%E5%9E%8B%E7%BB%84%E7%BB%87%E4%B8%AD%E7%9A%84%E5%AE%A2%E6%88%B7%E5%88%86%E6%9E%90-02%EF%BC%9AA-B%E6%B5%8B%E8%AF%95%E5%92%8C%E7%A6%BB%E6%95%A3%E9%80%89%E9%A1%B9%E5%AE%9E%E9%AA%8C/image-20240310141605430.png">
<meta property="og:image" content="http://example.com/2024/03/10/%E5%A4%A7%E5%9E%8B%E7%BB%84%E7%BB%87%E4%B8%AD%E7%9A%84%E5%AE%A2%E6%88%B7%E5%88%86%E6%9E%90-02%EF%BC%9AA-B%E6%B5%8B%E8%AF%95%E5%92%8C%E7%A6%BB%E6%95%A3%E9%80%89%E9%A1%B9%E5%AE%9E%E9%AA%8C/image-20240310142141404.png">
<meta property="og:image" content="http://example.com/2024/03/10/%E5%A4%A7%E5%9E%8B%E7%BB%84%E7%BB%87%E4%B8%AD%E7%9A%84%E5%AE%A2%E6%88%B7%E5%88%86%E6%9E%90-02%EF%BC%9AA-B%E6%B5%8B%E8%AF%95%E5%92%8C%E7%A6%BB%E6%95%A3%E9%80%89%E9%A1%B9%E5%AE%9E%E9%AA%8C/image-20240310142839722.png">
<meta property="og:image" content="http://example.com/2024/03/10/%E5%A4%A7%E5%9E%8B%E7%BB%84%E7%BB%87%E4%B8%AD%E7%9A%84%E5%AE%A2%E6%88%B7%E5%88%86%E6%9E%90-02%EF%BC%9AA-B%E6%B5%8B%E8%AF%95%E5%92%8C%E7%A6%BB%E6%95%A3%E9%80%89%E9%A1%B9%E5%AE%9E%E9%AA%8C/image-20240323042152278.png">
<meta property="og:image" content="http://example.com/2024/03/10/%E5%A4%A7%E5%9E%8B%E7%BB%84%E7%BB%87%E4%B8%AD%E7%9A%84%E5%AE%A2%E6%88%B7%E5%88%86%E6%9E%90-02%EF%BC%9AA-B%E6%B5%8B%E8%AF%95%E5%92%8C%E7%A6%BB%E6%95%A3%E9%80%89%E9%A1%B9%E5%AE%9E%E9%AA%8C/image-20240323044810645.png">
<meta property="og:image" content="http://example.com/2024/03/10/%E5%A4%A7%E5%9E%8B%E7%BB%84%E7%BB%87%E4%B8%AD%E7%9A%84%E5%AE%A2%E6%88%B7%E5%88%86%E6%9E%90-02%EF%BC%9AA-B%E6%B5%8B%E8%AF%95%E5%92%8C%E7%A6%BB%E6%95%A3%E9%80%89%E9%A1%B9%E5%AE%9E%E9%AA%8C/image-20240323045045274.png">
<meta property="og:image" content="http://example.com/2024/03/10/%E5%A4%A7%E5%9E%8B%E7%BB%84%E7%BB%87%E4%B8%AD%E7%9A%84%E5%AE%A2%E6%88%B7%E5%88%86%E6%9E%90-02%EF%BC%9AA-B%E6%B5%8B%E8%AF%95%E5%92%8C%E7%A6%BB%E6%95%A3%E9%80%89%E9%A1%B9%E5%AE%9E%E9%AA%8C/image-20240323050935385.png">
<meta property="article:published_time" content="2024-03-10T03:01:48.000Z">
<meta property="article:modified_time" content="2024-03-22T20:28:08.112Z">
<meta property="article:author" content="Ye Jiu">
<meta property="article:tag" content="数据分析">
<meta property="article:tag" content="客户分析">
<meta property="article:tag" content="统计">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/2024/03/10/%E5%A4%A7%E5%9E%8B%E7%BB%84%E7%BB%87%E4%B8%AD%E7%9A%84%E5%AE%A2%E6%88%B7%E5%88%86%E6%9E%90-02%EF%BC%9AA-B%E6%B5%8B%E8%AF%95%E5%92%8C%E7%A6%BB%E6%95%A3%E9%80%89%E9%A1%B9%E5%AE%9E%E9%AA%8C/image-20240310135442547.png">


<link rel="canonical" href="http://example.com/2024/03/10/%E5%A4%A7%E5%9E%8B%E7%BB%84%E7%BB%87%E4%B8%AD%E7%9A%84%E5%AE%A2%E6%88%B7%E5%88%86%E6%9E%90-02%EF%BC%9AA-B%E6%B5%8B%E8%AF%95%E5%92%8C%E7%A6%BB%E6%95%A3%E9%80%89%E9%A1%B9%E5%AE%9E%E9%AA%8C/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"http://example.com/2024/03/10/%E5%A4%A7%E5%9E%8B%E7%BB%84%E7%BB%87%E4%B8%AD%E7%9A%84%E5%AE%A2%E6%88%B7%E5%88%86%E6%9E%90-02%EF%BC%9AA-B%E6%B5%8B%E8%AF%95%E5%92%8C%E7%A6%BB%E6%95%A3%E9%80%89%E9%A1%B9%E5%AE%9E%E9%AA%8C/","path":"2024/03/10/大型组织中的客户分析-02：A-B测试和离散选项实验/","title":"大型组织中的客户分析-02：A/B测试和离散选项实验"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>大型组织中的客户分析-02：A/B测试和离散选项实验 | 夜久</title>
  






  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">夜久</p>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-about"><a href="/about" rel="section">About</a></li><li class="menu-item menu-item-tags"><a href="/tags" rel="section">Tags</a></li><li class="menu-item menu-item-categories"><a href="/categories" rel="section">Categories</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section">Archives</a></li>
  </ul>
</nav>




</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

<iframe width="100%" height="166" scrolling="no" frameborder="no" allow="autoplay" src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/848368468&color=%23ff5500&auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=true"></iframe><div style="font-size: 10px; color: #cccccc;line-break: anywhere;word-break: normal;overflow: hidden;white-space: nowrap;text-overflow: ellipsis; font-family: Interstate,Lucida Grande,Lucida Sans Unicode,Lucida Sans,Garuda,Verdana,Tahoma,sans-serif;font-weight: 100;"><a href="https://soundcloud.com/terence-vassallo-415912750" title="Ocelotter" target="_blank" style="color: #cccccc; text-decoration: none;">Ocelotter</a> · <a href="https://soundcloud.com/terence-vassallo-415912750/euphoria" title="Euphoria - 楽園の扉 中日字幕" target="_blank" style="color: #cccccc; text-decoration: none;">Euphoria - 楽園の扉 中日字幕</a></div>

<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=535990&auto=1&height=66"></iframe>

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#A-B-testing"><span class="nav-number">1.</span> <span class="nav-text">A&#x2F;B testing</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#T-test"><span class="nav-number">2.</span> <span class="nav-text">T-test</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%A6%BB%E6%95%A3%E9%80%89%E6%8B%A9%E5%AE%9E%E9%AA%8C"><span class="nav-number">3.</span> <span class="nav-text">离散选择实验</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A6%82%E5%BF%B5"><span class="nav-number">3.1.</span> <span class="nav-text">概念</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BB%A3%E7%A0%81"><span class="nav-number">3.2.</span> <span class="nav-text">代码</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8%E6%94%B6%E9%9B%86%E7%9A%84%E6%95%B0%E6%8D%AE"><span class="nav-number">3.3.</span> <span class="nav-text">使用收集的数据</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%8E%A5%E7%9D%80%E8%BF%9B%E8%A1%8C%E5%88%86%E6%9E%90"><span class="nav-number">3.4.</span> <span class="nav-text">接着进行分析</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%94%AF%E4%BB%98%E8%BE%B9%E9%99%85%E6%84%8F%E6%84%BF"><span class="nav-number">3.5.</span> <span class="nav-text">支付边际意愿</span></a></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Ye Jiu</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">37</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories">
        <span class="site-state-item-count">7</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags">
        <span class="site-state-item-count">33</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>



        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/03/10/%E5%A4%A7%E5%9E%8B%E7%BB%84%E7%BB%87%E4%B8%AD%E7%9A%84%E5%AE%A2%E6%88%B7%E5%88%86%E6%9E%90-02%EF%BC%9AA-B%E6%B5%8B%E8%AF%95%E5%92%8C%E7%A6%BB%E6%95%A3%E9%80%89%E9%A1%B9%E5%AE%9E%E9%AA%8C/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Ye Jiu">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="夜久">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="大型组织中的客户分析-02：A/B测试和离散选项实验 | 夜久">
      <meta itemprop="description" content="大型组织中的客户分析 笔记">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          大型组织中的客户分析-02：A/B测试和离散选项实验
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2024-03-10 13:31:48" itemprop="dateCreated datePublished" datetime="2024-03-10T13:31:48+10:30">2024-03-10</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-03-23 06:58:08" itemprop="dateModified" datetime="2024-03-23T06:58:08+10:30">2024-03-23</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%A4%A7%E5%9E%8B%E7%BB%84%E7%BB%87%E4%B8%AD%E7%9A%84%E5%AE%A2%E6%88%B7%E5%88%86%E6%9E%90/" itemprop="url" rel="index"><span itemprop="name">大型组织中的客户分析</span></a>
        </span>
    </span>

  
</div>

            <div class="post-description">大型组织中的客户分析 笔记</div>
        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <h1 id="A-B-testing"><a href="#A-B-testing" class="headerlink" title="A&#x2F;B testing"></a>A&#x2F;B testing</h1><p><strong>什么是A&#x2F;B testing</strong></p>
<p>A&#x2F;B testing是一种实验性的方法，用于比较两个或多个版本的产品、服务或策略，以确定哪个版本能够实现更好的结果。在A&#x2F;B测试中，一个变量（例如网页设计、广告文案、定价策略等）被改变，然后观察这种改变对用户行为或业务指标的影响。</p>
<p>A&#x2F;B测试的基本原理是将受众随机分为两个或多个组，每个组都看到不同的版本，然后收集和分析每个组的数据以确定哪个版本表现更好。</p>
<p>举个例子，假设一个电子商务网站想要测试一个新的购物车页面设计。他们可以将网站的访问者随机分为两组：A组看到原来的购物车页面，B组看到新设计的购物车页面。然后，他们可以收集有关每个组的转化率、平均订单价、订单完成时间等数据，并进行统计分析，以确定哪个版本的购物车页面效果更好。</p>
<p>A&#x2F;B测试可以帮助组织做出更加基于数据的决策，优化产品和服务，提高用户体验，最大程度地提高业务效果。</p>
<p><strong>修改变量</strong></p>
<p>通常情况下，A&#x2F;B测试确实会专注于修改一个变量，这样可以更准确地确定哪个变化导致了实验结果的变化。这种方法有助于消除混淆因素，使得结果更容易解释和理解。</p>
<p>通过只修改一个变量，比较不同版本之间的差异更容易被观察和量化。如果同时修改多个变量，当实验结果出现变化时，很难确定到底是哪个变量的改变导致了这种结果。</p>
<p>然而，在某些情况下，也可以进行更复杂的实验设计，比如多因素实验设计或多变量测试。但是，这种方法通常需要更大的样本量和更复杂的统计分析，同时也可能增加实验的复杂性和不确定性。因此，对于大多数A&#x2F;B测试，一次只修改一个变量是常见的做法。</p>
<p><strong>一个具体的例子</strong></p>
<p>背景：假设我们有一个电子商务网站，想要测试两种不同的广告文案来促销同一款产品：一种是“免费送货”，另一种是“优惠10%”。我们希望知道哪种广告文案可以吸引更多的用户点击，并最终导致更多的购买。</p>
<p>A&#x2F;B testing的设计与实现：</p>
<ol>
<li>设计： 首先，我们随机将网站的访问者分成两组：A组和B组。A组将看到“免费送货”的广告文案，而B组将看到“优惠10%”的广告文案。</li>
<li>实施： 将两个版本的广告文案应用到网站上，确保两组用户的其他体验因素尽可能相似，以便确保结果的可靠性。</li>
<li>收集数据： 收集有关用户点击率、转化率（即购买率）、平均订单价等指标的数据，以便比较两组之间的表现。</li>
</ol>
<p>数据收集示例：</p>
<ul>
<li>A组（“免费送货”）: 点击率：10%，转化率：3%，平均订单价：$50</li>
<li>B组（“优惠10%”）: 点击率：12%，转化率：4%，平均订单价：$55</li>
</ul>
<p>数据分析与结果解读：</p>
<ol>
<li>点击率比较： B组的广告文案（“优惠10%”）的点击率高于A组（“免费送货”），这表明B组的广告文案在吸引用户点击方面表现更好。</li>
<li>转化率比较： B组的转化率也比A组高，这意味着更多的用户点击了广告后进行了购买。</li>
<li>平均订单价比较： B组的平均订单价也略高于A组，这表明尽管更多用户购买了产品，但他们的购买金额也略高。</li>
</ol>
<p>基于这些数据，我们可以得出结论：使用“优惠10%”的广告文案可以带来更高的点击率、转化率和平均订单价，因此在促销这款产品时更有效。</p>
<p>在A&#x2F;B测试中，关键是确保分组的随机性，并且尽可能控制其他变量，以便所观察到的结果主要是由于广告文案的不同而引起的。</p>
<p><strong>另外一些例子</strong></p>
<p>删除页面的promo-code让总销收入增加了27.4%：</p>
<p><img src="/2024/03/10/%E5%A4%A7%E5%9E%8B%E7%BB%84%E7%BB%87%E4%B8%AD%E7%9A%84%E5%AE%A2%E6%88%B7%E5%88%86%E6%9E%90-02%EF%BC%9AA-B%E6%B5%8B%E8%AF%95%E5%92%8C%E7%A6%BB%E6%95%A3%E9%80%89%E9%A1%B9%E5%AE%9E%E9%AA%8C/image-20240310135442547.png" alt="image-20240310135442547"></p>
<h1 id="T-test"><a href="#T-test" class="headerlink" title="T-test"></a>T-test</h1><p><strong>什么是T-test</strong></p>
<p>T检验（T-test）是一种统计学方法，用于确定两个样本之间的平均值是否存在显著差异。它是通过比较两个样本的均值和它们的方差来进行的。</p>
<p>T检验通常用于以下情况：</p>
<ol>
<li><p>比较两个样本的平均值： 当你有两组数据，想知道它们的平均值是否有显著差异时，可以使用T检验。</p>
</li>
<li><p>样本容量相对较小（小于30）： T检验对于小样本量的数据是比较合适的。</p>
</li>
<li><p>假设数据服从正态分布： T检验假设所分析的数据来自于正态分布的总体。</p>
</li>
</ol>
<p>T检验产生一个T值，它表示两个样本平均值之间的差异相对于它们的方差的大小。T值越大，表明两个样本之间的差异越显著。</p>
<p>T检验的一般步骤包括：</p>
<ol>
<li><p>建立假设： 设定零假设（H0）和备择假设（H1）。</p>
</li>
<li><p>计算T值： 根据样本数据，计算出T值。</p>
</li>
<li><p>确定临界值： 根据显著性水平和自由度，确定T值的临界值。</p>
</li>
<li><p>做出决策： 比较计算得到的T值与临界值，决定是否拒绝零假设。</p>
</li>
</ol>
<p>常见的T检验类型包括：</p>
<ul>
<li><p>独立样本T检验（Independent Samples T-test）： 用于比较两个不同群体（样本）的平均值是否有显著差异。</p>
</li>
<li><p>配对样本T检验（Paired Samples T-test）： 用于比较同一群体（样本）在不同条件下的平均值是否有显著差异。</p>
</li>
</ul>
<p>T检验是统计学中最常用的假设检验方法之一，对于比较实验组和对照组的效果，或者验证研究结果是否具有统计学意义非常有用。</p>
<p><strong>具体的例子</strong></p>
<p>假设我们想要测试一种新药物的疗效，我们将患者分为两组：实验组和对照组。实验组接受新药物治疗，而对照组接受传统的治疗方法（比如安慰剂）。我们想要确定新药物是否比传统治疗方法更有效。</p>
<p>在这个例子中，我们可以使用独立样本T检验来比较两组患者在治疗后症状的改善程度。我们收集了每组患者的症状改善分数，分数越高表示症状改善越明显。</p>
<p>假设我们有以下数据：</p>
<ul>
<li>实验组（新药物治疗）：n1 &#x3D; 30，平均改善分数 &#x3D; 15，标准差 &#x3D; 4</li>
<li>对照组（传统治疗方法）：n2 &#x3D; 30，平均改善分数 &#x3D; 12，标准差 &#x3D; 3</li>
</ul>
<p>我们可以使用T检验来确定这两组平均改善分数之间是否存在显著差异。</p>
<p>假设我们的零假设为：两组患者的平均改善分数没有显著差异（μ1 &#x3D; μ2）。备择假设为：两组患者的平均改善分数存在显著差异（μ1 ≠ μ2）。</p>
<p>我们进行T检验后，计算出T值，然后确定在给定显著性水平（通常是0.05）下的临界T值。最后，我们比较计算得到的T值是否大于临界T值。</p>
<p>如果计算得到的T值大于临界T值，则我们可以拒绝零假设，接受备择假设，即认为两组患者的平均改善分数存在显著差异，新药物治疗可能比传统治疗方法更有效。</p>
<p>这就是如何在实际研究中使用T检验来比较两组数据，并得出结论的一个例子。</p>
<p><strong>OFAT</strong></p>
<p>“One-factor-at-a-time”（OFAT）策略是一种实验设计方法，通常用于优化和改进产品或过程。在这种方法中，每次只调整一个因素，而其他因素保持不变。一旦一个因素被调整和优化，再转移到下一个因素。</p>
<p><img src="/2024/03/10/%E5%A4%A7%E5%9E%8B%E7%BB%84%E7%BB%87%E4%B8%AD%E7%9A%84%E5%AE%A2%E6%88%B7%E5%88%86%E6%9E%90-02%EF%BC%9AA-B%E6%B5%8B%E8%AF%95%E5%92%8C%E7%A6%BB%E6%95%A3%E9%80%89%E9%A1%B9%E5%AE%9E%E9%AA%8C/image-20240310141605430.png" alt="image-20240310141605430"></p>
<p><img src="/2024/03/10/%E5%A4%A7%E5%9E%8B%E7%BB%84%E7%BB%87%E4%B8%AD%E7%9A%84%E5%AE%A2%E6%88%B7%E5%88%86%E6%9E%90-02%EF%BC%9AA-B%E6%B5%8B%E8%AF%95%E5%92%8C%E7%A6%BB%E6%95%A3%E9%80%89%E9%A1%B9%E5%AE%9E%E9%AA%8C/image-20240310142141404.png" alt="image-20240310142141404"></p>
<p>OFAT策略的主要特点是其简单性和直观性。它易于理解和实施，尤其适用于初步了解系统或过程的性能，以及发现可能的改进方向。</p>
<p>然而，尽管OFAT方法易于实施，但它也存在一些缺点：</p>
<ol>
<li><p>忽略交互作用： OFAT方法无法考虑不同因素之间的交互作用，即当多个因素同时变化时，其效果可能不同于单独调整每个因素时的效果。</p>
</li>
<li><p>效率低下： 由于OFAT方法只能调整一个因素，因此可能需要大量的试验才能找到最佳组合。这使得它在寻找最优解时效率低下。</p>
</li>
<li><p>结果可能不稳定：由于其他因素保持不变，因此可能无法准确评估调整一个因素时的效果，因为系统可能在不同条件下表现出不同的行为。</p>
</li>
</ol>
<p>因此，在需要更系统和全面地了解多个因素如何影响系统性能时，通常会使用更复杂的实验设计方法，如因子设计或响应曲面方法，以更有效地探索设计空间并优化系统性能。</p>
<p><strong>一个OFAT的具体的例子</strong></p>
<p>以下是一个关于饮料生产的OFAT例子：</p>
<p>假设你是一家饮料公司的生产经理，你希望优化一种汽水的配方，以提高其口感和销售量。你决定使用OFAT方法来逐步调整配方的不同因素，并观察对口感的影响。</p>
<p>在这个例子中，你的目标是优化汽水的甜度。汽水的甜度取决于几个因素，包括糖的含量、酸度、气泡的量和香料的种类。你决定首先调整糖的含量。</p>
<ol>
<li><p>第一阶段：调整糖的含量</p>
<ul>
<li>你保持其他因素不变，只调整糖的含量。你分别制作了一系列汽水样品，糖的含量从低到高逐渐增加。</li>
<li>你邀请一组测试者来品尝每种汽水样品，并填写他们对甜度的评分。</li>
<li>通过收集测试者的反馈，你确定了最受欢迎的甜度水平。</li>
</ul>
</li>
<li><p>第二阶段：调整酸度</p>
<ul>
<li>在第一阶段确定了最佳糖的含量后，你保持这个因素不变，然后调整酸度。你尝试不同酸度水平的汽水，并记录测试者的反馈。</li>
</ul>
</li>
<li><p>以此类推</p>
<ul>
<li>接下来，你可以继续逐步调整其他因素，如气泡的量和香料的种类，以进一步改进汽水的口感。</li>
</ul>
</li>
</ol>
<p>在这个例子中，你使用了OFAT方法来逐步优化汽水的配方。虽然这种方法简单易行，但你必须注意到每个因素的变化可能会相互影响，因此在最终确定最佳配方时，可能需要进行进一步的测试和分析。</p>
<p><strong>$2^2$ factorial design</strong></p>
<p>$2^2$ factorial design是一种实验设计方法，用于研究两个因素对实验结果的影响。在这种设计中，每个因素有两个水平。因此，$2^2$表示每个因素有两个水平。</p>
<p>在$2^2$ factorial design中，每个因素的两个水平可以组合成四种不同的处理组合。这些处理组合是实验的基本单位。</p>
<p>例如，假设我们正在研究两个因素对植物生长的影响：</p>
<ol>
<li>因素A：光照条件（高光照 vs 低光照）</li>
<li>因素B：水肥条件（高水肥 vs 低水肥）</li>
</ol>
<p>在$2^2$ factorial design中，我们可以得到以下四种处理组合：</p>
<ol>
<li>高光照 + 高水肥</li>
<li>高光照 + 低水肥</li>
<li>低光照 + 高水肥</li>
<li>低光照 + 低水肥</li>
</ol>
<p>通过这种设计，我们可以同时研究两个因素的影响，以及它们可能的交互作用。这使得$2^2$ factorial design成为评估多个因素对实验结果影响的一种有效方法。</p>
<p>在分析数据时，我们通常会检查每个因素的主效应（即每个因素对结果的影响）以及交互作用（即两个因素一起对结果的影响）。这可以帮助我们更好地理解不同因素之间的关系，以及它们对实验结果的综合影响。</p>
<p><img src="/2024/03/10/%E5%A4%A7%E5%9E%8B%E7%BB%84%E7%BB%87%E4%B8%AD%E7%9A%84%E5%AE%A2%E6%88%B7%E5%88%86%E6%9E%90-02%EF%BC%9AA-B%E6%B5%8B%E8%AF%95%E5%92%8C%E7%A6%BB%E6%95%A3%E9%80%89%E9%A1%B9%E5%AE%9E%E9%AA%8C/image-20240310142839722.png" alt="image-20240310142839722"></p>
<p>这张图表展示了一个2^2因子实验设计的结果。实验涉及两个因素:驱动器类型(常规或大尺寸)和球类型(Balata或3件套)。</p>
<p>图表的左侧显示了四种实验组合的响应值(可能是某种性能指标)。通过计算不同效应,我们可以评估每个因素及其交互作用对响应值的影响程度。</p>
<ul>
<li><p>驱动器效应值为3.25,表明与常规驱动器相比,使用大尺寸驱动器可明显提高响应值。</p>
</li>
<li><p>球效应值为0.75,说明与Balata球相比,使用3件套球会略微提高响应值。</p>
</li>
<li><p>驱动器和球的交互效应值为0.25,表明这两个因素之间存在一些相互作用,但相对于主效应来说,影响较小。</p>
</li>
</ul>
<p>总的来说,这种2^2因子实验设计有助于同时研究多个因素及其交互作用对响应变量的影响,从而找出最优的因素水平组合。它比逐一改变单个因素的方法更有效,可以揭示复杂的因素交互关系。</p>
<h1 id="离散选择实验"><a href="#离散选择实验" class="headerlink" title="离散选择实验"></a>离散选择实验</h1><h2 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h2><p><strong>什么是离散选择实验</strong></p>
<p>Discrete Choice Experiment（离散选择实验）是一种经济学和市场研究中常用的方法，用于理解人们在面临多个选择时如何做出决策。它是一种调查方法，用于评估人们对不同产品、服务或政策方案的偏好和选择。</p>
<p>在离散选择实验中，参与者被要求在给定的一组选项中做出选择，这些选项具有不同的属性和水平。通过观察他们的选择，研究人员可以推断出他们对不同属性的偏好。</p>
<p>通常，离散选择实验包括以下步骤：</p>
<ol>
<li><p>设计选择实验： 研究人员首先确定要研究的产品、服务或政策方案，并确定相关的属性和水平。例如，如果研究一种新的医疗服务，属性可能包括价格、等待时间、服务质量等。</p>
</li>
<li><p>创建选择情境： 基于确定的属性和水平，研究人员创建一系列选择情境，每个情境包含几个选项，并且每个选项具有不同的属性水平组合。</p>
</li>
<li><p>实施调查： 参与者被要求在每个选择情境中选择他们最偏好的选项。他们的选择被记录下来。</p>
</li>
<li><p>数据分析： 使用统计模型（如多项Logit模型）对收集的选择数据进行分析，以确定参与者对不同属性的偏好以及这些偏好如何影响他们的选择行为。</p>
</li>
</ol>
<p>离散选择实验通常被用于市场研究、产品设计、价格设定、政策评估等领域。它可以帮助组织更好地了解消费者的偏好和行为，从而指导决策制定和产品开发。</p>
<p><strong>具体的例子</strong></p>
<p>以下是一个关于交通政策的离散选择实验的例子：</p>
<p>假设一个城市的交通局希望评估不同的公共交通政策对市民出行选择的影响，以确定最受欢迎和可行的政策方案。</p>
<p>在这个离散选择实验中，研究人员设计了三种不同的公共交通政策方案，并确定了每种方案的关键属性：</p>
<ol>
<li>票价水平： 低票价 vs 高票价</li>
<li>服务频率： 高频服务 vs 低频服务</li>
<li>舒适度： 高舒适度车辆 vs 低舒适度车辆</li>
</ol>
<p>然后，研究人员创建了一系列选择情境，每个情境包含了这三种政策方案中的一种组合。例如：</p>
<ul>
<li>情境1：低票价、高频服务、高舒适度</li>
<li>情境2：高票价、低频服务、低舒适度</li>
<li>情境3：低票价、低频服务、高舒适度</li>
</ul>
<p>参与者被要求在每个情境中选择他们最喜欢的出行方案。他们的选择将提供关于不同政策方案的偏好信息。</p>
<p>通过收集大量参与者的选择数据，研究人员可以使用统计模型对结果进行分析，以确定市民对不同政策方案的偏好以及他们的选择行为。例如，他们可以确定票价、服务频率和舒适度对市民的影响程度，以及是否存在不同属性之间的交互作用。</p>
<p>最终，交通局可以根据这些分析结果制定更有效的公共交通政策，以满足市民的需求并改善城市的交通状况。</p>
<p>假如有三个factor：</p>
<ul>
<li>HACCP label (Yes&#x2F;No)</li>
<li>Eco label (Yes&#x2F;No)</li>
<li>Price (145, 150, 155, or 160 yen)</li>
</ul>
<p>那么离散选择问题是：</p>
<p><img src="/2024/03/10/%E5%A4%A7%E5%9E%8B%E7%BB%84%E7%BB%87%E4%B8%AD%E7%9A%84%E5%AE%A2%E6%88%B7%E5%88%86%E6%9E%90-02%EF%BC%9AA-B%E6%B5%8B%E8%AF%95%E5%92%8C%E7%A6%BB%E6%95%A3%E9%80%89%E9%A1%B9%E5%AE%9E%E9%AA%8C/image-20240323042152278.png" alt="image-20240323042152278"></p>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><p>使用R语言代码进行生成：</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">library<span class="punctuation">(</span>AlgDesign<span class="punctuation">)</span></span><br><span class="line"></span><br><span class="line">ffd <span class="operator">&lt;-</span> gen.factorial<span class="punctuation">(</span><span class="built_in">c</span><span class="punctuation">(</span><span class="number">2</span><span class="punctuation">,</span><span class="number">2</span><span class="punctuation">,</span><span class="number">4</span><span class="punctuation">)</span><span class="punctuation">,</span> varNames <span class="operator">=</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="string">&quot;HAC&quot;</span><span class="punctuation">,</span> <span class="string">&quot;ECO&quot;</span><span class="punctuation">,</span> <span class="string">&quot;PRI&quot;</span><span class="punctuation">)</span><span class="punctuation">,</span> factors <span class="operator">=</span> <span class="string">&quot;all&quot;</span><span class="punctuation">)</span></span><br><span class="line">ffd</span><br></pre></td></tr></table></figure>

<p>这段R语言代码使用了 <code>AlgDesign</code> 包中的函数来生成一个分散因子设计（Fractional Factorial Design，简称FFD）。下面是对代码的解释：</p>
<ol>
<li><p><code>library(AlgDesign)</code>: 这行代码加载了 <code>AlgDesign</code> 包，该包提供了一些用于生成实验设计的函数。</p>
</li>
<li><p><code>ffd &lt;- gen.factorial(c(2,2,4), varNames = c(&quot;HAC&quot;, &quot;ECO&quot;, &quot;PRI&quot;), factors = &quot;all&quot;)</code>: 这行代码生成了一个分散因子设计，并将结果存储在名为 <code>ffd</code> 的对象中。</p>
<ul>
<li><p><code>gen.factorial()</code>: 这是 <code>AlgDesign</code> 包中的一个函数，用于生成分散因子设计。</p>
</li>
<li><p><code>c(2,2,4)</code>: 这个向量表示了每个因子的水平数量。在这个例子中，有三个因子，它们的水平数量分别是2、2和4。</p>
</li>
<li><p><code>varNames = c(&quot;HAC&quot;, &quot;ECO&quot;, &quot;PRI&quot;)</code>: 这个参数指定了每个因子的名称。在这个例子中，这三个因子的名称分别是 “HAC”、”ECO” 和 “PRI”。</p>
</li>
<li><p><code>factors = &quot;all&quot;</code>: 这个参数指定了要生成的设计类型。在这里，”all” 表示生成一个包含所有可能因子组合的设计，即全因子设计。</p>
</li>
</ul>
</li>
<li><p><code>ffd</code>: 这个对象包含了生成的分散因子设计的信息，包括因子水平和组合等。</p>
</li>
</ol>
<p>得到的结果为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&gt; ffd</span><br><span class="line">   HAC ECO PRI</span><br><span class="line">1    1   1   1</span><br><span class="line">2    2   1   1</span><br><span class="line">3    1   2   1</span><br><span class="line">4    2   2   1</span><br><span class="line">5    1   1   2</span><br><span class="line">6    2   1   2</span><br><span class="line">7    1   2   2</span><br><span class="line">8    2   2   2</span><br><span class="line">9    1   1   3</span><br><span class="line">10   2   1   3</span><br><span class="line">11   1   2   3</span><br><span class="line">12   2   2   3</span><br><span class="line">13   1   1   4</span><br><span class="line">14   2   1   4</span><br><span class="line">15   1   2   4</span><br><span class="line">16   2   2   4</span><br></pre></td></tr></table></figure>

<p><strong>部分因子设计</strong></p>
<p><img src="/2024/03/10/%E5%A4%A7%E5%9E%8B%E7%BB%84%E7%BB%87%E4%B8%AD%E7%9A%84%E5%AE%A2%E6%88%B7%E5%88%86%E6%9E%90-02%EF%BC%9AA-B%E6%B5%8B%E8%AF%95%E5%92%8C%E7%A6%BB%E6%95%A3%E9%80%89%E9%A1%B9%E5%AE%9E%E9%AA%8C/image-20240323044810645.png" alt="image-20240323044810645"></p>
<p>考虑一个具有以下三个属性的产品：</p>
<ol>
<li>原产地区：区域A、区域B、区域C</li>
<li>环保标签：传统（传统培育方法）、更环保（更环保的培育方法）、最环保（最环保的培育方法）</li>
<li>产品每件的价格：1美元、1.1美元、1.2美元</li>
</ol>
<p>设计的离散实验为：</p>
<p><img src="/2024/03/10/%E5%A4%A7%E5%9E%8B%E7%BB%84%E7%BB%87%E4%B8%AD%E7%9A%84%E5%AE%A2%E6%88%B7%E5%88%86%E6%9E%90-02%EF%BC%9AA-B%E6%B5%8B%E8%AF%95%E5%92%8C%E7%A6%BB%E6%95%A3%E9%80%89%E9%A1%B9%E5%AE%9E%E9%AA%8C/image-20240323045045274.png" alt="image-20240323045045274"></p>
<p>使用R语言代码生成：</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">library<span class="punctuation">(</span>support.CEs<span class="punctuation">)</span></span><br><span class="line">des1 <span class="operator">&lt;-</span> rotation.design<span class="punctuation">(</span>attribute.names <span class="operator">=</span> <span class="built_in">list</span><span class="punctuation">(</span></span><br><span class="line">  Region <span class="operator">=</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="string">&#x27;region_A&#x27;</span><span class="punctuation">,</span> <span class="string">&#x27;region_B&#x27;</span><span class="punctuation">,</span> <span class="string">&#x27;region_c&#x27;</span><span class="punctuation">)</span><span class="punctuation">,</span></span><br><span class="line">  Eco <span class="operator">=</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="string">&#x27;Conv&#x27;</span><span class="punctuation">,</span> <span class="string">&#x27;More&#x27;</span><span class="punctuation">,</span> <span class="string">&#x27;Most&#x27;</span><span class="punctuation">)</span><span class="punctuation">,</span></span><br><span class="line">  Price <span class="operator">=</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="string">&#x27;1&#x27;</span><span class="punctuation">,</span> <span class="string">&#x27;1.1&#x27;</span><span class="punctuation">,</span> <span class="string">&#x27;1.2&#x27;</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">,</span></span><br><span class="line">  nalternatives <span class="operator">=</span> <span class="number">2</span><span class="punctuation">,</span> nblocks <span class="operator">=</span> <span class="number">1</span><span class="punctuation">,</span> row.renames <span class="operator">=</span> <span class="literal">FALSE</span><span class="punctuation">,</span></span><br><span class="line">  randomize <span class="operator">=</span> <span class="literal">TRUE</span><span class="punctuation">,</span> seed <span class="operator">=</span> <span class="number">987</span><span class="punctuation">)</span></span><br></pre></td></tr></table></figure>

<p>这行代码生成了一个旋转设计，并将结果存储在名为 <code>des1</code> 的对象中。</p>
<ul>
<li><p><code>rotation.design()</code>: 这是 <code>support.CEs</code> 包中的一个函数，用于生成旋转设计。</p>
</li>
<li><p><code>attribute.names</code>: 这个参数指定了设计中每个属性的名称和水平。在这个例子中，有三个属性：Region、Eco、Price。每个属性的水平分别是区域A、区域B、区域C；传统、更环保、最环保；1美元、1.1美元、1.2美元。</p>
</li>
<li><p><code>nalternatives = 2</code>: 这个参数指定了每个选择集中的备选数。在这个例子中，每个选择集中有2个备选项。</p>
</li>
<li><p><code>nblocks = 1</code>: 这个参数指定了设计中的块数。在这个例子中，有1个块。</p>
</li>
<li><p><code>row.renames = FALSE</code>: 这个参数指定是否重命名设计矩阵的行。在这里，设置为FALSE表示不重命名。</p>
</li>
<li><p><code>randomize = TRUE</code>: 这个参数指定是否随机化设计。在这里，设置为TRUE表示进行随机化。</p>
</li>
<li><p><code>seed = 987</code>: 这个参数指定了随机数生成器的种子，以确保可以重现随机化结果。</p>
</li>
</ul>
<p>在实验设计中，块（block）是指一组试验单元，这组单元被认为是相似的或具有类似特征的。在这段代码中，<code>nblocks = 1</code> 参数指定了设计中的块数为1，也就是说，整个设计被分成了一个块。</p>
<p>具体来说，在这个设计中，将所有的试验单元（或样本）分为一个块，这意味着所有的试验将在相同的条件下进行。这种设置通常用于控制一些可能影响试验结果的外部因素，确保在这些因素上试验单元之间是均匀分布的。</p>
<p>例如，如果我们在对不同地区消费者的产品偏好进行研究时，可以将每个地区作为一个块，以确保在不同地区进行的试验是相对独立的。在这种情况下，<code>nblocks = 1</code> 就表示整个设计只包含一个地区的数据。</p>
<p>得到的结果为：</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&gt;</span> des1</span><br><span class="line"></span><br><span class="line">Choice sets<span class="operator">:</span></span><br><span class="line">alternative <span class="number">1</span> <span class="keyword">in</span> each choice set</span><br><span class="line">  BLOCK QES ALT   Region  Eco Price</span><br><span class="line"><span class="number">8</span>     <span class="number">1</span>   <span class="number">1</span>   <span class="number">1</span> region_A Most   <span class="number">1.1</span></span><br><span class="line"><span class="number">7</span>     <span class="number">1</span>   <span class="number">2</span>   <span class="number">1</span> region_A More   <span class="number">1.2</span></span><br><span class="line"><span class="number">1</span>     <span class="number">1</span>   <span class="number">3</span>   <span class="number">1</span> region_c Most   <span class="number">1.2</span></span><br><span class="line"><span class="number">5</span>     <span class="number">1</span>   <span class="number">4</span>   <span class="number">1</span> region_c More     <span class="number">1</span></span><br><span class="line"><span class="number">3</span>     <span class="number">1</span>   <span class="number">5</span>   <span class="number">1</span> region_B More   <span class="number">1.1</span></span><br><span class="line"><span class="number">9</span>     <span class="number">1</span>   <span class="number">6</span>   <span class="number">1</span> region_B Most     <span class="number">1</span></span><br><span class="line"><span class="number">2</span>     <span class="number">1</span>   <span class="number">7</span>   <span class="number">1</span> region_c Conv   <span class="number">1.1</span></span><br><span class="line"><span class="number">6</span>     <span class="number">1</span>   <span class="number">8</span>   <span class="number">1</span> region_B Conv   <span class="number">1.2</span></span><br><span class="line"><span class="number">4</span>     <span class="number">1</span>   <span class="number">9</span>   <span class="number">1</span> region_A Conv     <span class="number">1</span></span><br><span class="line"></span><br><span class="line">alternative <span class="number">2</span> <span class="keyword">in</span> each choice set</span><br><span class="line">  BLOCK QES ALT   Region  Eco Price</span><br><span class="line"><span class="number">2</span>     <span class="number">1</span>   <span class="number">1</span>   <span class="number">2</span> region_A More   <span class="number">1.2</span></span><br><span class="line"><span class="number">3</span>     <span class="number">1</span>   <span class="number">2</span>   <span class="number">2</span> region_c Most   <span class="number">1.2</span></span><br><span class="line"><span class="number">6</span>     <span class="number">1</span>   <span class="number">3</span>   <span class="number">2</span> region_c More     <span class="number">1</span></span><br><span class="line"><span class="number">4</span>     <span class="number">1</span>   <span class="number">4</span>   <span class="number">2</span> region_B More   <span class="number">1.1</span></span><br><span class="line"><span class="number">8</span>     <span class="number">1</span>   <span class="number">5</span>   <span class="number">2</span> region_B Conv   <span class="number">1.2</span></span><br><span class="line"><span class="number">1</span>     <span class="number">1</span>   <span class="number">6</span>   <span class="number">2</span> region_A Conv     <span class="number">1</span></span><br><span class="line"><span class="number">5</span>     <span class="number">1</span>   <span class="number">7</span>   <span class="number">2</span> region_A Most   <span class="number">1.1</span></span><br><span class="line"><span class="number">9</span>     <span class="number">1</span>   <span class="number">8</span>   <span class="number">2</span> region_c Conv   <span class="number">1.1</span></span><br><span class="line"><span class="number">7</span>     <span class="number">1</span>   <span class="number">9</span>   <span class="number">2</span> region_B Most     <span class="number">1</span></span><br><span class="line"></span><br><span class="line">Candidate design<span class="operator">:</span></span><br><span class="line">  A B C</span><br><span class="line"><span class="number">1</span> <span class="number">3</span> <span class="number">3</span> <span class="number">3</span></span><br><span class="line"><span class="number">2</span> <span class="number">3</span> <span class="number">1</span> <span class="number">2</span></span><br><span class="line"><span class="number">3</span> <span class="number">2</span> <span class="number">2</span> <span class="number">2</span></span><br><span class="line"><span class="number">4</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span></span><br><span class="line"><span class="number">5</span> <span class="number">3</span> <span class="number">2</span> <span class="number">1</span></span><br><span class="line"><span class="number">6</span> <span class="number">2</span> <span class="number">1</span> <span class="number">3</span></span><br><span class="line"><span class="number">7</span> <span class="number">1</span> <span class="number">2</span> <span class="number">3</span></span><br><span class="line"><span class="number">8</span> <span class="number">1</span> <span class="number">3</span> <span class="number">2</span></span><br><span class="line"><span class="number">9</span> <span class="number">2</span> <span class="number">3</span> <span class="number">1</span></span><br><span class="line"><span class="built_in">class</span><span class="operator">=</span>design<span class="punctuation">,</span> type<span class="operator">=</span> oa </span><br><span class="line"></span><br><span class="line">Design information<span class="operator">:</span></span><br><span class="line">number of blocks <span class="operator">=</span> <span class="number">1</span> </span><br><span class="line">number of questions per block <span class="operator">=</span> <span class="number">9</span> </span><br><span class="line">number of alternatives per choice set <span class="operator">=</span> <span class="number">2</span> </span><br><span class="line">number of <span class="built_in">attributes</span> per alternative <span class="operator">=</span> <span class="number">3</span> </span><br></pre></td></tr></table></figure>

<p>生成的结果提供了两个部分的信息：选择集（Choice sets）和候选设计（Candidate design）。让我分别解释一下：</p>
<p><strong>选择集（Choice sets）：</strong></p>
<ul>
<li><strong>alternative 1 in each choice set</strong>：每个选择集中的备选项1。</li>
<li><strong>alternative 2 in each choice set</strong>：每个选择集中的备选项2。</li>
</ul>
<p>在每个选择集中，显示了备选项的属性信息，包括块（BLOCK）、问题（QES）、备选项（ALT）、地区（Region）、环保标签（Eco）和价格（Price）。每个备选项对应一个选择集。</p>
<p><strong>候选设计（Candidate design）：</strong></p>
<p>这部分展示了候选设计的信息，其中包括了每个试验的属性组合。候选设计通常用于确定实际试验中所需的试验条件。</p>
<ul>
<li><strong>A, B, C</strong>：这些是代表不同属性的列名。在这个例子中，A代表Region（地区）、B代表Eco（环保标签）、C代表Price（价格）。</li>
<li><strong>1, 2, 3</strong>：这些数字代表每个属性的水平。例如，1表示Region中的region_A，2表示Eco中的More，3表示Price中的1.2。</li>
</ul>
<p><strong>设计信息：</strong></p>
<p>这部分提供了关于设计的基本信息，包括块数、每个块中的问题数、每个选择集中的备选项数以及每个备选项的属性数。</p>
<p><strong>实验的选项为：</strong></p>
<p><img src="/2024/03/10/%E5%A4%A7%E5%9E%8B%E7%BB%84%E7%BB%87%E4%B8%AD%E7%9A%84%E5%AE%A2%E6%88%B7%E5%88%86%E6%9E%90-02%EF%BC%9AA-B%E6%B5%8B%E8%AF%95%E5%92%8C%E7%A6%BB%E6%95%A3%E9%80%89%E9%A1%B9%E5%AE%9E%E9%AA%8C/image-20240323050935385.png" alt="image-20240323050935385"></p>
<p><strong>候选设计</strong></p>
<p>候选设计（Candidate design）是在设计实验之前确定的一组试验条件的集合。在实验设计的过程中，候选设计用于确定实际实验所需的试验条件。候选设计通常是根据实验目标和研究假设预先确定的，以确保实验能够有效地测试所关心的因素和效应。</p>
<p>候选设计包含了试验中所有可能出现的条件组合，这些组合可以通过操纵实验中的自变量来确定。通常情况下，候选设计是在实验设计阶段利用统计方法生成的，以确保实验具有统计效能和可解释性。</p>
<p>在生成候选设计时，通常要考虑以下几个因素：</p>
<ol>
<li><p><strong>因素的水平</strong>：确定每个自变量的不同水平，以覆盖所有可能的变化范围。</p>
</li>
<li><p><strong>交互作用</strong>：考虑自变量之间的交互作用，并确保候选设计中包含了所有可能的交互作用组合。</p>
</li>
<li><p><strong>随机化</strong>：在设计中引入随机元素，以减少外部因素对实验结果的影响。</p>
</li>
<li><p><strong>控制</strong>：确保候选设计中包含了所需的控制条件，以验证实验结果的可靠性。</p>
</li>
</ol>
<p>通过使用候选设计，研究者可以在实验开始之前就对试验条件进行全面的规划和控制，从而确保实验的有效性和可信度。</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">questionnaire<span class="punctuation">(</span>choice.experiment.design <span class="operator">=</span> des1<span class="punctuation">)</span></span><br></pre></td></tr></table></figure>

<p>这段代码调用了一个函数 <code>questionnaire()</code>，并传递了一个参数 <code>choice.experiment.design</code>，其值为 <code>des1</code>，这是一个选择实验设计的对象。下面是对代码的解释：</p>
<ol>
<li><p><code>questionnaire()</code>: 这是一个函数调用，可能是定义在与选择实验相关的包中，或者是用户自己定义的一个函数。根据函数名字，我们可以猜测这个函数可能用于生成一个问卷或者实验调查。</p>
</li>
<li><p><code>choice.experiment.design = des1</code>: 这个参数指定了要在问卷中使用的选择实验设计。在这个例子中，选择实验设计的对象被命名为 <code>des1</code>，并且作为参数传递给了 <code>questionnaire()</code> 函数。</p>
</li>
</ol>
<p>总的来说，这段代码的目的是调用一个函数来生成一个问卷，该问卷使用了名为 <code>des1</code> 的选择实验设计。这样的问卷可能被用于收集关于产品偏好或者选择行为的数据，以用于后续的分析或实验。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">&gt; questionnaire(choice.experiment.design = des1)</span><br><span class="line"></span><br><span class="line">Block 1 </span><br><span class="line"> </span><br><span class="line">Question 1 </span><br><span class="line">       alt.1      alt.2     </span><br><span class="line">Region &quot;region_A&quot; &quot;region_A&quot;</span><br><span class="line">Eco    &quot;Most&quot;     &quot;More&quot;    </span><br><span class="line">Price  &quot;1.1&quot;      &quot;1.2&quot;     </span><br><span class="line"></span><br><span class="line">Question 2 </span><br><span class="line">       alt.1      alt.2     </span><br><span class="line">Region &quot;region_A&quot; &quot;region_c&quot;</span><br><span class="line">Eco    &quot;More&quot;     &quot;Most&quot;    </span><br><span class="line">Price  &quot;1.2&quot;      &quot;1.2&quot;     </span><br><span class="line"></span><br><span class="line">Question 3 </span><br><span class="line">       alt.1      alt.2     </span><br><span class="line">Region &quot;region_c&quot; &quot;region_c&quot;</span><br><span class="line">Eco    &quot;Most&quot;     &quot;More&quot;    </span><br><span class="line">Price  &quot;1.2&quot;      &quot;1&quot;       </span><br><span class="line"></span><br><span class="line">Question 4 </span><br><span class="line">       alt.1      alt.2     </span><br><span class="line">Region &quot;region_c&quot; &quot;region_B&quot;</span><br><span class="line">Eco    &quot;More&quot;     &quot;More&quot;    </span><br><span class="line">Price  &quot;1&quot;        &quot;1.1&quot;     </span><br><span class="line"></span><br><span class="line">Question 5 </span><br><span class="line">       alt.1      alt.2     </span><br><span class="line">Region &quot;region_B&quot; &quot;region_B&quot;</span><br><span class="line">Eco    &quot;More&quot;     &quot;Conv&quot;    </span><br><span class="line">Price  &quot;1.1&quot;      &quot;1.2&quot;     </span><br><span class="line"></span><br><span class="line">Question 6 </span><br><span class="line">       alt.1      alt.2     </span><br><span class="line">Region &quot;region_B&quot; &quot;region_A&quot;</span><br><span class="line">Eco    &quot;Most&quot;     &quot;Conv&quot;    </span><br><span class="line">Price  &quot;1&quot;        &quot;1&quot;       </span><br><span class="line"></span><br><span class="line">Question 7 </span><br><span class="line">       alt.1      alt.2     </span><br><span class="line">Region &quot;region_c&quot; &quot;region_A&quot;</span><br><span class="line">Eco    &quot;Conv&quot;     &quot;Most&quot;    </span><br><span class="line">Price  &quot;1.1&quot;      &quot;1.1&quot;     </span><br><span class="line"></span><br><span class="line">Question 8 </span><br><span class="line">       alt.1      alt.2     </span><br><span class="line">Region &quot;region_B&quot; &quot;region_c&quot;</span><br><span class="line">Eco    &quot;Conv&quot;     &quot;Conv&quot;    </span><br><span class="line">Price  &quot;1.2&quot;      &quot;1.1&quot;     </span><br><span class="line"></span><br><span class="line">Question 9 </span><br><span class="line">       alt.1      alt.2     </span><br><span class="line">Region &quot;region_A&quot; &quot;region_B&quot;</span><br><span class="line">Eco    &quot;Conv&quot;     &quot;Most&quot;    </span><br><span class="line">Price  &quot;1&quot;        &quot;1&quot;       </span><br></pre></td></tr></table></figure>

<p>这个问卷与之前生成的选择集（Choice sets）密切相关，因为每个问题都对应于选择集中的一个备选项对。每个问题都要求受试者在两个备选项中进行选择，这些备选项是从选择实验设计 <code>des1</code> 中生成的。</p>
<p>在问卷中的每个问题中，备选项 1 和备选项 2 对应于选择集中的一个备选项对。这些备选项对在选择集中的分布是由实验设计确定的，并且在问卷中的顺序可能与选择集中的顺序略有不同。</p>
<p>因此，问卷中的问题与选择集密切相关，它们提供了对选择集中备选项对的评估，以收集关于受试者偏好或选择行为的数据。</p>
<h2 id="使用收集的数据"><a href="#使用收集的数据" class="headerlink" title="使用收集的数据"></a>使用收集的数据</h2><p><code>syn.res1</code> 是一个来自 R 包 <code>support.CEs</code> 中的数据集，用于支持对选择实验（Choice experiments）的分析和实验设计。该数据集通常用于演示和测试选择实验相关的功能和方法。</p>
<p>在 <code>syn.res1</code> 数据集中，通常包含了选择实验的一些样本数据，以及与实验设计和分析相关的其他信息。具体数据集的内容和结构可能因不同的用途而有所不同，但通常会包含受试者的选择结果、备选项的属性信息、试验条件的设置等。</p>
<p>如果您想进一步了解 <code>syn.res1</code> 数据集的具体内容和用途，可以查看该数据集的文档或者使用 <code>str()</code>、<code>summary()</code> 或者 <code>head()</code> 等函数来查看数据的结构和摘要信息。</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&gt;</span> data<span class="punctuation">(</span><span class="string">&quot;syn.res1&quot;</span><span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> syn.res1<span class="punctuation">[</span><span class="number">1</span><span class="operator">:</span><span class="number">3</span><span class="punctuation">,</span> <span class="punctuation">]</span></span><br><span class="line">  ID BLOCK q1 q2 q3 q4 q5 q6 q7 q8 q9 <span class="built_in">F</span></span><br><span class="line"><span class="number">1</span>  <span class="number">1</span>     <span class="number">1</span>  <span class="number">2</span>  <span class="number">1</span>  <span class="number">2</span>  <span class="number">2</span>  <span class="number">2</span>  <span class="number">1</span>  <span class="number">2</span>  <span class="number">3</span>  <span class="number">1</span> <span class="number">0</span></span><br><span class="line"><span class="number">2</span>  <span class="number">2</span>     <span class="number">1</span>  <span class="number">1</span>  <span class="number">1</span>  <span class="number">1</span>  <span class="number">1</span>  <span class="number">3</span>  <span class="number">1</span>  <span class="number">3</span>  <span class="number">2</span>  <span class="number">2</span> <span class="number">1</span></span><br><span class="line"><span class="number">3</span>  <span class="number">3</span>     <span class="number">1</span>  <span class="number">1</span>  <span class="number">2</span>  <span class="number">1</span>  <span class="number">2</span>  <span class="number">2</span>  <span class="number">3</span>  <span class="number">3</span>  <span class="number">3</span>  <span class="number">1</span> <span class="number">0</span></span><br></pre></td></tr></table></figure>

<p><code>syn.res1</code> 数据集包含了一些与选择实验相关的信息。以下是数据集的前三行内容：</p>
<ul>
<li><strong>ID</strong>: 受试者的唯一标识符。</li>
<li><strong>BLOCK</strong>: 实验中的块编号。</li>
<li><strong>q1-q9</strong>: 每个问题的选择结果，1 表示选择备选项 1，2 表示选择备选项 2。</li>
<li><strong>F</strong>: 受试者的特征或者属性，可能是某些受试者的特征信息。</li>
</ul>
<p>每一行代表一个受试者参与了实验，而每一列代表了实验中的不同信息。这些信息包括了受试者的选择结果和可能的特征信息，以及实验中的块编号。</p>
<p>通过这些数据，可以进行选择实验的分析，例如分析受试者的选择行为与其特征之间的关系，或者评估不同试验条件下的选择偏好。</p>
<p>接着的代码是：</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&gt;</span> desmat1 <span class="operator">&lt;-</span> make.design.matrix<span class="punctuation">(</span>choice.experiment.design <span class="operator">=</span> des1<span class="punctuation">,</span></span><br><span class="line"><span class="operator">+</span>                               optout <span class="operator">=</span> <span class="literal">TRUE</span><span class="punctuation">,</span> categorical.attributes <span class="operator">=</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="string">&quot;Region&quot;</span><span class="punctuation">,</span> <span class="string">&quot;Eco&quot;</span><span class="punctuation">)</span><span class="punctuation">,</span></span><br><span class="line"><span class="operator">+</span>                               continuous.attributes <span class="operator">=</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="string">&quot;Price&quot;</span><span class="punctuation">)</span><span class="punctuation">,</span> unlabeled <span class="operator">=</span> <span class="literal">TRUE</span><span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> desmat1<span class="punctuation">[</span><span class="number">1</span><span class="operator">:</span><span class="number">3</span><span class="punctuation">,</span> <span class="punctuation">]</span></span><br><span class="line">  BLOCK QES ALT ASC region_B region_c More Most Price</span><br><span class="line"><span class="number">1</span>     <span class="number">1</span>   <span class="number">1</span>   <span class="number">1</span>   <span class="number">1</span>        <span class="number">0</span>        <span class="number">0</span>    <span class="number">0</span>    <span class="number">1</span>   <span class="number">1.1</span></span><br><span class="line"><span class="number">2</span>     <span class="number">1</span>   <span class="number">1</span>   <span class="number">2</span>   <span class="number">1</span>        <span class="number">0</span>        <span class="number">0</span>    <span class="number">1</span>    <span class="number">0</span>   <span class="number">1.2</span></span><br><span class="line"><span class="number">3</span>     <span class="number">1</span>   <span class="number">1</span>   <span class="number">3</span>   <span class="number">0</span>        <span class="number">0</span>        <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>   <span class="number">0.0</span></span><br></pre></td></tr></table></figure>

<p>这段代码生成了一个设计矩阵 <code>desmat1</code>，它是根据选择实验设计 <code>des1</code> 和其他一些参数生成的。让我们来逐步解释这段代码：</p>
<ol>
<li><p><code>make.design.matrix()</code>: 这是一个函数调用，用于生成一个实验设计矩阵。该函数通常用于将选择实验设计转换为矩阵形式，以便进行进一步的分析或建模。</p>
</li>
<li><p><code>choice.experiment.design = des1</code>: 这个参数指定了使用的选择实验设计对象，即之前定义的 <code>des1</code>。</p>
</li>
<li><p><code>optout = TRUE</code>: 这个参数指定了是否包含选择退出（opt-out）选项。在选择实验中，opt-out 选项是指受试者选择不做出选择的选项。</p>
</li>
<li><p><code>categorical.attributes = c(&quot;Region&quot;, &quot;Eco&quot;)</code>: 这个参数指定了哪些属性是分类属性。在这个例子中，”Region” 和 “Eco” 被指定为分类属性。</p>
</li>
<li><p><code>continuous.attributes = c(&quot;Price&quot;)</code>: 这个参数指定了哪些属性是连续属性。在这个例子中，”Price” 被指定为连续属性。</p>
</li>
<li><p><code>unlabeled = TRUE</code>: 这个参数指定了是否保留属性标签。如果设置为 <code>TRUE</code>，则属性标签将不包含在设计矩阵中。</p>
</li>
</ol>
<p>通过这些参数，<code>make.design.matrix()</code> 函数生成了一个设计矩阵 <code>desmat1</code>，其中每一行代表一个试验条件，每一列代表一个属性或者特征。在设计矩阵中，对于分类属性，使用 0 和 1 来表示是否选择了该属性的某个水平；对于连续属性，则直接给出了具体的值。</p>
<p>代码为：</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">dataset1 <span class="operator">&lt;-</span> make.dataset<span class="punctuation">(</span>respondent.dataset <span class="operator">=</span> syn.res1<span class="punctuation">,</span></span><br><span class="line">                         choice.indicators <span class="operator">=</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="string">&quot;q1&quot;</span><span class="punctuation">,</span> <span class="string">&quot;q2&quot;</span><span class="punctuation">,</span> <span class="string">&quot;q3&quot;</span><span class="punctuation">,</span> <span class="string">&quot;q4&quot;</span><span class="punctuation">,</span> <span class="string">&quot;q5&quot;</span><span class="punctuation">,</span> <span class="string">&quot;q6&quot;</span><span class="punctuation">,</span> <span class="string">&quot;q7&quot;</span><span class="punctuation">,</span> <span class="string">&quot;q8&quot;</span><span class="punctuation">,</span> <span class="string">&quot;q9&quot;</span><span class="punctuation">)</span><span class="punctuation">,</span> design.matrix <span class="operator">=</span> desmat1<span class="punctuation">)</span></span><br><span class="line"></span><br><span class="line">dataset1</span><br></pre></td></tr></table></figure>

<p>这段代码使用了函数 <code>make.dataset()</code>，并基于提供的受试者数据集 <code>syn.res1</code>、选择指示符和设计矩阵生成了一个数据集 <code>dataset1</code>。让我们解释一下这段代码：</p>
<ol>
<li><p><code>make.dataset()</code>: 这是一个函数调用，可能是定义在与选择实验相关的包中，或者是用户自己定义的一个函数。根据函数名字，可以猜测这个函数的作用是生成一个数据集，用于进一步的分析或者建模。</p>
</li>
<li><p><code>respondent.dataset = syn.res1</code>: 这个参数指定了用于构建数据集的受试者数据集。在这个例子中，受试者数据集被命名为 <code>syn.res1</code>。</p>
</li>
<li><p><code>choice.indicators = c(&quot;q1&quot;, &quot;q2&quot;, &quot;q3&quot;, &quot;q4&quot;, &quot;q5&quot;, &quot;q6&quot;, &quot;q7&quot;, &quot;q8&quot;, &quot;q9&quot;)</code>: 这个参数指定了选择指示符，即标识每个受试者选择的备选项的变量。在 <code>syn.res1</code> 数据集中，这些选择指示符的列名分别为 “q1” 到 “q9”。</p>
</li>
<li><p><code>design.matrix = desmat1</code>: 这个参数指定了实验设计矩阵，即用于描述每个试验条件的属性和特征的矩阵。在这个例子中，实验设计矩阵被命名为 <code>desmat1</code>。</p>
</li>
</ol>
<p>根据这些参数，<code>make.dataset()</code> 函数将受试者数据集 <code>syn.res1</code> 中的选择指示符与设计矩阵 <code>desmat1</code> 结合起来，生成了一个新的数据集 <code>dataset1</code>。这个数据集可能包含了受试者的选择行为、特征信息以及试验条件的属性信息，以用于后续的分析或者建模工作。</p>
<p>得到的结果为：</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&gt;</span> dataset1</span><br><span class="line">   ID <span class="built_in">F</span> BLOCK QES ALT   RES ASC region_B region_c More Most Price</span><br><span class="line"><span class="number">1</span>   <span class="number">1</span> <span class="number">0</span>     <span class="number">1</span>   <span class="number">1</span>   <span class="number">1</span> <span class="literal">FALSE</span>   <span class="number">1</span>        <span class="number">0</span>        <span class="number">0</span>    <span class="number">0</span>    <span class="number">1</span>   <span class="number">1.1</span></span><br><span class="line"><span class="number">2</span>   <span class="number">1</span> <span class="number">0</span>     <span class="number">1</span>   <span class="number">1</span>   <span class="number">2</span>  <span class="literal">TRUE</span>   <span class="number">1</span>        <span class="number">0</span>        <span class="number">0</span>    <span class="number">1</span>    <span class="number">0</span>   <span class="number">1.2</span></span><br><span class="line"><span class="number">3</span>   <span class="number">1</span> <span class="number">0</span>     <span class="number">1</span>   <span class="number">1</span>   <span class="number">3</span> <span class="literal">FALSE</span>   <span class="number">0</span>        <span class="number">0</span>        <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>   <span class="number">0.0</span></span><br><span class="line"><span class="number">4</span>   <span class="number">1</span> <span class="number">0</span>     <span class="number">1</span>   <span class="number">2</span>   <span class="number">1</span>  <span class="literal">TRUE</span>   <span class="number">1</span>        <span class="number">0</span>        <span class="number">0</span>    <span class="number">1</span>    <span class="number">0</span>   <span class="number">1.2</span></span><br><span class="line"><span class="number">5</span>   <span class="number">1</span> <span class="number">0</span>     <span class="number">1</span>   <span class="number">2</span>   <span class="number">2</span> <span class="literal">FALSE</span>   <span class="number">1</span>        <span class="number">0</span>        <span class="number">1</span>    <span class="number">0</span>    <span class="number">1</span>   <span class="number">1.2</span></span><br><span class="line"><span class="number">6</span>   <span class="number">1</span> <span class="number">0</span>     <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span> <span class="literal">FALSE</span>   <span class="number">0</span>        <span class="number">0</span>        <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>   <span class="number">0.0</span></span><br><span class="line"><span class="number">7</span>   <span class="number">1</span> <span class="number">0</span>     <span class="number">1</span>   <span class="number">3</span>   <span class="number">1</span> <span class="literal">FALSE</span>   <span class="number">1</span>        <span class="number">0</span>        <span class="number">1</span>    <span class="number">0</span>    <span class="number">1</span>   <span class="number">1.2</span></span><br><span class="line"><span class="number">8</span>   <span class="number">1</span> <span class="number">0</span>     <span class="number">1</span>   <span class="number">3</span>   <span class="number">2</span>  <span class="literal">TRUE</span>   <span class="number">1</span>        <span class="number">0</span>        <span class="number">1</span>    <span class="number">1</span>    <span class="number">0</span>   <span class="number">1.0</span></span><br><span class="line"><span class="number">9</span>   <span class="number">1</span> <span class="number">0</span>     <span class="number">1</span>   <span class="number">3</span>   <span class="number">3</span> <span class="literal">FALSE</span>   <span class="number">0</span>        <span class="number">0</span>        <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>   <span class="number">0.0</span></span><br><span class="line"><span class="number">10</span>  <span class="number">1</span> <span class="number">0</span>     <span class="number">1</span>   <span class="number">4</span>   <span class="number">1</span> <span class="literal">FALSE</span>   <span class="number">1</span>        <span class="number">0</span>        <span class="number">1</span>    <span class="number">1</span>    <span class="number">0</span>   <span class="number">1.0</span></span><br><span class="line"><span class="number">11</span>  <span class="number">1</span> <span class="number">0</span>     <span class="number">1</span>   <span class="number">4</span>   <span class="number">2</span>  <span class="literal">TRUE</span>   <span class="number">1</span>        <span class="number">1</span>        <span class="number">0</span>    <span class="number">1</span>    <span class="number">0</span>   <span class="number">1.1</span></span><br><span class="line"><span class="number">12</span>  <span class="number">1</span> <span class="number">0</span>     <span class="number">1</span>   <span class="number">4</span>   <span class="number">3</span> <span class="literal">FALSE</span>   <span class="number">0</span>        <span class="number">0</span>        <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>   <span class="number">0.0</span></span><br><span class="line"><span class="number">13</span>  <span class="number">1</span> <span class="number">0</span>     <span class="number">1</span>   <span class="number">5</span>   <span class="number">1</span> <span class="literal">FALSE</span>   <span class="number">1</span>        <span class="number">1</span>        <span class="number">0</span>    <span class="number">1</span>    <span class="number">0</span>   <span class="number">1.1</span></span><br><span class="line"><span class="number">14</span>  <span class="number">1</span> <span class="number">0</span>     <span class="number">1</span>   <span class="number">5</span>   <span class="number">2</span>  <span class="literal">TRUE</span>   <span class="number">1</span>        <span class="number">1</span>        <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>   <span class="number">1.2</span></span><br><span class="line"><span class="number">15</span>  <span class="number">1</span> <span class="number">0</span>     <span class="number">1</span>   <span class="number">5</span>   <span class="number">3</span> <span class="literal">FALSE</span>   <span class="number">0</span>        <span class="number">0</span>        <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>   <span class="number">0.0</span></span><br><span class="line"><span class="number">16</span>  <span class="number">1</span> <span class="number">0</span>     <span class="number">1</span>   <span class="number">6</span>   <span class="number">1</span>  <span class="literal">TRUE</span>   <span class="number">1</span>        <span class="number">1</span>        <span class="number">0</span>    <span class="number">0</span>    <span class="number">1</span>   <span class="number">1.0</span></span><br><span class="line"><span class="number">17</span>  <span class="number">1</span> <span class="number">0</span>     <span class="number">1</span>   <span class="number">6</span>   <span class="number">2</span> <span class="literal">FALSE</span>   <span class="number">1</span>        <span class="number">0</span>        <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>   <span class="number">1.0</span></span><br><span class="line"><span class="number">18</span>  <span class="number">1</span> <span class="number">0</span>     <span class="number">1</span>   <span class="number">6</span>   <span class="number">3</span> <span class="literal">FALSE</span>   <span class="number">0</span>        <span class="number">0</span>        <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>   <span class="number">0.0</span></span><br><span class="line"><span class="number">19</span>  <span class="number">1</span> <span class="number">0</span>     <span class="number">1</span>   <span class="number">7</span>   <span class="number">1</span> <span class="literal">FALSE</span>   <span class="number">1</span>        <span class="number">0</span>        <span class="number">1</span>    <span class="number">0</span>    <span class="number">0</span>   <span class="number">1.1</span></span><br><span class="line"><span class="number">20</span>  <span class="number">1</span> <span class="number">0</span>     <span class="number">1</span>   <span class="number">7</span>   <span class="number">2</span>  <span class="literal">TRUE</span>   <span class="number">1</span>        <span class="number">0</span>        <span class="number">0</span>    <span class="number">0</span>    <span class="number">1</span>   <span class="number">1.1</span></span><br><span class="line"><span class="number">21</span>  <span class="number">1</span> <span class="number">0</span>     <span class="number">1</span>   <span class="number">7</span>   <span class="number">3</span> <span class="literal">FALSE</span>   <span class="number">0</span>        <span class="number">0</span>        <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>   <span class="number">0.0</span></span><br><span class="line"><span class="number">22</span>  <span class="number">1</span> <span class="number">0</span>     <span class="number">1</span>   <span class="number">8</span>   <span class="number">1</span> <span class="literal">FALSE</span>   <span class="number">1</span>        <span class="number">1</span>        <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>   <span class="number">1.2</span></span><br><span class="line"><span class="number">23</span>  <span class="number">1</span> <span class="number">0</span>     <span class="number">1</span>   <span class="number">8</span>   <span class="number">2</span> <span class="literal">FALSE</span>   <span class="number">1</span>        <span class="number">0</span>        <span class="number">1</span>    <span class="number">0</span>    <span class="number">0</span>   <span class="number">1.1</span></span><br><span class="line"><span class="number">24</span>  <span class="number">1</span> <span class="number">0</span>     <span class="number">1</span>   <span class="number">8</span>   <span class="number">3</span>  <span class="literal">TRUE</span>   <span class="number">0</span>        <span class="number">0</span>        <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>   <span class="number">0.0</span></span><br><span class="line"><span class="number">25</span>  <span class="number">1</span> <span class="number">0</span>     <span class="number">1</span>   <span class="number">9</span>   <span class="number">1</span>  <span class="literal">TRUE</span>   <span class="number">1</span>        <span class="number">0</span>        <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>   <span class="number">1.0</span></span><br><span class="line"><span class="number">26</span>  <span class="number">1</span> <span class="number">0</span>     <span class="number">1</span>   <span class="number">9</span>   <span class="number">2</span> <span class="literal">FALSE</span>   <span class="number">1</span>        <span class="number">1</span>        <span class="number">0</span>    <span class="number">0</span>    <span class="number">1</span>   <span class="number">1.0</span></span><br><span class="line"><span class="number">27</span>  <span class="number">1</span> <span class="number">0</span>     <span class="number">1</span>   <span class="number">9</span>   <span class="number">3</span> <span class="literal">FALSE</span>   <span class="number">0</span>        <span class="number">0</span>        <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>   <span class="number">0.0</span></span><br><span class="line"><span class="number">28</span>  <span class="number">2</span> <span class="number">1</span>     <span class="number">1</span>   <span class="number">1</span>   <span class="number">1</span>  <span class="literal">TRUE</span>   <span class="number">1</span>        <span class="number">0</span>        <span class="number">0</span>    <span class="number">0</span>    <span class="number">1</span>   <span class="number">1.1</span></span><br><span class="line"><span class="number">29</span>  <span class="number">2</span> <span class="number">1</span>     <span class="number">1</span>   <span class="number">1</span>   <span class="number">2</span> <span class="literal">FALSE</span>   <span class="number">1</span>        <span class="number">0</span>        <span class="number">0</span>    <span class="number">1</span>    <span class="number">0</span>   <span class="number">1.2</span></span><br><span class="line"><span class="number">30</span>  <span class="number">2</span> <span class="number">1</span>     <span class="number">1</span>   <span class="number">1</span>   <span class="number">3</span> <span class="literal">FALSE</span>   <span class="number">0</span>        <span class="number">0</span>        <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>   <span class="number">0.0</span></span><br><span class="line"><span class="number">31</span>  <span class="number">2</span> <span class="number">1</span>     <span class="number">1</span>   <span class="number">2</span>   <span class="number">1</span>  <span class="literal">TRUE</span>   <span class="number">1</span>        <span class="number">0</span>        <span class="number">0</span>    <span class="number">1</span>    <span class="number">0</span>   <span class="number">1.2</span></span><br><span class="line"><span class="number">32</span>  <span class="number">2</span> <span class="number">1</span>     <span class="number">1</span>   <span class="number">2</span>   <span class="number">2</span> <span class="literal">FALSE</span>   <span class="number">1</span>        <span class="number">0</span>        <span class="number">1</span>    <span class="number">0</span>    <span class="number">1</span>   <span class="number">1.2</span></span><br><span class="line"><span class="number">33</span>  <span class="number">2</span> <span class="number">1</span>     <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span> <span class="literal">FALSE</span>   <span class="number">0</span>        <span class="number">0</span>        <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>   <span class="number">0.0</span></span><br><span class="line"><span class="number">34</span>  <span class="number">2</span> <span class="number">1</span>     <span class="number">1</span>   <span class="number">3</span>   <span class="number">1</span>  <span class="literal">TRUE</span>   <span class="number">1</span>        <span class="number">0</span>        <span class="number">1</span>    <span class="number">0</span>    <span class="number">1</span>   <span class="number">1.2</span></span><br><span class="line"><span class="number">35</span>  <span class="number">2</span> <span class="number">1</span>     <span class="number">1</span>   <span class="number">3</span>   <span class="number">2</span> <span class="literal">FALSE</span>   <span class="number">1</span>        <span class="number">0</span>        <span class="number">1</span>    <span class="number">1</span>    <span class="number">0</span>   <span class="number">1.0</span></span><br><span class="line"><span class="number">36</span>  <span class="number">2</span> <span class="number">1</span>     <span class="number">1</span>   <span class="number">3</span>   <span class="number">3</span> <span class="literal">FALSE</span>   <span class="number">0</span>        <span class="number">0</span>        <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>   <span class="number">0.0</span></span><br><span class="line"><span class="number">37</span>  <span class="number">2</span> <span class="number">1</span>     <span class="number">1</span>   <span class="number">4</span>   <span class="number">1</span>  <span class="literal">TRUE</span>   <span class="number">1</span>        <span class="number">0</span>        <span class="number">1</span>    <span class="number">1</span>    <span class="number">0</span>   <span class="number">1.0</span></span><br><span class="line"><span class="number">38</span>  <span class="number">2</span> <span class="number">1</span>     <span class="number">1</span>   <span class="number">4</span>   <span class="number">2</span> <span class="literal">FALSE</span>   <span class="number">1</span>        <span class="number">1</span>        <span class="number">0</span>    <span class="number">1</span>    <span class="number">0</span>   <span class="number">1.1</span></span><br><span class="line"><span class="number">39</span>  <span class="number">2</span> <span class="number">1</span>     <span class="number">1</span>   <span class="number">4</span>   <span class="number">3</span> <span class="literal">FALSE</span>   <span class="number">0</span>        <span class="number">0</span>        <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>   <span class="number">0.0</span></span><br><span class="line"><span class="number">40</span>  <span class="number">2</span> <span class="number">1</span>     <span class="number">1</span>   <span class="number">5</span>   <span class="number">1</span> <span class="literal">FALSE</span>   <span class="number">1</span>        <span class="number">1</span>        <span class="number">0</span>    <span class="number">1</span>    <span class="number">0</span>   <span class="number">1.1</span></span><br><span class="line"><span class="number">41</span>  <span class="number">2</span> <span class="number">1</span>     <span class="number">1</span>   <span class="number">5</span>   <span class="number">2</span> <span class="literal">FALSE</span>   <span class="number">1</span>        <span class="number">1</span>        <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>   <span class="number">1.2</span></span><br><span class="line"><span class="number">42</span>  <span class="number">2</span> <span class="number">1</span>     <span class="number">1</span>   <span class="number">5</span>   <span class="number">3</span>  <span class="literal">TRUE</span>   <span class="number">0</span>        <span class="number">0</span>        <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>   <span class="number">0.0</span></span><br><span class="line"><span class="number">43</span>  <span class="number">2</span> <span class="number">1</span>     <span class="number">1</span>   <span class="number">6</span>   <span class="number">1</span>  <span class="literal">TRUE</span>   <span class="number">1</span>        <span class="number">1</span>        <span class="number">0</span>    <span class="number">0</span>    <span class="number">1</span>   <span class="number">1.0</span></span><br><span class="line"><span class="number">44</span>  <span class="number">2</span> <span class="number">1</span>     <span class="number">1</span>   <span class="number">6</span>   <span class="number">2</span> <span class="literal">FALSE</span>   <span class="number">1</span>        <span class="number">0</span>        <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>   <span class="number">1.0</span></span><br><span class="line"><span class="number">45</span>  <span class="number">2</span> <span class="number">1</span>     <span class="number">1</span>   <span class="number">6</span>   <span class="number">3</span> <span class="literal">FALSE</span>   <span class="number">0</span>        <span class="number">0</span>        <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>   <span class="number">0.0</span></span><br><span class="line"><span class="number">46</span>  <span class="number">2</span> <span class="number">1</span>     <span class="number">1</span>   <span class="number">7</span>   <span class="number">1</span> <span class="literal">FALSE</span>   <span class="number">1</span>        <span class="number">0</span>        <span class="number">1</span>    <span class="number">0</span>    <span class="number">0</span>   <span class="number">1.1</span></span><br><span class="line"><span class="number">47</span>  <span class="number">2</span> <span class="number">1</span>     <span class="number">1</span>   <span class="number">7</span>   <span class="number">2</span> <span class="literal">FALSE</span>   <span class="number">1</span>        <span class="number">0</span>        <span class="number">0</span>    <span class="number">0</span>    <span class="number">1</span>   <span class="number">1.1</span></span><br><span class="line"><span class="number">48</span>  <span class="number">2</span> <span class="number">1</span>     <span class="number">1</span>   <span class="number">7</span>   <span class="number">3</span>  <span class="literal">TRUE</span>   <span class="number">0</span>        <span class="number">0</span>        <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>   <span class="number">0.0</span></span><br><span class="line"><span class="number">49</span>  <span class="number">2</span> <span class="number">1</span>     <span class="number">1</span>   <span class="number">8</span>   <span class="number">1</span> <span class="literal">FALSE</span>   <span class="number">1</span>        <span class="number">1</span>        <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>   <span class="number">1.2</span></span><br><span class="line"><span class="number">50</span>  <span class="number">2</span> <span class="number">1</span>     <span class="number">1</span>   <span class="number">8</span>   <span class="number">2</span>  <span class="literal">TRUE</span>   <span class="number">1</span>        <span class="number">0</span>        <span class="number">1</span>    <span class="number">0</span>    <span class="number">0</span>   <span class="number">1.1</span></span><br><span class="line"><span class="number">51</span>  <span class="number">2</span> <span class="number">1</span>     <span class="number">1</span>   <span class="number">8</span>   <span class="number">3</span> <span class="literal">FALSE</span>   <span class="number">0</span>        <span class="number">0</span>        <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>   <span class="number">0.0</span></span><br><span class="line"><span class="number">52</span>  <span class="number">2</span> <span class="number">1</span>     <span class="number">1</span>   <span class="number">9</span>   <span class="number">1</span> <span class="literal">FALSE</span>   <span class="number">1</span>        <span class="number">0</span>        <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>   <span class="number">1.0</span></span><br><span class="line"><span class="number">53</span>  <span class="number">2</span> <span class="number">1</span>     <span class="number">1</span>   <span class="number">9</span>   <span class="number">2</span>  <span class="literal">TRUE</span>   <span class="number">1</span>        <span class="number">1</span>        <span class="number">0</span>    <span class="number">0</span>    <span class="number">1</span>   <span class="number">1.0</span></span><br><span class="line"><span class="number">54</span>  <span class="number">2</span> <span class="number">1</span>     <span class="number">1</span>   <span class="number">9</span>   <span class="number">3</span> <span class="literal">FALSE</span>   <span class="number">0</span>        <span class="number">0</span>        <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>   <span class="number">0.0</span></span><br><span class="line"><span class="number">55</span>  <span class="number">3</span> <span class="number">0</span>     <span class="number">1</span>   <span class="number">1</span>   <span class="number">1</span>  <span class="literal">TRUE</span>   <span class="number">1</span>        <span class="number">0</span>        <span class="number">0</span>    <span class="number">0</span>    <span class="number">1</span>   <span class="number">1.1</span></span><br><span class="line"><span class="number">56</span>  <span class="number">3</span> <span class="number">0</span>     <span class="number">1</span>   <span class="number">1</span>   <span class="number">2</span> <span class="literal">FALSE</span>   <span class="number">1</span>        <span class="number">0</span>        <span class="number">0</span>    <span class="number">1</span>    <span class="number">0</span>   <span class="number">1.2</span></span><br><span class="line"><span class="number">57</span>  <span class="number">3</span> <span class="number">0</span>     <span class="number">1</span>   <span class="number">1</span>   <span class="number">3</span> <span class="literal">FALSE</span>   <span class="number">0</span>        <span class="number">0</span>        <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>   <span class="number">0.0</span></span><br><span class="line"><span class="number">58</span>  <span class="number">3</span> <span class="number">0</span>     <span class="number">1</span>   <span class="number">2</span>   <span class="number">1</span> <span class="literal">FALSE</span>   <span class="number">1</span>        <span class="number">0</span>        <span class="number">0</span>    <span class="number">1</span>    <span class="number">0</span>   <span class="number">1.2</span></span><br><span class="line"><span class="number">59</span>  <span class="number">3</span> <span class="number">0</span>     <span class="number">1</span>   <span class="number">2</span>   <span class="number">2</span>  <span class="literal">TRUE</span>   <span class="number">1</span>        <span class="number">0</span>        <span class="number">1</span>    <span class="number">0</span>    <span class="number">1</span>   <span class="number">1.2</span></span><br><span class="line"><span class="number">60</span>  <span class="number">3</span> <span class="number">0</span>     <span class="number">1</span>   <span class="number">2</span>   <span class="number">3</span> <span class="literal">FALSE</span>   <span class="number">0</span>        <span class="number">0</span>        <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>   <span class="number">0.0</span></span><br><span class="line"><span class="number">61</span>  <span class="number">3</span> <span class="number">0</span>     <span class="number">1</span>   <span class="number">3</span>   <span class="number">1</span>  <span class="literal">TRUE</span>   <span class="number">1</span>        <span class="number">0</span>        <span class="number">1</span>    <span class="number">0</span>    <span class="number">1</span>   <span class="number">1.2</span></span><br><span class="line"><span class="number">62</span>  <span class="number">3</span> <span class="number">0</span>     <span class="number">1</span>   <span class="number">3</span>   <span class="number">2</span> <span class="literal">FALSE</span>   <span class="number">1</span>        <span class="number">0</span>        <span class="number">1</span>    <span class="number">1</span>    <span class="number">0</span>   <span class="number">1.0</span></span><br><span class="line"><span class="number">63</span>  <span class="number">3</span> <span class="number">0</span>     <span class="number">1</span>   <span class="number">3</span>   <span class="number">3</span> <span class="literal">FALSE</span>   <span class="number">0</span>        <span class="number">0</span>        <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>   <span class="number">0.0</span></span><br><span class="line"><span class="number">64</span>  <span class="number">3</span> <span class="number">0</span>     <span class="number">1</span>   <span class="number">4</span>   <span class="number">1</span> <span class="literal">FALSE</span>   <span class="number">1</span>        <span class="number">0</span>        <span class="number">1</span>    <span class="number">1</span>    <span class="number">0</span>   <span class="number">1.0</span></span><br><span class="line"><span class="number">65</span>  <span class="number">3</span> <span class="number">0</span>     <span class="number">1</span>   <span class="number">4</span>   <span class="number">2</span>  <span class="literal">TRUE</span>   <span class="number">1</span>        <span class="number">1</span>        <span class="number">0</span>    <span class="number">1</span>    <span class="number">0</span>   <span class="number">1.1</span></span><br><span class="line"><span class="number">66</span>  <span class="number">3</span> <span class="number">0</span>     <span class="number">1</span>   <span class="number">4</span>   <span class="number">3</span> <span class="literal">FALSE</span>   <span class="number">0</span>        <span class="number">0</span>        <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>   <span class="number">0.0</span></span><br><span class="line"><span class="number">67</span>  <span class="number">3</span> <span class="number">0</span>     <span class="number">1</span>   <span class="number">5</span>   <span class="number">1</span> <span class="literal">FALSE</span>   <span class="number">1</span>        <span class="number">1</span>        <span class="number">0</span>    <span class="number">1</span>    <span class="number">0</span>   <span class="number">1.1</span></span><br><span class="line"><span class="number">68</span>  <span class="number">3</span> <span class="number">0</span>     <span class="number">1</span>   <span class="number">5</span>   <span class="number">2</span>  <span class="literal">TRUE</span>   <span class="number">1</span>        <span class="number">1</span>        <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>   <span class="number">1.2</span></span><br><span class="line"><span class="number">69</span>  <span class="number">3</span> <span class="number">0</span>     <span class="number">1</span>   <span class="number">5</span>   <span class="number">3</span> <span class="literal">FALSE</span>   <span class="number">0</span>        <span class="number">0</span>        <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>   <span class="number">0.0</span></span><br><span class="line"><span class="number">70</span>  <span class="number">3</span> <span class="number">0</span>     <span class="number">1</span>   <span class="number">6</span>   <span class="number">1</span> <span class="literal">FALSE</span>   <span class="number">1</span>        <span class="number">1</span>        <span class="number">0</span>    <span class="number">0</span>    <span class="number">1</span>   <span class="number">1.0</span></span><br><span class="line"><span class="number">71</span>  <span class="number">3</span> <span class="number">0</span>     <span class="number">1</span>   <span class="number">6</span>   <span class="number">2</span> <span class="literal">FALSE</span>   <span class="number">1</span>        <span class="number">0</span>        <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>   <span class="number">1.0</span></span><br><span class="line"><span class="number">72</span>  <span class="number">3</span> <span class="number">0</span>     <span class="number">1</span>   <span class="number">6</span>   <span class="number">3</span>  <span class="literal">TRUE</span>   <span class="number">0</span>        <span class="number">0</span>        <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>   <span class="number">0.0</span></span><br><span class="line"><span class="number">73</span>  <span class="number">3</span> <span class="number">0</span>     <span class="number">1</span>   <span class="number">7</span>   <span class="number">1</span> <span class="literal">FALSE</span>   <span class="number">1</span>        <span class="number">0</span>        <span class="number">1</span>    <span class="number">0</span>    <span class="number">0</span>   <span class="number">1.1</span></span><br><span class="line"><span class="number">74</span>  <span class="number">3</span> <span class="number">0</span>     <span class="number">1</span>   <span class="number">7</span>   <span class="number">2</span> <span class="literal">FALSE</span>   <span class="number">1</span>        <span class="number">0</span>        <span class="number">0</span>    <span class="number">0</span>    <span class="number">1</span>   <span class="number">1.1</span></span><br><span class="line"><span class="number">75</span>  <span class="number">3</span> <span class="number">0</span>     <span class="number">1</span>   <span class="number">7</span>   <span class="number">3</span>  <span class="literal">TRUE</span>   <span class="number">0</span>        <span class="number">0</span>        <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>   <span class="number">0.0</span></span><br><span class="line"><span class="number">76</span>  <span class="number">3</span> <span class="number">0</span>     <span class="number">1</span>   <span class="number">8</span>   <span class="number">1</span> <span class="literal">FALSE</span>   <span class="number">1</span>        <span class="number">1</span>        <span class="number">0</span>    <span class="number">0</span>    <span class="number">0</span>   <span class="number">1.2</span></span><br><span class="line">   STR</span><br><span class="line"><span class="number">1</span>  <span class="number">101</span></span><br><span class="line"><span class="number">2</span>  <span class="number">101</span></span><br><span class="line"><span class="number">3</span>  <span class="number">101</span></span><br><span class="line"><span class="number">4</span>  <span class="number">102</span></span><br><span class="line"><span class="number">5</span>  <span class="number">102</span></span><br><span class="line"><span class="number">6</span>  <span class="number">102</span></span><br><span class="line"><span class="number">7</span>  <span class="number">103</span></span><br><span class="line"><span class="number">8</span>  <span class="number">103</span></span><br><span class="line"><span class="number">9</span>  <span class="number">103</span></span><br><span class="line"><span class="number">10</span> <span class="number">104</span></span><br><span class="line"><span class="number">11</span> <span class="number">104</span></span><br><span class="line"><span class="number">12</span> <span class="number">104</span></span><br><span class="line"><span class="number">13</span> <span class="number">105</span></span><br><span class="line"><span class="number">14</span> <span class="number">105</span></span><br><span class="line"><span class="number">15</span> <span class="number">105</span></span><br><span class="line"><span class="number">16</span> <span class="number">106</span></span><br><span class="line"><span class="number">17</span> <span class="number">106</span></span><br><span class="line"><span class="number">18</span> <span class="number">106</span></span><br><span class="line"><span class="number">19</span> <span class="number">107</span></span><br><span class="line"><span class="number">20</span> <span class="number">107</span></span><br><span class="line"><span class="number">21</span> <span class="number">107</span></span><br><span class="line"><span class="number">22</span> <span class="number">108</span></span><br><span class="line"><span class="number">23</span> <span class="number">108</span></span><br><span class="line"><span class="number">24</span> <span class="number">108</span></span><br><span class="line"><span class="number">25</span> <span class="number">109</span></span><br><span class="line"><span class="number">26</span> <span class="number">109</span></span><br><span class="line"><span class="number">27</span> <span class="number">109</span></span><br><span class="line"><span class="number">28</span> <span class="number">201</span></span><br><span class="line"><span class="number">29</span> <span class="number">201</span></span><br><span class="line"><span class="number">30</span> <span class="number">201</span></span><br><span class="line"><span class="number">31</span> <span class="number">202</span></span><br><span class="line"><span class="number">32</span> <span class="number">202</span></span><br><span class="line"><span class="number">33</span> <span class="number">202</span></span><br><span class="line"><span class="number">34</span> <span class="number">203</span></span><br><span class="line"><span class="number">35</span> <span class="number">203</span></span><br><span class="line"><span class="number">36</span> <span class="number">203</span></span><br><span class="line"><span class="number">37</span> <span class="number">204</span></span><br><span class="line"><span class="number">38</span> <span class="number">204</span></span><br><span class="line"><span class="number">39</span> <span class="number">204</span></span><br><span class="line"><span class="number">40</span> <span class="number">205</span></span><br><span class="line"><span class="number">41</span> <span class="number">205</span></span><br><span class="line"><span class="number">42</span> <span class="number">205</span></span><br><span class="line"><span class="number">43</span> <span class="number">206</span></span><br><span class="line"><span class="number">44</span> <span class="number">206</span></span><br><span class="line"><span class="number">45</span> <span class="number">206</span></span><br><span class="line"><span class="number">46</span> <span class="number">207</span></span><br><span class="line"><span class="number">47</span> <span class="number">207</span></span><br><span class="line"><span class="number">48</span> <span class="number">207</span></span><br><span class="line"><span class="number">49</span> <span class="number">208</span></span><br><span class="line"><span class="number">50</span> <span class="number">208</span></span><br><span class="line"><span class="number">51</span> <span class="number">208</span></span><br><span class="line"><span class="number">52</span> <span class="number">209</span></span><br><span class="line"><span class="number">53</span> <span class="number">209</span></span><br><span class="line"><span class="number">54</span> <span class="number">209</span></span><br><span class="line"><span class="number">55</span> <span class="number">301</span></span><br><span class="line"><span class="number">56</span> <span class="number">301</span></span><br><span class="line"><span class="number">57</span> <span class="number">301</span></span><br><span class="line"><span class="number">58</span> <span class="number">302</span></span><br><span class="line"><span class="number">59</span> <span class="number">302</span></span><br><span class="line"><span class="number">60</span> <span class="number">302</span></span><br><span class="line"><span class="number">61</span> <span class="number">303</span></span><br><span class="line"><span class="number">62</span> <span class="number">303</span></span><br><span class="line"><span class="number">63</span> <span class="number">303</span></span><br><span class="line"><span class="number">64</span> <span class="number">304</span></span><br><span class="line"><span class="number">65</span> <span class="number">304</span></span><br><span class="line"><span class="number">66</span> <span class="number">304</span></span><br><span class="line"><span class="number">67</span> <span class="number">305</span></span><br><span class="line"><span class="number">68</span> <span class="number">305</span></span><br><span class="line"><span class="number">69</span> <span class="number">305</span></span><br><span class="line"><span class="number">70</span> <span class="number">306</span></span><br><span class="line"><span class="number">71</span> <span class="number">306</span></span><br><span class="line"><span class="number">72</span> <span class="number">306</span></span><br><span class="line"><span class="number">73</span> <span class="number">307</span></span><br><span class="line"><span class="number">74</span> <span class="number">307</span></span><br><span class="line"><span class="number">75</span> <span class="number">307</span></span><br><span class="line"><span class="number">76</span> <span class="number">308</span></span><br><span class="line"> <span class="punctuation">[</span> reached <span class="string">&#x27;max&#x27;</span> <span class="operator">/</span> getOption<span class="punctuation">(</span><span class="string">&quot;max.print&quot;</span><span class="punctuation">)</span> <span class="operator">-</span><span class="operator">-</span> omitted <span class="number">2624</span> rows <span class="punctuation">]</span></span><br></pre></td></tr></table></figure>

<p>这个数据集 <code>dataset1</code> 包含了受试者的选择行为、试验条件的属性信息以及受试者的特征信息。让我们逐步解释数据集的列：</p>
<ul>
<li><strong>ID</strong>: 受试者的唯一标识符。</li>
<li><strong>F</strong>: 受试者的特征或属性。</li>
<li><strong>BLOCK</strong>: 实验中的块编号。</li>
<li><strong>QES</strong>: 实验中的问题编号。</li>
<li><strong>ALT</strong>: 问题中的备选项编号。</li>
<li><strong>RES</strong>: 受试者的选择结果，TRUE 表示选择备选项 1，FALSE 表示选择备选项 2。</li>
<li><strong>ASC</strong>: 是否选择退出（opt-out）选项。TRUE 表示选择退出，FALSE 表示未选择退出。</li>
<li><strong>Region</strong>: 实验中的地区属性的水平。这里包括了 “region_B” 和 “region_c”。</li>
<li><strong>Eco</strong>: 实验中的生态属性的水平。这里包括了 “More” 和 “Most”。</li>
<li><strong>Price</strong>: 产品的价格。</li>
</ul>
<p>每一行代表了一个试验条件，即一个受试者在特定的实验条件下做出的选择。这些选择行为和试验条件的属性信息可以用于后续的分析，例如评估受试者的偏好、分析不同属性对选择行为的影响等。</p>
<h2 id="接着进行分析"><a href="#接着进行分析" class="headerlink" title="接着进行分析"></a>接着进行分析</h2><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&gt;</span> library<span class="punctuation">(</span>survival<span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> clogout1 <span class="operator">&lt;-</span> clogit<span class="punctuation">(</span>RES <span class="operator">~</span> ASC <span class="operator">+</span> region_B <span class="operator">+</span> region_c <span class="operator">+</span> More <span class="operator">+</span> Most <span class="operator">+</span> Price <span class="operator">+</span> strata<span class="punctuation">(</span>STR<span class="punctuation">)</span><span class="punctuation">,</span> data <span class="operator">=</span> dataset1<span class="punctuation">)</span></span><br></pre></td></tr></table></figure>

<p>这段代码使用了 R 语言中的 <code>survival</code> 包中的 <code>clogit()</code> 函数，该函数用于拟合条件 logistic 回归模型，也称为 Cox 模型。</p>
<p>让我们一步步解释这段代码：</p>
<ol>
<li><p><code>library(survival)</code>: 这行代码调用了 <code>survival</code> 包，以确保我们可以使用其中的函数，其中包括 <code>clogit()</code> 函数。</p>
</li>
<li><p><code>clogout1 &lt;- clogit(RES ~ ASC + region_B + region_c + More + Most + Price + strata(STR), data = dataset1)</code>: 这行代码拟合了一个条件 logistic 回归模型。让我们逐个解释其中的部分：</p>
<ul>
<li><p><code>clogout1 &lt;-</code>: 这表示将模型拟合的结果赋值给变量 <code>clogout1</code>。</p>
</li>
<li><p><code>clogit()</code>: 这是拟合条件 logistic 回归模型的函数。</p>
</li>
<li><p><code>RES ~ ASC + region_B + region_c + More + Most + Price + strata(STR)</code>: 这是模型的公式，指定了因变量和自变量。在这个公式中，<code>RES</code> 是因变量，代表受试者的选择结果；<code>ASC</code>、<code>region_B</code>、<code>region_c</code>、<code>More</code>、<code>Most</code> 和 <code>Price</code> 是自变量，分别代表受试者的属性和试验条件；<code>strata(STR)</code> 指定了分层变量，用于处理可能的分层效应。</p>
</li>
<li><p><code>data = dataset1</code>: 这是数据集参数，指定了模型拟合所用的数据集，即你之前生成的数据集 <code>dataset1</code>。</p>
</li>
</ul>
</li>
</ol>
<p>综上所述，这行代码用于拟合一个条件 logistic 回归模型，以探究自变量（属性和试验条件）如何影响因变量（受试者的选择结果）。</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&gt;</span> clogout1</span><br><span class="line">Call<span class="operator">:</span></span><br><span class="line">clogit<span class="punctuation">(</span>RES <span class="operator">~</span> ASC <span class="operator">+</span> region_B <span class="operator">+</span> region_c <span class="operator">+</span> More <span class="operator">+</span> Most <span class="operator">+</span> Price <span class="operator">+</span> </span><br><span class="line">    strata<span class="punctuation">(</span>STR<span class="punctuation">)</span><span class="punctuation">,</span> data <span class="operator">=</span> dataset1<span class="punctuation">)</span></span><br><span class="line"></span><br><span class="line">            coef <span class="built_in">exp</span><span class="punctuation">(</span>coef<span class="punctuation">)</span> se<span class="punctuation">(</span>coef<span class="punctuation">)</span>      z        p</span><br><span class="line">ASC      <span class="operator">-</span><span class="number">2.0756</span>    <span class="number">0.1255</span>   <span class="number">0.7772</span> <span class="operator">-</span><span class="number">2.671</span>  <span class="number">0.00757</span></span><br><span class="line">region_B <span class="operator">-</span><span class="number">0.5535</span>    <span class="number">0.5750</span>   <span class="number">0.1328</span> <span class="operator">-</span><span class="number">4.169</span> <span class="number">3.06e-05</span></span><br><span class="line">region_c <span class="operator">-</span><span class="number">0.2335</span>    <span class="number">0.7918</span>   <span class="number">0.1266</span> <span class="operator">-</span><span class="number">1.845</span>  <span class="number">0.06504</span></span><br><span class="line">More      <span class="number">0.2086</span>    <span class="number">1.2319</span>   <span class="number">0.1361</span>  <span class="number">1.533</span>  <span class="number">0.12527</span></span><br><span class="line">Most      <span class="number">0.3794</span>    <span class="number">1.4615</span>   <span class="number">0.1236</span>  <span class="number">3.071</span>  <span class="number">0.00213</span></span><br><span class="line">Price     <span class="number">1.6625</span>    <span class="number">5.2726</span>   <span class="number">0.6958</span>  <span class="number">2.390</span>  <span class="number">0.01687</span></span><br><span class="line"></span><br><span class="line">Likelihood ratio test<span class="operator">=</span><span class="number">47.47</span>  on <span class="number">6</span> df<span class="punctuation">,</span> p<span class="operator">=</span><span class="number">1.507e-08</span></span><br><span class="line">n<span class="operator">=</span> <span class="number">2700</span><span class="punctuation">,</span> number of events<span class="operator">=</span> <span class="number">900</span> </span><br></pre></td></tr></table></figure>

<p>这个结果是条件 logistic 回归模型的拟合结果，包括了自变量的系数估计、指数化系数、标准误、z值、p值以及模型的拟合统计信息。</p>
<p>让我们逐个解释结果：</p>
<ol>
<li><p><strong>Call</strong>: 显示了模型的调用方式，包括了模型的公式和使用的数据集。</p>
</li>
<li><p><strong>coef</strong>: 这一列显示了模型中每个自变量的系数估计值。每个系数代表了对数几率的变化，即受试者选择备选项 1 的对数几率随着自变量的变化而变化的幅度。例如，<code>ASC</code> 的系数为 -2.0756，意味着如果受试者选择退出（opt-out），则选择备选项 1 的对数几率降低约 2.0756。</p>
</li>
<li><p><strong>exp(coef)</strong>: 这一列是系数的指数化，代表了对数几率的变化率。指数化系数可以解释为当自变量的一个单位变化时，选择备选项 1 的几率相对于基准情况的变化率。例如，<code>region_B</code> 的指数化系数为 0.5750，意味着地区 B 相对于基准地区的受试者选择备选项 1 的几率降低了大约 42.5%。</p>
</li>
<li><p><strong>se(coef)</strong>: 这一列是系数的标准误，表示系数估计值的不确定性。</p>
</li>
<li><p><strong>z</strong>: 这一列是 z 值，是系数估计值与其标准误之比。z 值越大，表示系数估计值与零的偏差越大，从而系数越显著。</p>
</li>
<li><p><strong>p</strong>: 这一列是 p 值，代表了系数的显著性。p 值表示在零假设下观察到当前 z 值或更极端的情况的概率。通常，若 p 值小于显著性水平（通常设为 0.05），则认为系数是显著的。例如，<code>ASC</code> 和 <code>region_B</code> 的 p 值都小于 0.05，说明这两个变量对选择结果的影响是显著的。</p>
</li>
<li><p><strong>Likelihood ratio test</strong>: 这部分显示了模型的拟合统计信息，包括似然比检验的结果。Likelihood ratio test 给出了模型与只包含截距的模型相比是否更好的信息。在这里，Likelihood ratio test 的 p 值非常小（接近 0），说明这个模型是显著的，自变量的加入使模型的拟合更好。</p>
</li>
<li><p><strong>n</strong>: 数据集的观测数。</p>
</li>
<li><p><strong>number of events</strong>: 发生事件的数量，通常是指选择备选项 1 的数量。</p>
</li>
</ol>
<p>综上所述，这个结果提供了关于自变量对选择结果的影响的信息，包括了每个自变量的估计效应大小、显著性以及模型的拟合统计信息。</p>
<p>具体而言，对于条件 logistic 回归中的系数解释，通常有以下几个方面：</p>
<ol>
<li><strong>系数的符号</strong>: 系数的符号表示自变量对被解释变量的影响方向。正系数表示自变量的增加与被解释变量的增加相关，负系数则表示自变量的增加与被解释变量的减少相关。</li>
<li><strong>系数的大小</strong>: 系数的绝对值越大，表示自变量对被解释变量的影响越大。</li>
<li><strong>指数化系数</strong>: 系数的指数化提供了更直观的解释。指数化系数大于 1 表示自变量的增加增加了选择某一类别的几率，小于 1 表示自变量的增加降低了选择某一类别的几率。例如，指数化系数为 1.2 意味着选择某一类别的几率增加了 20%。</li>
<li><strong>显著性</strong>: 系数的显著性通常由 p 值来衡量。如果 p 值小于显著性水平（通常设为 0.05），则认为系数是显著的，即自变量对被解释变量有显著影响。</li>
<li><strong>模型的拟合统计信息</strong>: 还需要关注模型的拟合统计信息，比如似然比检验的结果，以确定模型是否显著，以及模型对数据的拟合程度如何。</li>
</ol>
<p>总的来说，条件 logistic 回归分析的结果解释与普通 logistic 回归类似，都需要考虑系数的方向、大小、显著性以及指数化系数，以全面了解自变量对被解释变量的影响。</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gofm<span class="punctuation">(</span>clogout1<span class="punctuation">)</span></span><br></pre></td></tr></table></figure>

<p>这段代码 <code>gofm(clogout1)</code> 是用来计算条件 logistic 回归模型的拟合度指标的。以下是结果的解释：</p>
<ul>
<li><p><strong>Rho-squared (R^2)</strong>: Rho-squared 表示模型对数据的解释力度，类似于普通 logistic 回归中的 Cox and Snell R^2 或 Nagelkerke R^2。它衡量了模型解释了多少观测数据的变异性。在这个结果中，Rho-squared 为 0.024，表示模型能够解释总变异性的约 2.4%。</p>
</li>
<li><p><strong>Adjusted Rho-squared (调整 R^2)</strong>: 调整 Rho-squared 考虑了模型的复杂度，尤其是自变量的数量。它通过引入惩罚项来调整 Rho-squared，以防止过度拟合。在这个结果中，调整 Rho-squared 为 0.018。</p>
</li>
<li><p><strong>Akaike information criterion (AIC) 和 Bayesian information criterion (BIC)</strong>: AIC 和 BIC 是衡量模型拟合度和复杂度的指标，通常用于比较不同模型的好坏。AIC 和 BIC 的数值越小越好，表示模型对数据的拟合较好且具有较低的复杂度。在这个结果中，AIC 为 1942.032，BIC 为 1970.846。</p>
</li>
<li><p><strong>Number of coefficients (系数个数)</strong>: 表示模型中自变量的个数，不包括截距。在这个结果中，模型共有 6 个系数。</p>
</li>
<li><p><strong>Log likelihood (对数似然)</strong>: 对数似然是衡量模型对数据拟合程度的指标。开始和收敛时的对数似然值分别为 -988.7511 和 -965.0159。对数似然值越高，表示模型对数据的拟合越好。</p>
</li>
</ul>
<p>这些拟合度指标可以帮助评估条件 logistic 回归模型的拟合程度和预测能力，以及与其他模型的比较。</p>
<h2 id="支付边际意愿"><a href="#支付边际意愿" class="headerlink" title="支付边际意愿"></a>支付边际意愿</h2><p>边际意愿支付（Marginal Willingness to Pay，MWTP）是指消费者愿意为某一单位增加的产品或服务而支付的额外费用。在经济学中，MWTP 是衡量消费者对产品或服务特征变化的经济价值的指标之一。它可以用来评估消费者对产品或服务特征的偏好程度，并且可以帮助决策者做出相关决策。</p>
<p>MWTP 通常与离散选择模型（如条件 logistic 回归模型）一起使用，这些模型可以估计不同产品或服务特征对消费者选择的影响。通过估计模型参数，可以计算出不同特征变化对消费者支付意愿的影响，即 MWTP。MWTP 可以用于定价策略制定、市场定位、产品开发等方面的决策，帮助企业更好地满足消费者需求并提高产品竞争力。</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">&gt;</span> <span class="comment"># 提取模型系数</span></span><br><span class="line"><span class="operator">&gt;</span> coefficients <span class="operator">&lt;-</span> coef<span class="punctuation">(</span>clogout1<span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> </span><br><span class="line"><span class="operator">&gt;</span> <span class="comment"># 定义非货币变量</span></span><br><span class="line"><span class="operator">&gt;</span> nonmonetary.variables <span class="operator">&lt;-</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="string">&quot;Reg_B&quot;</span><span class="punctuation">,</span> <span class="string">&quot;Reg_C&quot;</span><span class="punctuation">,</span> <span class="string">&quot;More&quot;</span><span class="punctuation">,</span> <span class="string">&quot;Most&quot;</span><span class="punctuation">,</span> <span class="string">&quot;More:F&quot;</span><span class="punctuation">,</span> <span class="string">&quot;Most:F&quot;</span><span class="punctuation">)</span></span><br><span class="line"><span class="operator">&gt;</span> </span><br><span class="line"><span class="operator">&gt;</span> <span class="comment"># 提取非货币变量的系数</span></span><br><span class="line"><span class="operator">&gt;</span> nonmonetary.coefficients <span class="operator">&lt;-</span> coefficients<span class="punctuation">[</span><span class="built_in">names</span><span class="punctuation">(</span>coefficients<span class="punctuation">)</span> <span class="operator">%in%</span> nonmonetary.variables<span class="punctuation">]</span></span><br><span class="line"><span class="operator">&gt;</span> </span><br><span class="line"><span class="operator">&gt;</span> <span class="comment"># 计算边际意愿支付</span></span><br><span class="line"><span class="operator">&gt;</span> mwtp_values <span class="operator">&lt;-</span> nonmonetary.coefficients <span class="operator">*</span> <span class="operator">-</span><span class="number">1</span></span><br><span class="line"><span class="operator">&gt;</span> </span><br><span class="line"><span class="operator">&gt;</span> <span class="comment"># 打印结果</span></span><br><span class="line"><span class="operator">&gt;</span> print<span class="punctuation">(</span>mwtp_values<span class="punctuation">)</span></span><br><span class="line">      Reg_B       Reg_C        More        Most      More<span class="operator">:</span><span class="built_in">F</span>      Most<span class="operator">:</span><span class="built_in">F</span> </span><br><span class="line"> <span class="number">0.55355567</span>  <span class="number">0.23337429</span> <span class="operator">-</span><span class="number">0.28620897</span> <span class="operator">-</span><span class="number">0.39269329</span>  <span class="number">0.16692382</span>  <span class="number">0.02794701</span> </span><br></pre></td></tr></table></figure>

<p>这段代码执行了以下操作：</p>
<ol>
<li><p><strong>提取模型系数</strong>：使用 <code>coef</code> 函数提取了逻辑斯蒂回归模型 <code>clogout1</code> 中的系数，并将其存储在 <code>coefficients</code> 变量中。</p>
</li>
<li><p><strong>定义非货币变量</strong>：定义了非货币变量的名称列表，即 <code>Reg_B</code>、<code>Reg_C</code>、<code>More</code>、<code>Most</code>、<code>More:F</code> 和 <code>Most:F</code>，存储在 <code>nonmonetary.variables</code> 中。</p>
</li>
<li><p><strong>提取非货币变量的系数</strong>：从模型系数中筛选出非货币变量的系数，通过将模型系数的名称与非货币变量列表进行匹配，从而得到非货币变量的系数。</p>
</li>
<li><p><strong>计算边际意愿支付</strong>：将提取的非货币变量系数乘以 -1，以计算其边际意愿支付。这里乘以 -1 是因为边际意愿支付是非货币变量对选择概率的影响，而逻辑斯蒂回归模型返回的是对数几率，系数的正负号表示了变量对选择概率的正向或负向影响。</p>
</li>
<li><p><strong>打印结果</strong>：将计算得到的边际意愿支付值打印出来，结果显示了每个非货币变量对选择概率的影响。在这个例子中，负值表示随着该变量的增加，选择概率下降，正值表示选择概率增加。</p>
</li>
</ol>
<p>综上所述，该代码段提取了逻辑斯蒂回归模型中非货币变量的系数，并计算了它们的边际意愿支付，最后将结果打印出来，以便进行进一步解释和分析。</p>
<p>这些结果是逻辑斯蒂回归模型中非货币变量的边际意愿支付值。边际意愿支付是指增加或减少一个单位的非货币变量（即这里的 <code>Reg_B</code>、<code>Reg_C</code>、<code>More</code>、<code>Most</code>、<code>More:F</code> 和 <code>Most:F</code>）对选择概率的影响。</p>
<ul>
<li><code>Reg_B</code> 的边际意愿支付是约 0.554，表示当 <code>Reg_B</code> 变量的值增加一个单位时，选择概率增加约为 0.554 个单位。</li>
<li><code>Reg_C</code> 的边际意愿支付是约 0.233，表示当 <code>Reg_C</code> 变量的值增加一个单位时，选择概率增加约为 0.233 个单位。</li>
<li><code>More</code> 的边际意愿支付是约 -0.286，表示当 <code>More</code> 变量的值增加一个单位时，选择概率减少约为 0.286 个单位。</li>
<li><code>Most</code> 的边际意愿支付是约 -0.393，表示当 <code>Most</code> 变量的值增加一个单位时，选择概率减少约为 0.393 个单位。</li>
<li><code>More:F</code> 的边际意愿支付是约 0.167，表示当 <code>More:F</code> 变量的值增加一个单位时，选择概率增加约为 0.167 个单位。</li>
<li><code>Most:F</code> 的边际意愿支付是约 0.028，表示当 <code>Most:F</code> 变量的值增加一个单位时，选择概率增加约为 0.028 个单位。</li>
</ul>
<p>这些值提供了关于非货币因素对选择概率的影响方向和大小的重要信息，可以帮助解释模型中的变量效应。</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment"># Calculating the marginal willingness to pay</span></span><br><span class="line"><span class="operator">&gt;</span> mwtp<span class="punctuation">(</span>output <span class="operator">=</span> clogout1<span class="punctuation">,</span> monetary.variables <span class="operator">=</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="string">&quot;Price&quot;</span><span class="punctuation">)</span><span class="punctuation">,</span></span><br><span class="line"><span class="operator">+</span>      nonmonetary.variables <span class="operator">=</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="string">&quot;Reg_B&quot;</span><span class="punctuation">,</span> <span class="string">&quot;Reg_C&quot;</span><span class="punctuation">,</span> <span class="string">&quot;More&quot;</span><span class="punctuation">,</span> <span class="string">&quot;Most&quot;</span><span class="punctuation">,</span> <span class="string">&quot;More:F&quot;</span><span class="punctuation">,</span> <span class="string">&quot;Most:F&quot;</span><span class="punctuation">)</span><span class="punctuation">,</span> </span><br><span class="line"><span class="operator">+</span>      confidence.level <span class="operator">=</span> <span class="number">0.90</span><span class="punctuation">,</span> seed <span class="operator">=</span> <span class="number">987</span><span class="punctuation">)</span></span><br></pre></td></tr></table></figure>

<p>这段代码使用 <code>mwtp</code> 函数计算了逻辑斯蒂回归模型 <code>clogout1</code> 中非货币变量（<code>Reg_B</code>、<code>Reg_C</code>、<code>More</code>、<code>Most</code>、<code>More:F</code> 和 <code>Most:F</code>）的边际意愿支付。具体来说：</p>
<ul>
<li><code>output = clogout1</code>：指定了要使用的逻辑斯蒂回归模型对象。</li>
<li><code>monetary.variables = c(&quot;Price&quot;)</code>：指定了货币变量，这里是 <code>Price</code>。</li>
<li><code>nonmonetary.variables = c(&quot;Reg_B&quot;, &quot;Reg_C&quot;, &quot;More&quot;, &quot;Most&quot;, &quot;More:F&quot;, &quot;Most:F&quot;)</code>：指定了非货币变量，即要计算边际意愿支付的变量。</li>
<li><code>confidence.level = 0.90</code>：设置了置信水平为 90%。</li>
<li><code>seed = 987</code>：设置了随机种子，用于生成随机数以进行置信区间计算。</li>
</ul>
<p>这段代码的目的是为了获取非货币变量的边际意愿支付值，以了解这些变量对选择概率的影响程度。</p>
<p>结果为：</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">            MWTP        <span class="number">5</span><span class="operator">%       95%</span></span><br><span class="line">Reg_B   <span class="number">0.332756</span>  <span class="number">0.163657</span>  <span class="number">0.974535</span></span><br><span class="line">Reg_C   <span class="number">0.140287</span>  <span class="number">0.010791</span>  <span class="number">0.492134</span></span><br><span class="line">More   <span class="operator">-</span><span class="number">0.172047</span> <span class="operator">-</span><span class="number">0.561804</span> <span class="operator">-</span><span class="number">0.004704</span></span><br><span class="line">Most   <span class="operator">-</span><span class="number">0.236058</span> <span class="operator">-</span><span class="number">0.748183</span> <span class="operator">-</span><span class="number">0.072031</span></span><br><span class="line">More<span class="operator">:</span><span class="built_in">F</span>  <span class="number">0.100342</span> <span class="operator">-</span><span class="number">0.118155</span>  <span class="number">0.463658</span></span><br><span class="line">Most<span class="operator">:</span><span class="built_in">F</span>  <span class="number">0.016800</span> <span class="operator">-</span><span class="number">0.216725</span>  <span class="number">0.272925</span></span><br><span class="line"></span><br><span class="line">method <span class="operator">=</span> Krinsky and Robb </span><br></pre></td></tr></table></figure>

<p>这个结果显示了非货币变量的边际意愿支付（Marginal Willingness to Pay, MWTP）以及它们的95%置信区间。下面是对结果的解释：</p>
<ul>
<li><p><strong>Reg_B</strong>：每单位增加 Reg_B（假设是二元变量）的水平，对选择概率的增加大约为0.333。95%的置信区间在0.164到0.975之间，表示这个效应是显著的。</p>
</li>
<li><p><strong>Reg_C</strong>：每单位增加 Reg_C 的水平，对选择概率的增加大约为0.140。95%的置信区间在0.011到0.492之间，也表明这个效应是显著的。</p>
</li>
<li><p><strong>More</strong>：每单位增加 More 的水平，对选择概率的减少约为0.172。95%的置信区间在-0.562到-0.005之间，表示这个效应是显著的。这里的负值表示选择概率随着 More 的增加而减少。</p>
</li>
<li><p><strong>Most</strong>：每单位增加 Most 的水平，对选择概率的减少约为0.236。95%的置信区间在-0.748到-0.072之间，也表明这个效应是显著的。同样，这里的负值表示选择概率随着 Most 的增加而减少。</p>
</li>
<li><p><strong>More:F</strong>：这个是 More 的交互作用效应，每单位增加 More:F 的水平，对选择概率的增加约为0.100。95%的置信区间在-0.118到0.464之间，可能因为包含零点的置信区间，效应在统计上不显著。</p>
</li>
<li><p><strong>Most:F</strong>：这个是 Most 的交互作用效应，每单位增加 Most:F 的水平，对选择概率的增加约为0.017。95%的置信区间在-0.217到0.273之间，同样可能因为包含零点的置信区间，效应在统计上不显著。</p>
</li>
</ul>
<p>最后，”method &#x3D; Krinsky and Robb” 表示计算边际意愿支付的方法是基于 Krinsky and Robb 方法。</p>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/" rel="tag"># 数据分析</a>
              <a href="/tags/%E5%AE%A2%E6%88%B7%E5%88%86%E6%9E%90/" rel="tag"># 客户分析</a>
              <a href="/tags/%E7%BB%9F%E8%AE%A1/" rel="tag"># 统计</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2024/03/09/%E5%A4%A7%E5%9E%8B%E7%BB%84%E7%BB%87%E4%B8%AD%E7%9A%84%E5%AE%A2%E6%88%B7%E5%88%86%E6%9E%90-01%EF%BC%9A%E4%BB%8B%E7%BB%8D%E4%B8%8E%E6%95%B0%E6%8D%AE%E6%94%B6%E9%9B%86/" rel="prev" title="大型组织中的客户分析-01：介绍与数据收集">
                  <i class="fa fa-chevron-left"></i> 大型组织中的客户分析-01：介绍与数据收集
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2024/03/12/%E6%96%B9%E5%B7%AE%EF%BC%8C%E6%A0%87%E5%87%86%E5%B7%AE%EF%BC%8Cz-score%E5%92%8CCV/" rel="next" title="方差，标准差，z-score和CV">
                  方差，标准差，z-score和CV <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Ye Jiu</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/pisces/" rel="noopener" target="_blank">NexT.Pisces</a>
  </div>

    </div>
  </footer>

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/next-theme-pjax/0.5.0/pjax.min.js" integrity="sha256-3NkoLDrmHLTYj7csHIZSr0MHAFTXth7Ua/DDt4MRUAg=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script><script src="/js/pjax.js"></script>

  





  




  

  <script class="next-config" data-name="enableMath" type="application/json">true</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"ams","js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script>
<script src="/js/third-party/math/mathjax.js"></script>



</body>
</html>
